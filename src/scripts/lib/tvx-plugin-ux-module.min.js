/*
 * TVX Plugin UX v0.0.68 (Module)
 * (c) 2023 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define(["jquery"],b)}else{if(typeof module=="object"&&module.exports){module.exports=b(require("jquery"))}else{a.tvx=b(a.jQuery)}}}(this,function(i){var n={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.31",SUFFIX:null,DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",AFK_DELAY:8000,SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ID:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,LEAVE:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,SUSPEND:0,SECURE:0,APP:null};var o={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_CURSOR_OFF:"tvx-cursor-off",CLASS_IMMERSIVE:"tvx-immersive",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameborder='0' scrolling='no' allow='autoplay *;encrypted-media *;fullscreen *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
var a=new function(){var Y=/\\/g;var al=/"/g;var aa=/'/g;var aH=/\n/g;var aE=/\r/g;var W=/\r\n/g;var aC=/\t/g;var af=/\s/g;var ai=/-/g;var aj=/^[A-Za-z0-9._-]+$/;var au=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var aB=/"(\\.|[^"\\])*"/g;var aD=/^\s+|\s+$/g;var aF=/^#?[A-Za-z0-9]+$/;var am=/\s{0,}>\s{0,}/g;var ao=/\s{0,}\/>/g;var an=/\s{0,}<\s{0,}/g;var aq=aH;var ap=aE;var at=/\s{2,}/g;var S=/&/g;var ae=al;var X=aa;var ak=/</g;var ac=/>/g;var ax=/&quot;/g;var aw=/&#39;/g;var av=/&lt;/g;var aA=/&gt;/g;var az=/&amp;/g;var T=/\+/g;var V=/\//g;var U=/=/g;var Z=/[^A-Za-z0-9\+\/\=]/g;var ab=ai;var ar=/_/g;var aI=/,/g;var ag=/\./g;var ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var ah=window.location.protocol==="https:";var aG=function(aJ,aL){if(aJ&&aL){var aK=window.location.pathname;aK=aK.substring(0,aK.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+aK}else{if(aJ){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"
};var ay=function(aJ){return aJ!=null?aJ.replace(Y,"\\\\").replace(al,'\\"').replace(aH,"\\n"):""};this.createVersion=function(aL){if(this.isFullStr(aL)){var aN=aL.split(".");if(aN.length==3){var aK=this.strToNum(aN[0],-1);var aJ=this.strToNum(aN[1],-1);var aM=this.strToNum(aN[2],-1);if(aK>=0&&aJ>=0&&aM>=0){return{major:aK,minor:aJ,patch:aM}}}}return null};this.checkVersion=function(aM,aL){var aK=this.createVersion(aL);if(aK!=null){var aJ=this.createVersion(aM);if(aJ!=null){if(aJ.major==aK.major){if(aJ.minor==aK.minor){return aJ.patch>=aK.patch}return aJ.minor>aK.minor}return aJ.major>aK.major}return false}return true};this.createKey=function(aN,aL){if(aN==null){aN=4}if(aL==null){aL=10}var aK="";for(var aM=0;aM<aN;aM++){var aJ=0;if(aL==0){aJ=Math.round(Math.random()*9)}else{if(aL==1){aJ=10+Math.round(Math.random()*51)}else{if(aL==2){aJ=10+Math.round(Math.random()*25)}else{if(aL==3){aJ=36+Math.round(Math.random()*25)}else{aJ=Math.round(Math.random()*61)}}}}if(aJ>=0&&aJ<=9){aK+=""+aJ}if(aJ>=10&&aJ<=35){aK+=String.fromCharCode(aJ+55)
}if(aJ>=36&&aJ<=61){aK+=String.fromCharCode(aJ+61)}}return aK};this.isFullStr=function(aJ){return aJ!=null&&typeof aJ=="string"&&aJ.length>0};this.isBool=function(aJ){if(aJ!=null&&typeof aJ=="boolean"){return true}return this.isFullStr(aJ)};this.isNum=function(aJ){if(aJ!=null&&typeof aJ=="number"){return true}return this.isFullStr(aJ)&&isFinite(aJ)};this.isArray=function(aJ){if(aJ!=null){return Array.isArray(aJ)}return false};this.isEmpty=function(aK){if(aK!=null){if(typeof aK=="string"){return aK.length==0}var aJ;for(aJ in aK){return false}}return true};this.isValid=function(aK,aJ){if(aK!=null){if(aJ===true){if(typeof aK=="string"){return aK.length>0}}return true}return false};this.isId=function(aJ){return this.isFullStr(aJ)&&aj.test(aJ)};this.isJson=function(aJ){return this.isFullStr(aJ)&&!au.test(aJ.replace(aB,""))};this.isHttpUrl=function(aJ){return this.isFullStr(aJ)&&(aJ.indexOf("http://")==0||aJ.indexOf("https://")==0)};this.strValue=function(aJ){if(aJ!=null){if(typeof aJ=="string"){return aJ
}else{return""+aJ}}return null};this.strFullCheck=function(aK,aJ){return this.isFullStr(aK)?aK:aJ};this.strTrim=function(aJ){return this.isFullStr(aJ)?aJ.replace(aD,""):""};this.strClear=function(aJ){return this.isFullStr(aJ)?aJ.replace(af,""):""};this.strFlatten=function(aJ){return this.isFullStr(aJ)?aJ.replace(aq," ").replace(ap," ").replace(at," "):""};this.strTruncate=function(aJ,aK){return this.isFullStr(aJ)&&aK>0&&aJ.length>aK?aJ.substr(0,aK)+"...":aJ};this.strShuffle=function(aJ){return this.isFullStr(aJ)?aJ.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(aK,aL,aJ){if(this.isFullStr(aK)&&this.isFullStr(aL)){return aK.replace(aL,function(){return aJ!=null?aJ:""})}return aK};this.strReplaceMap=function(aK,aL){if(this.isFullStr(aK)&&aL!=null){for(var aJ in aL){aK=this.strReplace(aK,aJ,aL[aJ])}}return aK};this.strToBool=function(aK,aJ){if(aK!=null&&typeof aK=="boolean"){return aK}return this.isFullStr(aK)?aK=="true":aJ};this.strToNum=function(aK,aJ){if(aK!=null&&typeof aK=="number"){return aK
}return this.isFullStr(aK)&&isFinite(aK)?aK*1:aJ};this.strToAction=function(aJ){return this.isFullStr(aJ)?aJ.toUpperCase().replace(ai,"_"):""};this.strToJsonStr=function(aJ){return this.isFullStr(aJ)?ay(aJ):""};this.strToUrlStr=function(aJ){return this.isFullStr(aJ)?encodeURIComponent(aJ):""};this.strContainsToken=function(aL,aM,aJ,aN){if(this.isFullStr(aL)&&this.isFullStr(aM)){var aK=aL.indexOf(aM);if(aJ==null){aJ=0}if(aN==null){aN=aL.length}return aK>=aJ&&aK<aN}return false};this.strCountToken=function(aM,aN,aK,aO){var aJ=0;if(this.isFullStr(aM)&&this.isFullStr(aN)){var aL=0;if(aK!=null&&aK>=0){aL=aK}while(aL>=0&&aL<aM.length){aL=aM.indexOf(aN,aL);if(aL>=0){aL+=aN.length;if(aO==null||aL<aO){aJ++}}}}return aJ};this.htmlTrim=function(aJ){return this.isFullStr(aJ)?this.strTrim(aJ.replace(am,">").replace(ao,"/>").replace(an,"<").replace(aq," ").replace(ap," ").replace(at," ")):""};this.htmlEscape=function(aJ){return this.isFullStr(aJ)?aJ.replace(S,"&amp;").replace(ae,"&quot;").replace(X,"&#39;").replace(ak,"&lt;").replace(ac,"&gt;"):""
};this.htmlUnescape=function(aJ){return this.isFullStr(aJ)?aJ.replace(ax,'"').replace(aw,"'").replace(av,"<").replace(aA,">").replace(az,"&"):""};this.htmlAttrEscape=function(aJ){return this.isFullStr(aJ)?aJ.replace(ae,"&quot;").replace(X,"&#39;"):""};this.htmlAttrUnescape=function(aJ){return this.isFullStr(aJ)?aJ.replace(ax,'"').replace(aw,"'"):""};this.htmlTextEscape=function(aJ){return this.isFullStr(aJ)?this.htmlEscape(aJ).replace(aH,o.COMMON.HTML.BREAK).replace(aC,o.COMMON.HTML.TAB):""};this.htmlCharacter=function(aJ){return this.isFullStr(aJ)&&aF.test(aJ)?"&"+aJ+";":""};this.base64Encode=function(aR){var aM="";if(this.isFullStr(aR)){var aS,aN,aP;var aL,aQ,aK,aO;var aJ=0;aR=this.utf8Encode(aR);while(aJ<aR.length){aS=aR.charCodeAt(aJ++);aN=aR.charCodeAt(aJ++);aP=aR.charCodeAt(aJ++);aL=aS>>2;aQ=((aS&3)<<4)|(aN>>4);aK=((aN&15)<<2)|(aP>>6);aO=aP&63;if(isNaN(aN)){aK=aO=64}else{if(isNaN(aP)){aO=64}}aM+=ad.charAt(aL)+ad.charAt(aQ)+ad.charAt(aK)+ad.charAt(aO)}}return aM};this.base64EncodeUrl=function(aJ){return this.isFullStr(aJ)?this.base64Encode(aJ).replace(T,"-").replace(V,"_").replace(U,","):""
};this.base64EncodeId=function(aJ){return this.isFullStr(aJ)?this.base64Encode(aJ).replace(T,"-").replace(V,"_").replace(U,"."):""};this.base64Decode=function(aR){var aM="";if(this.isFullStr(aR)){var aS,aN,aP;var aL,aQ,aK,aO;var aJ=0;aR=aR.replace(Z,"");while(aJ<aR.length){aL=ad.indexOf(aR.charAt(aJ++));aQ=ad.indexOf(aR.charAt(aJ++));aK=ad.indexOf(aR.charAt(aJ++));aO=ad.indexOf(aR.charAt(aJ++));aS=(aL<<2)|(aQ>>4);aN=((aQ&15)<<4)|(aK>>2);aP=((aK&3)<<6)|aO;aM+=String.fromCharCode(aS);if(aK!=64){aM+=String.fromCharCode(aN)}if(aO!=64){aM+=String.fromCharCode(aP)}}}return this.utf8Decode(aM)};this.base64DecodeUrl=function(aJ){return this.isFullStr(aJ)?this.base64Decode(aJ.replace(ab,"+").replace(ar,"/").replace(aI,"=")):""};this.base64DecodeId=function(aJ){return this.isFullStr(aJ)?this.base64Decode(aJ.replace(ab,"+").replace(ar,"/").replace(ag,"=")):""};this.utf8Encode=function(aM){var aK="";if(this.isFullStr(aM)){aM=aM.replace(W,"\n");for(var aJ=0;aJ<aM.length;aJ++){var aL=aM.charCodeAt(aJ);
if(aL<128){aK+=String.fromCharCode(aL)}else{if((aL>127)&&(aL<2048)){aK+=String.fromCharCode((aL>>6)|192);aK+=String.fromCharCode((aL&63)|128)}else{aK+=String.fromCharCode((aL>>12)|224);aK+=String.fromCharCode(((aL>>6)&63)|128);aK+=String.fromCharCode((aL&63)|128)}}}}return aK};this.utf8Decode=function(aN){var aK="";if(this.isFullStr(aN)){var aO=0;var aL,aM,aP,aJ;aL=aM=aP=aJ=0;while(aO<aN.length){aL=aN.charCodeAt(aO);if(aL<128){aK+=String.fromCharCode(aL);aO++}else{if((aL>191)&&(aL<224)){aP=aN.charCodeAt(aO+1);aK+=String.fromCharCode(((aL&31)<<6)|(aP&63));aO+=2}else{aP=aN.charCodeAt(aO+1);aJ=aN.charCodeAt(aO+2);aK+=String.fromCharCode(((aL&15)<<12)|((aP&63)<<6)|(aJ&63));aO+=3}}}}return aK};this.createHash=function(aL,aK){var aJ=0;if(this.isFullStr(aL)){if(aK===true){for(var aM=aL.length;aM>=0;aM--){aJ=((aJ<<5)-aJ)+aL.charCodeAt(aM);aJ&=aJ}}else{for(var aM=0;aM<aL.length;aM++){aJ=((aJ<<5)-aJ)+aL.charCodeAt(aM);aJ&=aJ}}}return aJ};this.serialize=function(aJ,aN){if(aJ===undefined){return null
}if(aJ===null){if(aN!=null){return'"'+aN+'":null'}else{return"null"}}var aO=null;var aL=typeof aJ;if(Array.isArray(aJ)){aO="[";var aM=0;for(var aQ=0;aQ<aJ.length;aQ++){var aK=this.serialize(aJ[aQ]);if(aK!=null){if(aM>0){aO+=","}aO+=aK;aM++}}aO+="]"}else{if(aL=="object"){aO="{";var aM=0;for(var aP in aJ){var aK=this.serialize(aJ[aP],aP);if(aK!=null){if(aM>0){aO+=","}aO+=aK;aM++}}aO+="}"}else{if(aL=="string"){aO='"'+ay(aJ)+'"'}else{if(aL=="number"||aL=="boolean"){aO=""+aJ}}}}if(aO!=null){if(aN!=null){return'"'+aN+'":'+aO}else{return aO}}return null};this.deserialize=function(aJ){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(aJ)?JSON.parse(aJ):null}else{return this.isJson(aJ)?new Function("return "+aJ)():null}}catch(aK){return null}};this.isSecureContext=function(){return ah};this.secureUrl=function(aJ){return this.isFullStr(aJ)?aJ.replace("http://","https://"):aJ};this.getPrefixUrl=function(aJ){return aG(false,false)+this.strFullCheck(aJ,"")};this.getHostUrl=function(aJ){return aG(true,false)+"/"+this.strFullCheck(aJ,"")
};this.getPathUrl=function(aJ){return aG(true,true)+"/"+this.strFullCheck(aJ,"")};this.getAbsoluteUrl=function(aJ){if(this.isFullStr(aJ)&&!this.isHttpUrl(aJ)){if(aJ.indexOf("/")==0){return aG(true,false)+aJ}else{return aG(true,true)+"/"+aJ}}return aJ};this.getRootPath=function(aJ,aN){if(this.isFullStr(aJ)){var aM=window.location.pathname;var aL=aM.indexOf(aJ);if(aL>0){var aK=aM.substr(0,aL);if(aN===true){if(aK.indexOf("/")==0){aK=aK.substr(1)}if(aK.lastIndexOf("/")==aK.length-1){aK=aK.substr(0,aK.length-1)}}else{if(aK.indexOf("/")!=0){aK="/"+aK}if(aK.lastIndexOf("/")!=aK.length-1){aK+="/"}}return aK}}return aN===true?"":"/"};this.exprEscape=function(aQ,aP,aV,aW,aR,aU,aM){if(this.isFullStr(aQ)&&typeof aW=="function"){if(this.isFullStr(aP)&&this.isFullStr(aV)&&typeof aR=="function"){if(aQ.indexOf(aP)>=0&&aQ.indexOf(aV)>=0){var aJ="";var aK=aP.length;var aO=aV.length;var aS=aQ.length;var aT=0;var aN=0;var aL=0;while(aN>=0){aN=aQ.indexOf(aP,aT);if(aN>=0){aL=aQ.indexOf(aV,aN);if(aL>0){if(aT<aN){aJ+=aW(aQ.substring(aT,aN),aM)
}if(aN+aK<aL){aJ+=aR(aQ.substring(aN+aK,aL),aM)}aT=aL+aO}else{aT=aN;break}}}if(aT<aS){aJ+=aW(aQ.substring(aT,aS),aM)}if(typeof aU=="function"){aJ+=aU(aM)}return aJ}}return aW(aQ,aM)}return""}};var I=new function(){var X="h:mm/ampm";var ac="h:mm:ss/ampm";var S="mm/dd/yy";var V="MM d, yyyy";var ad="D mm/dd";var T="D mm/dd/yyyy";var Z="DD, MM d, yyyy";var U=", ";var ak=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var ab=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var aj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ae=["January","February","March","April","May","June","July","August","September","October","November","December"];var af=" AM";var al=" PM";var ah=" day";var ag=" days";var aa=" hr";var Y=" min";var W=" sec";var ai=function(an){var ap=an%10;var ao=an%100;if(ap==1&&ao!=11){return"st"}if(ap==2&&ao!=12){return"nd"}if(ap==3&&ao!=13){return"rd"}return"th"};var am=function(ap,aq,an){if(aq.length==an){for(var ao=0;ao<an;ao++){ap[ao]=a.strTrim(aq[ao])
}}};this.applyDictionary=function(ar){if(ar!=null){X=ar.getValueForKey("format:time",X);ac=ar.getValueForKey("format:long_time",ac);S=ar.getValueForKey("format:date",S);V=ar.getValueForKey("format:long_date",V);ad=ar.getValueForKey("format:day",ad);T=ar.getValueForKey("format:long_day",T);Z=ar.getValueForKey("format:full_day",Z);U=ar.getValueForKey("format:separator",U);af=ar.getValueForKey("unit:am",af);al=ar.getValueForKey("unit:pm",al);ah=ar.getValueForKey("unit:day",ah);ag=ar.getValueForKey("unit:days",ag);aa=ar.getValueForKey("unit:hours",aa);Y=ar.getValueForKey("unit:minutes",Y);W=ar.getValueForKey("unit:seconds",W);var aq=ar.getValueForKey("list:day_names","").split(",");var ao=ar.getValueForKey("list:day_long_names","").split(",");var an=ar.getValueForKey("list:month_names","").split(",");var ap=ar.getValueForKey("list:month_long_names","").split(",");am(ak,aq,ak.length);am(ab,ao,ab.length);am(aj,an,aj.length);am(ae,ap,ae.length)}};this.getTimestamp=function(){return new Date().getTime()
};this.getNow=function(){var an=new Date();if(n.DUMMY_DATE!=null){an=new Date(n.DUMMY_DATE.getFullYear(),n.DUMMY_DATE.getMonth(),n.DUMMY_DATE.getDate(),an.getHours(),an.getMinutes(),an.getSeconds())}if(n.TIME_OFFSET!=null&&n.TIME_OFFSET!=0){if(n.TIME_ZONE_OFFSET!=null&&n.TIME_ZONE_OFFSET!=0){return new Date(an.getTime()+n.TIME_OFFSET+n.TIME_ZONE_OFFSET)}else{return new Date(an.getTime()+n.TIME_OFFSET)}}else{if(n.TIME_ZONE_OFFSET!=null&&n.TIME_ZONE_OFFSET!=0){return new Date(an.getTime()+n.TIME_ZONE_OFFSET)}}return an};this.getFormatSeparator=function(){return U};this.getFormattedDateStr=function(aE,aC,an,az,aB){var aq=0;var ar=0;var aA=0;var at=0;var av=0;if(aE==null){aE=new Date(an,az,aB)}if(typeof aE=="number"){aE=new Date(aE)}aq=aE.getDate();ar=aE.getDay();aA=aE.getMonth()+1;at=aE.getMonth();av=aE.getYear()+1900;var aF=aC.replace("ddd",aq+ai(aq)).replace("dd",(aq<10?"0":"")+aq).replace("mm",((aA<10)?"0":"")+aA).replace("yyyy",av).replace("d",aq).replace("m",aA).replace("yy",(""+av).substring(2,4));
var ap=aF.indexOf("D");var ay=aF.indexOf("DD");var ax=aF.indexOf("M");var ao=aF.indexOf("MM");if(ay>=0&&ax<0){return aF.replace("DD",ab[ar])}else{if(ap>=0&&ax<0){return aF.replace("D",ak[ar])}else{if(ao>=0&&ap<0){return aF.replace("MM",ae[at])}else{if(ax>=0&&ap<0){return aF.replace("M",aj[at])}else{if(ap>=0&&ax>=0){var au=null;var aD=null;var aw=null;if(ay>=0){au=aF.substring(0,ay);aD=ab[ar];aw=aF.substring(ay+2,aF.length)}else{if(ap>=0){au=aF.substring(0,ap);aD=ak[ar];aw=aF.substring(ap+1,aF.length)}}if(ap>ax){if(au.indexOf("MM")>=0){au=au.replace("MM",ae[at])}else{if(au.indexOf("M")>=0){au=au.replace("M",aj[at])}}}else{if(aw.indexOf("MM")>=0){aw=aw.replace("MM",ae[at])}else{if(aw.indexOf("M")>=0){aw=aw.replace("M",aj[at])}}}return au+aD+aw}}}}}return aF};this.getDayStr=function(ap,ao,an,aq){return this.getFormattedDateStr(ap,ad,ao,an,aq)};this.getDayLongStr=function(ap,ao,an,aq){return this.getFormattedDateStr(ap,T,ao,an,aq)};this.getDayFullStr=function(ap,ao,an,aq){return this.getFormattedDateStr(ap,Z,ao,an,aq)
};this.getDateStr=function(ap,ao,an,aq){return this.getFormattedDateStr(ap,S,ao,an,aq)};this.getDateLongStr=function(ap,ao,an,aq){return this.getFormattedDateStr(ap,V,ao,an,aq)};this.getFormattedTimeStr=function(ap,aw,ax,aq,ar){var av=0;var at=0;var an=0;if(ap==null){av=ax!=null?ax*1:0;at=aq!=null?aq*1:0;an=ar!=null?ar*1:0}else{if(typeof ap=="number"){ap=new Date(ap)}av=ap.getHours();at=ap.getMinutes();an=ap.getSeconds()}var au=null;var ao=aw.indexOf("/ampm");if(ao>0){aw=aw.substr(0,ao);au=af;if(av>12){au=al;av-=12}}return aw.replace("hh",(av<10?"0":"")+av).replace("mm",(at<10?"0":"")+at).replace("ss",(an<10?"0":"")+an).replace("h",av).replace("m",at).replace("s",an)+(au!=null?au:"")};this.getTimeStr=function(ap,aq,an,ao){return this.getFormattedTimeStr(ap,X,aq,an,ao)};this.getTimeLongStr=function(ap,aq,an,ao){return this.getFormattedTimeStr(ap,ac,aq,an,ao)};this.getRecordingStr=function(an){if(typeof an=="number"){an=new Date(an)}return this.getDayLongStr(an)+U+this.getTimeStr(an)};this.getFormattedDurationStr=function(ao,ar){var an=Math.floor(ao/3600000);
var aq=Math.floor((ao%3600000)/60000);var ap=Math.floor((ao%60000)/1000);ar=a.exprEscape(ar,"[","]",function(at){return at},function(at){if(at.indexOf("h")==0||at.indexOf("H")==0){return an>0?at:""}else{if(at.indexOf("m")==0||at.indexOf("M")==0){return an>0||aq>0?at:""}else{if(at.indexOf("s")==0||at.indexOf("S")==0){return an>0||aq>0||ap>0?at:""}}}});return ar.replace("H","h").replace("M",(an>0?"mm":"m")).replace("S",(an>0||aq>0?"ss":"s")).replace("hh",(an<10?"0":"")+an).replace("mm",((aq<10)?"0":"")+aq).replace("ss",((ap<10)?"0":"")+ap).replace("h",an).replace("m",aq).replace("s",ap)};this.getDurationStr=function(at,aE){if(aE==null){aE="dhms"}var aD=aE.indexOf("D")!=-1;var aw=aE.indexOf("H")!=-1;var aA=aE.indexOf("M")!=-1;var aC=aE.indexOf("S")!=-1;aE=aE.toLowerCase();var az=aE.indexOf("d")!=-1;var aq=aE.indexOf("h")!=-1;var an=aE.indexOf("m")!=-1;var ap=aE.indexOf("s")!=-1;if(aE.indexOf("~")==0){if(at<60000){if(ap){aE="s"}}else{if(at<3600000){if(an){aE="m"}else{if(ap){aE="s"}}}else{if(at<86400000){if(aq){aE="h"
}else{if(an){aE="m"}else{if(ap){aE="s"}}}}else{if(az){aE="d"}else{if(aq){aE="h"}else{if(an){aE="m"}else{if(ap){aE="s"}}}}}}}}if(aE=="d"){var ax=Math.round(at/86400000);return ax==1?ax+ah:ax+ag}if(aE=="h"){return Math.round(at/3600000)+aa}if(aE=="m"){return Math.round(at/60000)+Y}if(aE=="s"){return Math.round(at/1000)+W}var ar=at;var aB=aq||an||ap;var ax=az?(aB?Math.floor(ar/86400000):Math.ceil(ar/86400000)):0;if(az){ar=at%86400000}aB=an||ap;var ay=aq?(aB?Math.floor(ar/3600000):Math.ceil(ar/3600000)):0;if(aq){ar=at%3600000}aB=ap;var au=an?(aB?Math.floor(ar/60000):Math.ceil(ar/60000)):0;if(an){ar=at%60000}var ao=ap?Math.floor(ar/1000):0;var av="";if(az&&(ax>0||aD)){av+=ax+(ax==1?ah:ag)}if(aq&&(ay>0||aw)){if(av.length>0){av+=" "}av+=ay+aa}if(an&&(au>0||aA)){if(av.length>0){av+=" "}av+=au+Y}if(ap&&(ao>0||aC)){if(av.length>0){av+=" "}av+=ao+W}if(ap&&av.length==0){return ao+W}if(an&&av.length==0){return au+Y}if(aq&&av.length==0){return ay+aa}return av};this.getVideoStr=function(ap,aq){if(aq==null){aq=3
}var ao=aq>2?Math.floor(ap/3600000):0;var ar=aq>1?Math.floor((ap%3600000)/60000):0;var an=aq>0?Math.floor(ap%60000/1000):0;if(aq>2){return(ao<10?"0":"")+ao+":"+(ar<10?"0":"")+ar+":"+(an<10?"0":"")+an}else{if(aq>1){return(ar<10?"0":"")+ar+":"+(an<10?"0":"")+an}else{if(aq>0){return(an<10?"0":"")+an}}}return""}};var O=new function(){this.toTimeStr=function(S){return I.getTimeStr(S)};this.toTimeLongStr=function(S){return I.getTimeLongStr(S)};this.toTimeDayStr=function(S){return I.getFormattedDateStr(S,"D")+I.getFormatSeparator()+I.getTimeStr(S)};this.toTimeDayLongStr=function(S){return I.getFormattedDateStr(S,"D")+I.getFormatSeparator()+I.getTimeLongStr(S)};this.toDayStr=function(S){return I.getDayStr(S)};this.toDayLongStr=function(S){return I.getDayLongStr(S)};this.toDayFullStr=function(S){return I.getDayFullStr(S)};this.toDateStr=function(S){return I.getDateStr(S)};this.toDateLongStr=function(S){return I.getDateLongStr(S)};this.toRecordingStr=function(S){return I.getRecordingStr(S)};this.toDayTimeStr=function(S){return I.getDayStr(S)+I.getFormatSeparator()+I.getTimeStr(S)
};this.toDayTimeLongStr=function(S){return I.getDayLongStr(S)+I.getFormatSeparator()+I.getTimeStr(S)};this.toDayTimeFullStr=function(S){return I.getDayFullStr(S)+I.getFormatSeparator()+I.getTimeStr(S)};this.toDateTimeStr=function(S){return I.getDateStr(S)+I.getFormatSeparator()+I.getTimeStr(S)};this.toDateTimeLongStr=function(S){return I.getDateLongStr(S)+I.getFormatSeparator()+I.getTimeStr(S)}};var M=new function(){this.foreach=function(X,T){if(X!=null&&X.properties!=null&&typeof T=="function"){var V=X.properties;if(Array.isArray(V)){for(var W=0;W<V.length;W++){var U=V[W];if(U!=null&&U.key!=null&&U.value!=null){if(T(U.key,U.value)===true){break}}}}else{for(var S in V){var U=V[S];if(U!=null){if(T(S,U)===true){break}}}}}};this.getValue=function(X,T,S){if(X!=null&&X.properties!=null&&a.isFullStr(T)){var V=X.properties;if(Array.isArray(V)){for(var W=0;W<V.length;W++){var U=V[W];if(U!=null&&U.key==T&&U.value!=null){return U.value}}}else{if(V[T]!=null){return V[T]}}}return S!=null?S:null};this.get=function(U,T,S){return a.strValue(this.getValue(U,T,S))
};this.getFullStr=function(U,T,S){return a.strFullCheck(this.getValue(U,T),S)};this.getNum=function(U,T,S){return a.strToNum(this.getValue(U,T),S)};this.getBool=function(U,T,S){return a.strToBool(this.getValue(U,T),S)};this.has=function(U,T,S){return a.isValid(this.getValue(U,T),S)};this.put=function(Y,U,T){if(Y!=null&&Y.properties!=null&&a.isFullStr(U)&&T!=null){var W=Y.properties;if(Array.isArray(W)){var S=false;for(var X=0;X<W.length;X++){var V=W[X];if(V!=null&&V.key==U){S=true;V.value=T;break}}if(!S){W.push({key:U,value:T})}}else{W[U]=T}}};this.remove=function(W,S){if(W!=null&&W.properties!=null&&a.isFullStr(S)){var U=W.properties;if(Array.isArray(U)){for(var V=0;V<U.length;V++){var T=U[V];if(T!=null&&T.key==S){T.value=null;break}}}else{U[S]=null}}};this.clear=function(S){if(S!=null&&S.properties!=null){S.properties={}}};this.count=function(T){var S=0;this.foreach(T,function(){S++});return S};this.extend=function(U,S){if(U!=null&&S!=null){if(U.properties!=null&&S.properties!=null){var T=this;
this.foreach(S,function(W,V){T.put(U,W,V)})}else{if(S.properties!=null){U.properties=S.properties}}}}};var G={STOPPED:1,PLAYING:2,PAUSED:3};var g={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,CONNECTION_UP:600,CONNECTION_DOWN:601,DEBUG:999,UNKNOWN:-1,actionToStr:function(S){switch(S){case this.LEFT:return"Left";case this.RIGHT:return"Right";case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";
case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";case this.VOLUME_DOWN:return"Volume-Down";case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";
case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.CONNECTION_UP:return"Connection-Up";case this.CONNECTION_DOWN:return"Connection-Down";case this.DEBUG:return"Debug"}return"Unknown"},strToAction:function(T){var S=this[a.strToAction(T)];return S!=null?S:this.UNKNOWN},isNavigationAction:function(S){return S==this.LEFT||S==this.RIGHT||S==this.UP||S==this.DOWN||S==this.SCROLL_UP||S==this.SCROLL_DOWN||S==this.SWIPE_LEFT||S==this.SWIPE_RIGHT||S==this.SWIPE_UP||S==this.SWIPE_DOWN
},isBaseAction:function(S){return S==this.EXECUTE||S==this.BACK||this.isNavigationAction(S)},isVideoAction:function(S){return S==this.PLAY||S==this.PAUSE||S==this.STOP||S==this.TOGGLE_PLAY_PAUSE||S==this.FORWARD||S==this.REWIND||S==this.RESTART},isChannelAction:function(S){return S==this.CHANNEL_UP||S==this.CHANNEL_DOWN},isVolumeAction:function(S){return S==this.VOLUME_UP||S==this.VOLUME_DOWN||S==this.MUTE||S==this.UNMUTE||S==this.TOGGLE_MUTE},isNumberAction:function(S){return S==this.KEY_0||S==this.KEY_1||S==this.KEY_2||S==this.KEY_3||S==this.KEY_4||S==this.KEY_5||S==this.KEY_6||S==this.KEY_7||S==this.KEY_8||S==this.KEY_9},isColorAction:function(S){return S==this.RED||S==this.GREEN||S==this.YELLOW||S==this.BLUE},isSystemAction:function(S){return S==this.SYSTEM||S==this.CURSOR_ON||S==this.CURSOR_OFF||S==this.SLEEP||S==this.WAKE_UP||S==this.CONNECTION_UP||S==this.CONNECTION_DOWN}};function x(){var S="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(U,X,W){if(a.isFullStr(U)&&X!=null){var V=encodeURIComponent(X);
if(W!=null){var T=W;if(typeof W=="number"){T=new Date();T.setTime(T.getTime()+W)}if(typeof T.toGMTString=="function"){T=T.toGMTString()}V+=";expires="+T+";"}document.cookie=encodeURIComponent(U)+"="+V}};this.get=function(T,Y){if(a.isFullStr(T)){var V=document.cookie.split(";");for(var X=0;X<V.length;X++){var U=V[X];var W=U.indexOf("=");if(W>0){if(T==decodeURIComponent(a.strTrim(U.substr(0,W)))){return decodeURIComponent(U.substr(W+1))}}}}return Y!=null?Y:null};this.getFullStr=function(T,U){return a.strFullCheck(this.get(T),U)};this.getNum=function(T,U){return a.strToNum(this.get(T),U)};this.getBool=function(T,U){return a.strToBool(this.get(T),U)};this.has=function(T,U){return a.isValid(this.get(T),U)};this.foreach=function(Z){if(typeof Z=="function"){var V=document.cookie.split(";");for(var X=0;X<V.length;X++){var U=V[X];var T=U.indexOf("=");if(T>0){var Y=decodeURIComponent(a.strTrim(U.substr(0,T)));var W=decodeURIComponent(U.substr(T+1));if(Z(Y,W)===true){break}}}}};this.remove=function(T){if(a.isFullStr(T)){this.set(T,"",S)
}};this.clear=function(){var T=this;this.foreach(function(U){T.set(U,"",S)})}}function e(){var ae="exp:";var ad=false;var S=0;var ah=null;var aa=null;var aj=new x();var al=null;var ag=function(){if(al!=null){var an=al;al=null;if(an.length>0){for(var am=0;am<an.length;am++){an[am]()}}}};var V=function(am){if(al==null){al=[]}al.push(am)};var U=function(){if(!ad){ad=true;ag()}};var X=function(am,an){if(an!=null){an*=1;return an>=0&&an<am}return false};var ab=function(){if(S==2&&window.TVXStorageService!=null&&typeof TVXStorageService.pull=="function"){TVXStorageService.pull(function(an,am){if(S==2){ah=an!=null?an:{};if(am!=null){H.logger.error("Pull storage data failed: "+am)}U()}});return true}return false};var T=function(){if(ad&&S==2&&window.TVXStorageService!=null&&typeof TVXStorageService.push=="function"){TVXStorageService.push(ah,function(am){if(am!=null){H.logger.error("Push storage data failed: "+am)}});return true}return false};var Z=function(){if(ad&&S==2&&window.TVXStorageService!=null&&typeof TVXStorageService.clear=="function"){TVXStorageService.clear(function(am){if(am!=null){H.logger.error("Clear storage data failed: "+am)
}});return true}return false};var W=function(){S=1;ah={};aa=null;U()};var ac=function(){S=2;ah={};aa=null;return ab()};var af=function(){S=3;ah=null;var am=true;try{aa=window.localStorage}catch(an){H.logger.warn("Access to local storage failed: "+an);am=false}if(am){U()}return am};var ak=function(){S=4;ah=null;aa=null;U()};var Y=function(){var ao=[];var ap=I.getTimestamp();if(ah!=null){for(var am in ah){if(am!=null&&am.indexOf(ae)==0){if(X(ap,ah[am])){ao.push(am.substr(ae.length))}}}for(var an=0;an<ao.length;an++){delete ah[ao[an]];delete ah[ae+ao[an]]}}else{if(aa!=null){for(var an=0;an<aa.length;an++){var am=aa.key(an);if(am!=null&&am.indexOf(ae)==0){if(X(ap,aa.getItem(am))){ao.push(am.substr(ae.length))}}}for(var an=0;an<ao.length;an++){aa.removeItem(ao[an]);aa.removeItem(ae+ao[an])}}}};var ai=function(){if(!ac()){if(!af()){W()}}};this.set=function(am,ap,ao){if(a.isFullStr(am)&&ap!=null){var an=-1;if(ao!=null){if(typeof ao=="number"){an=new Date().getTime()+ao}else{if(typeof ao=="string"){an=new Date(ao).getTime()
}else{if(typeof ao.getTime=="function"){an=ao.getTime()}}}}if(ah!=null){ah[am]=ap;if(an>=0){ah[ae+am]=an}else{delete ah[ae+am]}T()}else{if(aa!=null){aa.setItem(am,ap);if(an>=0){aa.setItem(ae+am,an)}else{aa.removeItem(ae+am)}}else{aj.set(am,ap,ao)}}}};this.get=function(am,ap){if(a.isFullStr(am)){if(ah!=null){var ao=false;var an=ah[ae+am];if(an!=null){if(X(I.getTimestamp(),an)){ao=true;delete ah[am];delete ah[ae+am]}}if(!ao){var aq=ah[am];if(aq!=null){return aq}}}else{if(aa!=null){var ao=false;var an=aa.getItem(ae+am);if(an!=null){if(X(I.getTimestamp(),an)){ao=true;aa.removeItem(am);aa.removeItem(ae+am)}}if(!ao){var aq=aa.getItem(am);if(aq!=null){return aq}}}else{return aj.get(am,ap)}}}return ap!=null?ap:null};this.getFullStr=function(am,an){return a.strFullCheck(this.get(am),an)};this.getNum=function(am,an){return a.strToNum(this.get(am),an)};this.getBool=function(am,an){return a.strToBool(this.get(am),an)};this.has=function(am,an){return a.isValid(this.get(am),an)};this.foreach=function(ao){if(typeof ao=="function"){if(ah!=null){Y();
for(var am in ah){if(am!=null&&am.indexOf(ae)!=0){if(ao(am,ah[am])===true){break}}}}else{if(aa!=null){Y();for(var an=0;an<aa.length;an++){var am=aa.key(an);if(am!=null&&am.indexOf(ae)!=0){if(ao(am,aa.getItem(am))===true){break}}}}else{aj.foreach(ao)}}}};this.remove=function(am){if(a.isFullStr(am)){if(ah!=null){delete ah[am];delete ah[ae+am];T()}else{if(aa!=null){aa.removeItem(am);aa.removeItem(ae+am)}else{aj.remove(am)}}}};this.clear=function(){if(ah!=null){ah={};Z()}else{if(aa!=null){aa.clear()}else{aj.clear()}}};this.getType=function(){if(ah!=null){return S==2?"service":"cache"}else{if(aa!=null){return"storage"}}return"cookies"};this.setType=function(am){ad=false;if(am=="cache"){W()}else{if(am=="service"){if(!ac()){W()}}else{if(am=="storage"){if(!af()){W()}}else{if(am=="cookies"){ak()}else{U()}}}}};this.isReady=function(){return ad};this.onReady=function(am){if(typeof am=="function"){if(!ad){V(am)}else{am()}}};ai()}function R(T){var S=null;this.set=function(U,V){if(a.isFullStr(U)&&V!=null){if(S==null){S={}
}S[U]=V}};this.get=function(U,V){if(S!=null&&a.isFullStr(U)&&S[U]!=null){return S[U]}return V!=null?V:null};this.getFullStr=function(U,V){return a.strFullCheck(this.get(U),V)};this.getNum=function(U,V){return a.strToNum(this.get(U),V)};this.getBool=function(U,V){return a.strToBool(this.get(U),V)};this.has=function(U,V){return a.isValid(this.get(U),V)};this.foreach=function(V){if(typeof V=="function"){if(S!=null){for(var U in S){if(V(U,S[U])===true){break}}}}};this.remove=function(U){if(S!=null&&a.isFullStr(U)){delete S[U]}};this.clear=function(){S={}};this.create=function(Y){var X={};if(a.isFullStr(Y)){var ab=Y.indexOf("?");if(ab>=0){var W=Y.substr(ab+1).split("&");for(var U=0;U<W.length;U++){var Z=W[U];if(a.isFullStr(Z)){var V=Z.indexOf("=");if(V>0){var aa=Z.substr(0,V);var ac=Z.substr(V+1);X[decodeURIComponent(aa)]=decodeURIComponent(ac)}else{X[decodeURIComponent(Z)]=""}}}}}return X};this.build=function(X,W){var Y=0;var U="";if(S!=null){for(var V in S){var Z=a.strValue(S[V]);if(Y>0){U+=(W!=null?W:"&")
}if(a.isFullStr(Z)){U+=(X===false?V:encodeURIComponent(V))+"="+(X===false?Z:encodeURIComponent(Z))}else{U+=(X===false?V:encodeURIComponent(V))}Y++}}return U};if(T!=null){S=this.create(T)}else{S=this.create(document.URL)}}function f(S,T){this.getValue=function(U){if(a.isFullStr(U)){if(S!=null&&S[U]!=null){return S[U]}if(T!=null&&T[U]!=null){return T[U]}}return null};this.get=function(U){return a.strValue(this.getValue(U))};this.getFullStr=function(U){return a.strFullCheck(this.get(U),null)};this.getNum=function(U){return a.strToNum(this.getValue(U),0)};this.getBool=function(U){return a.strToBool(this.getValue(U),false)};this.has=function(U,V){return a.isValid(this.get(U),V)}}function j(){var S={};this.hasObserver=function(T){return a.isFullStr(T)&&S[T]!=null};this.hasObservers=function(){var T;for(T in S){return true}return false};this.addObserver=function(T,U){if(a.isFullStr(T)&&typeof U=="function"){S[T]=U}};this.removeObserver=function(T){if(a.isFullStr(T)){delete S[T]}};this.onEvent=function(T,U){if(a.isFullStr(T)){if(typeof U=="function"){this.addObserver(T,U)
}else{this.removeObserver(T)}}};this.notifyObserver=function(T,U){if(a.isFullStr(T)&&S[T]!=null){S[T](U)}};this.notifyObservers=function(U){for(var T in S){S[T](U)}};this.clear=function(){S={}}}function Q(){var S={};this.hasObserver=function(U,T){return a.isFullStr(U)&&a.isFullStr(T)&&S[U]!=null&&S[U][T]!=null};this.hasObservers=function(U){if(a.isFullStr(U)&&S[U]!=null){var T;for(T in S[U]){return true}}return false};this.addObserver=function(U,T,V){if(a.isFullStr(U)&&a.isFullStr(T)&&typeof V=="function"){if(S[U]==null){S[U]={}}S[U][T]=V}};this.removeObserver=function(U,T){if(a.isFullStr(U)&&a.isFullStr(T)&&S[U]!=null){delete S[U][T];if(!this.hasObservers(U)){delete S[U]}}};this.onEvent=function(U,T,V){if(a.isFullStr(U)&&a.isFullStr(T)){if(typeof V=="function"){this.addObserver(U,T,V)}else{this.removeObserver(U,T)}}};this.notifyObserver=function(U,T,V){if(a.isFullStr(U)&&a.isFullStr(T)&&S[U]!=null&&S[U][T]!=null){S[U][T](V)}};this.notifyObservers=function(U,V){if(a.isFullStr(U)&&S[U]!=null){for(var T in S[U]){S[U][T](V)
}}};this.clear=function(T){if(a.isFullStr(T)){if(S[T]!=null){S[T]={}}}else{S={}}}}function E(){var T=null;var U=[];var S=null;var V=false;this.delegate=null;this.execute=function(){if(T!=null){clearTimeout(T);T=null}if(S!=null){if(typeof S.action=="function"){S.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(S.action)}}S=null;this.process()}};this.process=function(){if(S==null&&U.length>0){S=U.shift();if(S.action==="stop"&&S.delay==null){V=true;S=null}else{if(S.delay!=null&&S.delay>0){var W=this;T=setTimeout(function(){T=null;W.execute()},S.delay)}else{this.execute()}}}};this.reset=function(){U=[];S=null;V=false;if(T!=null){clearTimeout(T);T=null}};this.push=function(W,X){if(W!=null){if(W==="reset"&&X==null){this.reset()}else{if(W==="execute"&&X==null){this.execute()}else{if(W==="clear"&&X==null){U=[]}else{if(W==="continue"&&X==null){V=false}else{U.push({action:W,delay:X})}}}}if(!V){this.process()}}};this.isBusy=function(){return T!=null
}}function d(S,W){var U=null;var V=[];var T=0;this.size=S!=null?S:0;this.delay=W!=null?W:0;this.work=function(){if(U==null&&this.delay>0){var X=this;U=setTimeout(function(){U=null;T=0;X.process()},this.delay)}};this.process=function(){if(U==null&&V.length>0){if(T<this.size||this.size<=0||this.delay<=0){T++;var X=V.shift();X();this.process()}else{this.work()}}};this.reset=function(){V=[];T=0;if(U!=null){clearTimeout(U);U=null}};this.execute=function(X){if(typeof X=="function"){V.push(X);this.process()}};this.isBusy=function(){return U!=null}}function r(V){var U=null;var T=null;var S=false;this.delay=V!=null?V:0;this.start=function(W){var X=this;S=false;this.stop();T=W;if(this.delay>0){U=setTimeout(function(){X.finish()},this.delay)}else{X.finish()}};this.restart=function(){this.start(T)};this.stop=function(){if(U!=null){clearTimeout(U);U=null}};this.finish=function(){this.stop();if(!S){S=true;if(typeof T=="function"){T()}}};this.isBusy=function(){return U!=null}}function K(){var U=300;var V=0;
var S=0;var T=null;this.click=function(W){var X=I.getTimestamp();if(T===W&&V>0&&X-V<=U){S++}else{S=1}T=W;V=X;return S}}function m(){var S="application/json";var X="application/xml";var U="text/plain";var aa="text/html";var Z="application/x-www-form-urlencoded";var V=function(ad){var ac=null;try{ac=new XMLHttpRequest()}catch(ab){if(ad!=null&&typeof ad.error=="function"){ad.error("Create XML HTTP request failed: "+ab)}}return ac};var Y=function(ab){if(ab!=null&&typeof ab.destroy=="function"){ab.destroy()}};var W=function(af,ag,ad){var ab=af.responseText;var ae=true;if(ab!=null){if(ad==S){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(a.isFullStr(ab)){ab=JSON.parse(ab)}else{ae=false;if(ag!=null&&typeof ag.error=="function"){ag.error("Validate JSON failed")}}}else{if(a.isJson(ab)){ab=new Function("return "+ab)()}else{ae=false;if(ag!=null&&typeof ag.error=="function"){ag.error("Validate JSON failed")}}}}catch(ac){ae=false;if(ag!=null&&typeof ag.error=="function"){ag.error("Create JSON failed: "+ac)
}}}else{if(ad==X){ab=af.responseXML}}}if(ae&&ag!=null&&typeof ag.success=="function"){ag.success(ab)}};var T=function(ah,ae,ag,ao,ab){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(ah,ae,ag,ao,ab)===true){return}var ak=V(ao);if(ak!=null){var al=S;var af=false;var am=false;var ac=true;var an=null;if(ab!=null){af=ab.isForm===true;am=ab.withCredentials===true;ac=ab.accurateHeaders!==false;an=ab.headers;if(ab.dataType!=null){if(ab.dataType=="json"){al=S}else{if(ab.dataType=="xml"){al=X}else{if(ab.dataType=="text"){al=U}else{if(ab.dataType=="html"){al=aa}else{al=null}}}}}}try{if(am){ak.withCredentials=true}ak.open(ah,ae,true)}catch(aj){Y(ak);ak=null;if(ao!=null&&typeof ao.error=="function"){ao.error("Open connection failed: "+aj)}}if(ak!=null){ak.onreadystatechange=function(){if(ak!=null){if(ak.readyState==4){if((ak.status>=200&&ak.status<300)||(ak.status==0&&a.isFullStr(ak.responseText))){W(ak,ao,al)}else{if(ao!=null&&typeof ao.error=="function"){var ap=a.strValue(ak.status);
if(a.isFullStr(ak.statusText)){ap+=" "+ak.statusText}ao.error("Server responded with status: "+ap)}}Y(ak);ak=null}}};if(al!=null){if(ag!=null){ak.setRequestHeader("Content-Type",!af&&ac?al:Z)}if(ac){ak.setRequestHeader("Accept",al)}}if(an!=null){for(var ai in an){var ad=an[ai];if(ad!=null){ak.setRequestHeader(a.strValue(ai),a.strValue(ad))}}}try{ak.send(ag)}catch(aj){Y(ak);ak=null;if(ao!=null&&typeof ao.error=="function"){ao.error("Send data failed: "+aj)}}}}};this.get=function(ab,ad,ac){T("GET",ab,null,ad,ac)};this.post=function(ac,ae,ab,ad){T("POST",ac,ae,ab,ad)};this.put=function(ac,ae,ab,ad){T("PUT",ac,ae,ab,ad)};this.del=function(ab,ad,ac){T("DELETE",ab,null,ad,ac)}}var w={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function C(){var Y=[];var U=null;this.level=w.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var W=function(){var Z=new Date();var ag=Z.getHours();var af=Z.getMinutes();var ad=Z.getSeconds();var ac=Z.getMilliseconds();
var ab=Z.getDate();var ae=Z.getMonth()+1;var aa=Z.getFullYear();return aa+"-"+((ae<10)?"0":"")+ae+"-"+((ab<10)?"0":"")+ab+" "+((ag<10)?"0":"")+ag+":"+((af<10)?"0":"")+af+":"+((ad<10)?"0":"")+ad+"."+((ac<10)?"00":((ac<100)?"0":""))+ac};var V=function(aa,Z){var ab="";switch(aa){case w.DEBUG:ab=o.LOGGER.CSS.CLASS_DEBUG;break;case w.INFO:ab=o.LOGGER.CSS.CLASS_INFO;break;case w.WARN:ab=o.LOGGER.CSS.CLASS_WARN;break;case w.ERROR:ab=o.LOGGER.CSS.CLASS_ERROR;break}return a.strReplace(o.LOGGER.HTML.LINE.replace("{LEVEL}",ab),"{MESSAGE}",a.htmlEscape(Z))};var T=function(aa,Z){var ab="";switch(aa){case w.DEBUG:ab="DEBUG";break;case w.INFO:ab="INFO";break;case w.WARN:ab="WARNING";break;case w.ERROR:ab="ERROR";break}return W()+" "+ab+": "+Z};var S=function(ab,aa,ac,Z){if(ac>0&&aa.length>ac){aa=aa.substr(0,ac)+"..."}Y.push(V(ab,aa));if(Z>0){while(Y.length>Z){Y.shift()}}};var X=function(aa,Z){if(window.console!=null){switch(aa){case w.DEBUG:console.log(Z);break;case w.INFO:console.info(Z);break;case w.WARN:console.warn(Z);
break;case w.ERROR:console.error(Z);break}}};this.registerControl=function(Z,aa){U=Z;if(aa!==false){this.print()}};this.unregisterControl=function(Z){if(U==Z){U=null}};this.print=function(){if(U!=null&&Y.length>0){var aa="";for(var Z=0;Z<Y.length;Z++){aa+=Y[Z]+o.COMMON.HTML.BREAK}U.html(aa)}};this.clear=function(){Y=[];this.print()};this.log=function(aa,Z){if(aa<=this.level){var ab=-1;switch(aa){case w.DEBUG:ab=this.maxDebugLength;break;case w.INFO:ab=this.maxInfoLength;break;case w.WARN:ab=this.maxWarnLength;break;case w.ERROR:ab=this.maxErrorLength;break}X(aa,Z);S(aa,T(aa,Z),ab,this.maxLines);this.print()}};this.debug=function(Z){this.log(w.DEBUG,Z)};this.info=function(Z){this.log(w.INFO,Z)};this.warn=function(Z){this.log(w.WARN,Z)};this.error=function(Z){this.log(w.ERROR,Z)}}function t(){var V=null;var Y=null;var X=0;var aa=null;var W=false;var U={};var Z=function(ab,ac){U[ab]=ac;if(W){ac()}};var S=function(ab){delete U[ab]};var T=function(){for(var ab in U){U[ab]()}};this.onReady=function(ab,ac){if(a.isFullStr(ab)){if(typeof ac=="function"){Z(ab,ac)
}else{S(ab)}}};this.init=function(ab){W=true;V=a.strFullCheck(ab!=null?ab.name:null,null);Y=a.strFullCheck(ab!=null?ab.version:null,null);X=0;aa={};M.foreach(ab,function(ad,ac){if(a.isFullStr(ad)&&a.isFullStr(ac)){aa[ad]=ac;X++}});T()};this.getName=function(){return V};this.getVersion=function(){return Y};this.getSize=function(){return X};this.isInitialized=function(){return W};this.getValueForKey=function(ac,ab){if(aa!=null&&a.isFullStr(ac)&&aa[ac]!=null){return aa[ac]}return ab};this.getValueForExpr=function(ac){if(a.isFullStr(ac)){var ab=ac.indexOf("|");if(ab>0){return this.getValueForKey(ac.substr(0,ab),ac.substr(ab+1))}else{return this.getValueForKey(ac,"")}}return""};this.getData=function(){return{name:V,version:Y,size:X,properties:aa}}}function k(){var U=null;var V={};var T=null;var S=null;this.delay=0;this.now=I.getNow();this.format="time";this.isRunning=function(){return U!=null};this.hasHook=function(W){return a.isFullStr(W)&&V[W]!=null};this.hasHooks=function(){var W;for(W in V){return true
}return false};this.hasControl=function(){return T!=null};this.clearHooks=function(){V={}};this.addHook=function(W,X){if(a.isFullStr(W)&&typeof X=="function"){V[W]=X}};this.removeHook=function(W){if(a.isFullStr(W)){delete V[W]}};this.onTick=function(W,X){if(a.isFullStr(W)){if(typeof X=="function"){this.addHook(W,X)}else{this.removeHook(W)}}};this.registerControl=function(W){T=W};this.unregisterControl=function(W){if(T==W){T=null}};this.update=function(){if(T!=null){var W=null;switch(this.format){case"full":W=O.toDayTimeFullStr(this.now);break;case"date":W=O.toDayTimeLongStr(this.now);break;case"day":W=O.toTimeDayStr(this.now);break;case"time":W=O.toTimeStr(this.now);break;default:W="";break}if(T.clockText!=W){T.clockText=W;T.html(W)}}};this.validate=function(){this.now=I.getNow()};this.process=function(){if(U!=null){this.validate();this.delay=S!=null?this.now.getTime()-S.getTime():0;S=this.now;this.update();for(var W in V){V[W](this)}}};this.start=function(){if(U==null){var W=this;S=null;
U=setInterval(function(){W.process()},1000)}};this.stop=function(){if(U!=null){clearInterval(U);U=null;S=null}}}function B(){var S={};this.load=function(U,T,W,V){if(a.isFullStr(U)){if(T!=null&&S[T]!=null&&S[T].url==U&&S[T].data!=null){if(W!=null&&typeof W.success=="function"){W.success(S[T].data,true)}}else{H.ajax.get(U,{success:function(X){if(T!=null){S[T]={url:U,data:X}}if(W!=null&&typeof W.success=="function"){W.success(X,false)}},error:function(X){if(T!=null){S[T]={url:U,data:null}}if(W!=null&&typeof W.error=="function"){W.error(X)}}},V)}}};this.clearCache=function(T){if(T!=null){S[T]=null}};this.clear=function(){S={}}}var H={logger:new C(),cookies:new x(),storage:new e(),urlParams:new R(),ajax:new m(),loader:new B()};function J(){var ae={};var X={};var ab={};var Y={};var aa=function(ag){if(ag!=null&&ag.response!=null){return a.strToNum(ag.response.status,0)}return 0};var af=function(ag){if(ag!=null&&ag.response!=null){return ag.response.data}return null};var V=function(ah){var ag="";
if(ah!=null&&ah.response!=null){if(a.isNum(ah.response.status)){ag+=""+ah.response.status}if(a.isFullStr(ah.response.text)){if(ag.length>0){ag+=" "}ag+=ah.response.text}if(a.isFullStr(ah.response.message)){if(ag.length>0){ag+=": "}ag+=ah.response.message}}return ag.length>0?ag:"Unknown error"};var ad=function(ag,ah){ab[ag]=ah;for(var ai in ae){if(ae[ai]!=null){ah(ae[ai])}}};var S=function(ag){delete ab[ag]};var U=function(ag){for(var ah in ab){ab[ah](ag)}};var W=function(ag,ah){if(ag!=null&&typeof ah=="function"){Y[ag]=ah;for(var ai in X){if(X[ai]!=null){ah(X[ai])}}}};var ac=function(ag){if(ag!=null){delete Y[ag]}};var T=function(ag){for(var ah in Y){Y[ah](ag)}};var Z=function(ag){return ag!=null&&ag.indexOf("temp:")!=0};this.onReady=function(ag,ah){if(a.isFullStr(ag)){if(typeof ah=="function"){ad(ag,ah)}else{S(ag)}}};this.onError=function(ag,ah){if(a.isFullStr(ag)){if(typeof ah=="function"){W(ag,ah)}else{ac(ag)}}};this.onCompleted=function(ag,ah){this.onReady(ag,ah);this.onError(ag,ah)
};this.foreachEntry=function(ah){if(typeof ah=="function"){for(var ag in ae){if(ae[ag]!=null){if(ah(ae[ag])===true){break}}}}};this.foreachError=function(ah){if(typeof ah=="function"){for(var ag in X){if(X[ag]!=null){if(ah(X[ag])===true){break}}}}};this.getData=function(ag){return ag!=null&&ae[ag]!=null?ae[ag].data:null};this.getEntry=function(ag){return ag!=null?ae[ag]:null};this.setEntry=function(ah,ag){if(ah!=null&&ag!=null){ae[ah]=ag;X[ah]=null;U(ag)}};this.getError=function(ag){return ag!=null?X[ag]:null};this.setError=function(ag,ah){if(ag!=null&&ah!=null){ae[ag]=null;X[ag]=ah;T(ah)}};this.shouldStoreData=function(ag){return Z(ag)};this.createData=function(ag,ah){return ah};this.putData=function(ah,aj,ag,ai){if(ah!=null&&aj!=null){H.ajax.put(ah,aj,{success:function(ak){if(ak.response!=null&&ak.response.status==200){if(ag!=null&&typeof ag.success=="function"){ag.success(ak.response.data)}}else{if(ag!=null&&typeof ag.error=="function"){ag.error(V(ak),aa(ak),af(ak))}}},error:function(ak){if(ag!=null&&typeof ag.error=="function"){ag.error(ak,0,null)
}}},ai)}};this.postData=function(ah,aj,ag,ai){if(ah!=null&&aj!=null){H.ajax.post(ah,aj,{success:function(ak){if(ak.response!=null&&ak.response.status==200){if(ag!=null&&typeof ag.success=="function"){ag.success(ak.response.data)}}else{if(ag!=null&&typeof ag.error=="function"){ag.error(V(ak),aa(ak),af(ak))}}},error:function(ak){if(ag!=null&&typeof ag.error=="function"){ag.error(ak,0,null)}}},ai)}};this.deleteData=function(ag,ai,ah){if(ag!=null){H.ajax.del(ag,{success:function(aj){if(aj.response!=null&&aj.response.status==200){if(ai!=null&&typeof ai.success=="function"){ai.success(aj.response.data)}}else{if(ai!=null&&typeof ai.error=="function"){ai.error(V(aj),aa(aj),af(aj))}}},error:function(aj){if(ai!=null&&typeof ai.error=="function"){ai.error(aj,0,null)}}},ah)}};this.loadData=function(aj,ah,ak,ai){if(aj!=null){var ag=this;if(Z(aj)){this.clearData(aj)}if(ah!=null){H.ajax.get(ah,{success:function(ao){var an=false;if(ao.response!=null&&ao.response.status==200&&ao.response.data!=null){an=true;
ao=ao.response.data}if(!an&&ao.response!=null){var al={id:aj,error:V(ao),status:aa(ao),reason:af(ao)};var am=true;if(ak!=null&&typeof ak.error=="function"){am=ak.error(al)}if(am!==false&&Z(aj)){ag.setError(aj,al)}if(ak!=null&&typeof ak.completed=="function"){ak.completed(al)}}else{var al={id:aj,data:ag.createData(aj,ao)};var am=true;if(ak!=null&&typeof ak.success=="function"){am=ak.success(al)}if(am!==false&&Z(aj)){ag.setEntry(aj,al)}if(ak!=null&&typeof ak.completed=="function"){ak.completed(al)}}},error:function(an){var al={id:aj,error:an,status:0,reason:null};var am=true;if(ak!=null&&typeof ak.error=="function"){am=ak.error(al)}if(am!==false&&Z(aj)){ag.setError(aj,al)}if(ak!=null&&typeof ak.completed=="function"){ak.completed(al)}}},ai)}}};this.clearData=function(ag){if(ag!=null){ae[ag]=null;X[ag]=null}};this.clear=function(){ae={};X={}}}function v(){var X={};var aa={};var ah={};var T={};var S=function(ak){if(ak!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(ak)
}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(ak)}}}catch(aj){H.logger.error("Create blob URL failed: "+aj)}}return null};var ad=function(aj){if(aj!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(aj)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(aj)}}}catch(ak){H.logger.error("Dispose blob URL failed: "+ak)}}};var ai=function(al){var ak=null;try{ak=new XMLHttpRequest()}catch(aj){if(al!=null&&typeof al.error=="function"){al.error("Create XML HTTP request failed: "+aj)}}return ak};var Z=function(aj){if(aj!=null&&typeof aj.destroy=="function"){aj.destroy()}};var ac=function(aj,ak){if(aj.response!=null){if(ak!=null&&typeof ak.success=="function"){ak.success(aj.response)}}else{if(ak!=null&&typeof ak.error=="function"){ak.error("Load blob failed: Response is missing")}}};var U=function(an,al,am,au,aj){var aq=ai(au);if(aq!=null){var ar=false;
var at=null;if(aj!=null){ar=aj.withCredentials===true;at=aj.headers}try{if(ar){aq.withCredentials=true}aq.responseType="blob";aq.open(an,al,true)}catch(ap){Z(aq);aq=null;if(au!=null&&typeof au.error=="function"){au.error("Open connection failed: "+ap)}}if(aq!=null){aq.onreadystatechange=function(){if(aq!=null){if(aq.readyState==4){if(aq.status>=200&&aq.status<300){ac(aq,au)}else{if(au!=null&&typeof au.error=="function"){var av=a.strValue(aq.status);if(a.isFullStr(aq.statusText)){av+=" "+aq.statusText}au.error("Server responded with status: "+av)}}Z(aq);aq=null}}};if(at!=null){for(var ao in at){var ak=at[ao];if(ak!=null){aq.setRequestHeader(a.strValue(ao),a.strValue(ak))}}}try{aq.send(am)}catch(ap){Z(aq);aq=null;if(au!=null&&typeof au.error=="function"){au.error("Send data failed: "+ap)}}}}};var W=function(aj,ak,ao,am,ap,al,an){if(ao!=null){aj.clearBlob(ao);if(am!=null){U(ak,am,ap,{success:function(ar){var aq={id:ao,blob:ar,url:S(ar)};if(al!=null&&typeof al.success=="function"){al.success(aq)
}aj.setEntry(ao,aq);if(al!=null&&typeof al.completed=="function"){al.completed(aq)}},error:function(ar){var aq={id:ao,error:ar,status:0,reason:null};if(al!=null&&typeof al.error=="function"){al.error(aq)}aj.setError(ao,aq);if(al!=null&&typeof al.completed=="function"){al.completed(aq)}}},an)}}};var V=function(aj,ak){ah[aj]=ak;for(var al in X){if(X[al]!=null){ak(X[al])}}};var Y=function(aj){delete ah[aj]};var ab=function(aj){for(var ak in ah){ah[ak](aj)}};var af=function(aj,ak){if(aj!=null&&typeof ak=="function"){T[aj]=ak;for(var al in aa){if(aa[al]!=null){ak(aa[al])}}}};var ae=function(aj){if(aj!=null){delete T[aj]}};var ag=function(aj){for(var ak in T){T[ak](aj)}};this.onReady=function(aj,ak){if(a.isFullStr(aj)){if(typeof ak=="function"){V(aj,ak)}else{Y(aj)}}};this.onError=function(aj,ak){if(a.isFullStr(aj)){if(typeof ak=="function"){af(aj,ak)}else{ae(aj)}}};this.onCompleted=function(aj,ak){this.onReady(aj,ak);this.onError(aj,ak)};this.foreachEntry=function(ak){if(typeof ak=="function"){for(var aj in X){if(X[aj]!=null){if(ak(X[aj])===true){break
}}}}};this.foreachError=function(ak){if(typeof ak=="function"){for(var aj in aa){if(aa[aj]!=null){if(ak(aa[aj])===true){break}}}}};this.getBlob=function(aj){return aj!=null&&X[aj]!=null?X[aj].blob:null};this.getUrl=function(aj){return aj!=null&&X[aj]!=null?X[aj].url:null};this.getEntry=function(aj){return aj!=null?X[aj]:null};this.setEntry=function(ak,aj){if(ak!=null&&aj!=null){ad(X[ak]!=null?X[ak].url:null);X[ak]=aj;aa[ak]=null;ab(aj)}};this.getError=function(aj){return aj!=null?aa[aj]:null};this.setError=function(aj,ak){if(aj!=null&&ak!=null){ad(X[aj]!=null?X[aj].url:null);X[aj]=null;aa[aj]=ak;ag(ak)}};this.executeBlob=function(am,ak,an,aj,al){W(this,"POST",am,ak,an,aj,al)};this.loadBlob=function(al,aj,am,ak){W(this,"GET",al,aj,null,am,ak)};this.clearBlob=function(aj){if(aj!=null){ad(X[aj]!=null?X[aj].url:null);X[aj]=null;aa[aj]=null}};this.clear=function(){for(var aj in X){ad(X[aj]!=null?X[aj].url:null)}X={};aa={}}}function D(X){var U="srq";var T=0;var S={};var Y=0;this.timeout=X!=null?X:30000;
var V=function(Z,ac){T++;Y++;var ab=U+T+"_"+I.getTimestamp();var aa={timeout:new r(Z),callback:ac};S[ab]=aa;aa.timeout.start(function(){W(ab,null,"Request timed out","timeout")});return ab};var W=function(ac,ad,Z,aa){if(ac!=null){var ab=S[ac];if(ab!=null){Y--;ab.timeout.stop();delete S[ac];if(Z!=null){if(ab.callback!=null&&typeof ab.callback.error=="function"){ab.callback.error(Z,aa)}}else{if(ab.callback!=null&&typeof ab.callback.success=="function"){ab.callback.success(ad)}}}}};this.startRequest=function(Z){return V(this.timeout,Z)};this.getRequestsCount=function(){return Y};this.isRequestPending=function(Z){return Z!=null&&S[Z]!=null};this.handleData=function(Z,aa){W(Z,aa!=null?aa:null,null)};this.handleError=function(aa,ab,Z){W(aa,null,ab!=null?ab:"Unknown error",Z!=null?Z:null)}}function c(){var V=0;var U=null;var T=function(){if(U!=null){var X=U;U=null;if(X.length>0){for(var W=0;W<X.length;W++){X[W]()}}}};var S=function(W){if(U==null){U=[]}U.push(W)};this.isBusy=function(){return V>0
};this.start=function(W){if(W===true){V=1}else{V++}};this.stop=function(W){if(V>0){if(W===true){V=0}else{if(V>0){V--}}if(V==0){T()}}};this.onReady=function(W){if(typeof W=="function"){if(V>0){S(W)}else{W()}}}}function s(ac){var ad=4;var aa=256;var ae=null;var ab=null;var al=function(aw){return a.isFullStr(aw)&&aw.length>=ad&&aw.length<aa&&aw.length%2==0};var aq=function(aw){return aw&aw};var T=function(aw,ax){return aq(((aw<<5)-aw)+ax)};var ag=function(aw){return aw.length==1?"0"+aw:aw};var an=function(ax,aw){if(aw>0){while(ax<0){ax+=aw}while(ax>=aw){ax-=aw}}return ax};var aj=function(ay,ax,aw){ay+=3;return ay+ax>=aw?0:ay};var W=function(aw,ax){aw++;return aw>=ax?0:aw};var ak=function(aw,ax){return ax?-aw:aw};var ar=function(az,aA,ay,aw,ax){return an(aA+ak(aw,ax)*am(az,ay),aa)};var Y=function(aC,aw,aB,aD,ax,aA,ay){var az=aC!=null&&aB!=null?aC.indexOf(aB):-1;return az>=0?au(aC,an(az+ak(aA,ay)*(aD+am(aw,ax)),aC.length)):aB};var X=function(ax,aw){return aw!=null?(ax!=null?ax+aw:aw):ax};var au=function(aw,ax){return aw!=null&&ax>=0&&ax<aw.length?aw.charAt(ax):null
};var am=function(aw,ax){return aw!=null&&ax>=0&&ax<aw.length?aw.charCodeAt(ax):0};var Z=function(aB,aD,aw,aA,ax,az){var aC=au(aB,aA);if(aC!=null){var ay=Math.random()>0.5?aD.indexOf(aC):aD.lastIndexOf(aC);return ay>=0?ag(ar(aw,ay,ax,1,az).toString(16)):null}return null};var U=function(aB,aw,aA,ax,az){var aD=au(aB,aA);var aC=au(aB,aA+1);var ay=aD!=null&&aC!=null?parseInt(aD+aC,16):-1;return ay>=0?ar(aw,ay,ax,-1,az):-1};var at=function(aC,aG,ax){var aF=null;if(a.isFullStr(aC)&&aC.length%2==0&&al(aG)&&al(ax)){var aB=aC.length;var aD=ax.length;var ay=0;var aA=0;var az=false;for(var aw=0;aw<aB;aw+=2){var aE=au(aG,U(aC,ax,aw,ay+aA,az));if(aE!=null){aF=X(aF,aE)}else{return null}ay=aj(ay,aA,aD);if(ay==0){aA=W(aA,aD)}az=!az}}return aF};var V=function(aD,az,ax){var aG=null;if(a.isFullStr(aD)&&al(az)&&al(ax)){var aF=aD.length;var aE=ax.length;var ay=0;var aC=0;var aB=false;for(var aw=0;aw<aF;aw++){var aA=Z(aD,az,ax,aw,ay+aC,aB);if(aA!=null){aG=X(aG,aA)}else{return null}ay=aj(ay,aC,aE);if(ay==0){aC=W(aC,aE)
}aB=!aB}}return aG};var av=function(ax){var aw=ax<0?-1:1;return aw*((ax*aw)%aa)};var ao=function(aA){var ax=null;if(al(aA)){var az=aA.length;var ay=az/2;for(var aB=0;aB<ay;aB++){var aC=au(aA,aB);var aw=au(aA,az-1-aB);if(ax==null||ax.indexOf(aC)<0){ax=X(ax,aC)}if(ax.indexOf(aw)<0){ax=X(ax,aw)}}}return ax};var S=function(az,aB,aA){var ay=0;if(az!=null&&aB!=null&&aA!=null){var aC=az.length;var aw=aA.length;ay=aC;for(var ax=0;ax<aw;ax++){ay=T(ay,am(aA,ax))}for(var ax=0;ax<aC;ax++){if(aB.indexOf(au(az,ax))<0){ay=T(ay,am(az,ax))}}}return av(ay)};var af=function(aD,aG,ax,aE){var az=null;if(a.isFullStr(aD)&&al(aG)&&al(ax)){var aH=S(aD,aG,ax);var aF=aD.length;var aC=ax.length;var ay=0;var aB=0;var aA=false;for(var aw=0;aw<aF;aw++){az=X(az,Y(aG,ax,au(aD,aw),aH,ay+aB,aE,aA));ay=aj(ay,aB,aC);if(ay==0){aB=W(aB,aC)}aA=!aA}}return az};var ap=function(){return V(a.strShuffle(ac),ac,ac)};var ah=function(aw,ax){return at(aw,at(ax,ac,ac),ac)};var ai=function(){if(ab==null){ab=ao(ac)}return ab};this.createSteam=function(){ae=ap();
return ae};this.resolveToken=function(aw){return ah(aw,ae)};this.transformString=function(aw){return af(aw,ai(),ac,1)};this.normalizeString=function(aw){return af(aw,ai(),ac,-1)}}var h=new function(){this.BLEND_MODE={NORMAL:"normal",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",COLOR_BURN:"color-burn",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"};this.COMPOSITE_MODE={CLEAR:"clear",COPY:"copy",DESTINATION:"destination",SOURCE_OVER:"source-over",SOURCE_OUT:"source-out",DESTINATION_OUT:"destination-out",SOURCE_ATOP:"source-atop",DESTINATION_ATOP:"destination-atop",XOR:"xor",LIGHTER:"lighter",DARKER:"darker"}};window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(S){setTimeout(S,33)
}})();var L=new function(){var T=false;var S=null;this.render=function(){if(T){if(S!=null){requestAnimFrame(function(){L.render()});S.render()}else{T=false}}};this.start=function(U){S=U;if(!T){T=true;this.render()}};this.stop=function(U){if(S==U){S=null}};this.isRunning=function(){return T};this.hasControl=function(){return S!=null};this.isControl=function(U){return S==U}};var z=new function(){var V=function(X){X=Math.round(X);return X<0?0:X>255?255:X};var W=function(X){return X<0?0:X>1?1:X};var U=function(X){if(X[X.length-1]=="%"){return V(parseFloat(X)/100*255)}return V(parseInt(X))};var S=function(X){if(X[X.length-1]=="%"){return W(parseFloat(X)/100)}return W(parseFloat(X))};var T=function(Z,Y,X){if(X<0){X+=1}else{if(X>1){X-=1}}if(X*6<1){return Z+(Y-Z)*X*6}if(X*2<1){return Y}if(X*3<2){return Z+(Y-Z)*(2/3-X)*6}return Z};this.createColor=function(X){if(X!=null&&X.length==4){return"rgba("+X[0]+","+X[1]+","+X[2]+","+X[3]+")"}return null};this.parseColor=function(ab){if(ab!=null){ab=a.strClear(ab).toLowerCase();
if(ab[0]=="#"){if(ab.length==4){var ac=parseInt(ab.substr(1),16);if(!(ac>=0&&ac<=4095)){return null}return[((ac&3840)>>4)|((ac&3840)>>8),(ac&240)|((ac&240)>>4),(ac&15)|((ac&15)<<4),1]}else{if(ab.length==7){var ac=parseInt(ab.substr(1),16);if(!(ac>=0&&ac<=16777215)){return null}return[(ac&16711680)>>16,(ac&65280)>>8,ac&255,1]}}}else{var aa=ab.indexOf("(");var af=ab.indexOf(")");if(aa!=-1&&af+1==ab.length){var ag=ab.substr(0,aa);var Y=ab.substr(aa+1,af-(aa+1)).split(",");var Z=1;switch(ag){case"rgba":if(Y.length!=4){return null}Z=S(Y.pop());case"rgb":if(Y.length!=3){return null}return[U(Y[0]),U(Y[1]),U(Y[2]),Z];case"hsla":if(Y.length!=4){return null}Z=S(Y.pop());case"hsl":if(Y.length!=3){return null}var ai=(((parseFloat(Y[0])%360)+360)%360)/360;var ae=S(Y[1]);var X=S(Y[2]);var ad=X<=0.5?X*(ae+1):X+ae-X*ae;var ah=X*2-ad;return[V(T(ah,ad,ai+1/3)*255),V(T(ah,ad,ai)*255),V(T(ah,ad,ai-1/3)*255),Z];default:return null}}}}return null}};i.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(T,S){i.fx.step[S]=function(U){if(U.colorInit!==true){U.start=z.parseColor(i.css(U.elem,S));
if(U.start==null){U.start=[0,0,0,0]}U.end=z.parseColor(U.end);U.colorInit=true}if(U.start!=null&&U.end!=null){U.elem.style[S]=z.createColor([Math.max(Math.min(Math.floor(U.pos*(U.end[0]-U.start[0])+U.start[0]),255),0),Math.max(Math.min(Math.floor(U.pos*(U.end[1]-U.start[1])+U.start[1]),255),0),Math.max(Math.min(Math.floor(U.pos*(U.end[2]-U.start[2])+U.start[2]),255),0),U.pos*(U.end[3]-U.start[3])+U.start[3]])}}});i.extend(i.easing,{easeInQuad:function(S,T,U,V,W){return V*(T/=W)*T+U},easeOutQuad:function(S,T,U,V,W){return -V*(T/=W)*(T-2)+U},easeInOutQuad:function(S,T,U,V,W){if((T/=W/2)<1){return V/2*T*T+U}return -V/2*((--T)*(T-2)-1)+U},easeInCubic:function(S,T,U,V,W){return V*(T/=W)*T*T+U},easeOutCubic:function(S,T,U,V,W){return V*((T=T/W-1)*T*T+1)+U},easeInOutCubic:function(S,T,U,V,W){if((T/=W/2)<1){return V/2*T*T*T+U}return V/2*((T-=2)*T*T+2)+U},easeInQuart:function(S,T,U,V,W){return V*(T/=W)*T*T*T+U},easeOutQuart:function(S,T,U,V,W){return -V*((T=T/W-1)*T*T*T-1)+U},easeInOutQuart:function(S,T,U,V,W){if((T/=W/2)<1){return V/2*T*T*T*T+U
}return -V/2*((T-=2)*T*T*T-2)+U},easeInQuint:function(S,T,U,V,W){return V*(T/=W)*T*T*T*T+U},easeOutQuint:function(S,T,U,V,W){return V*((T=T/W-1)*T*T*T*T+1)+U},easeInOutQuint:function(S,T,U,V,W){if((T/=W/2)<1){return V/2*T*T*T*T*T+U}return V/2*((T-=2)*T*T*T*T+2)+U},easeInSine:function(S,T,U,V,W){return -V*Math.cos(T/W*(Math.PI/2))+V+U},easeOutSine:function(S,T,U,V,W){return V*Math.sin(T/W*(Math.PI/2))+U},easeInOutSine:function(S,T,U,V,W){return -V/2*(Math.cos(Math.PI*T/W)-1)+U},easeInExpo:function(S,T,U,V,W){return(T==0)?U:V*Math.pow(2,10*(T/W-1))+U},easeOutExpo:function(S,T,U,V,W){return(T==W)?U+V:V*(-Math.pow(2,-10*T/W)+1)+U},easeInOutExpo:function(S,T,U,V,W){if(T==0){return U}if(T==W){return U+V}if((T/=W/2)<1){return V/2*Math.pow(2,10*(T-1))+U}return V/2*(-Math.pow(2,-10*--T)+2)+U},easeInCirc:function(S,T,U,V,W){return -V*(Math.sqrt(1-(T/=W)*T)-1)+U},easeOutCirc:function(S,T,U,V,W){return V*Math.sqrt(1-(T=T/W-1)*T)+U},easeInOutCirc:function(S,T,U,V,W){if((T/=W/2)<1){return -V/2*(Math.sqrt(1-T*T)-1)+U
}return V/2*(Math.sqrt(1-(T-=2)*T)+1)+U},easeInElastic:function(S,Z,U,V,W){var Y=1.70158;var X=0;var T=V;if(Z==0){return U}if((Z/=W)==1){return U+V}if(!X){X=W*0.3}if(T<Math.abs(V)){T=V;Y=X/4}else{Y=X/(2*Math.PI)*Math.asin(V/T)}return -(T*Math.pow(2,10*(Z-=1))*Math.sin((Z*W-Y)*(2*Math.PI)/X))+U},easeOutElastic:function(S,Z,U,V,W){var Y=1.70158;var X=0;var T=V;if(Z==0){return U}if((Z/=W)==1){return U+V}if(!X){X=W*0.3}if(T<Math.abs(V)){T=V;Y=X/4}else{Y=X/(2*Math.PI)*Math.asin(V/T)}return T*Math.pow(2,-10*Z)*Math.sin((Z*W-Y)*(2*Math.PI)/X)+V+U},easeInOutElastic:function(S,Z,U,V,W){var Y=1.70158;var X=0;var T=V;if(Z==0){return U}if((Z/=W/2)==2){return U+V}if(!X){X=W*(0.3*1.5)}if(T<Math.abs(V)){T=V;Y=X/4}else{Y=X/(2*Math.PI)*Math.asin(V/T)}if(Z<1){return -0.5*(T*Math.pow(2,10*(Z-=1))*Math.sin((Z*W-Y)*(2*Math.PI)/X))+U}return T*Math.pow(2,-10*(Z-=1))*Math.sin((Z*W-Y)*(2*Math.PI)/X)*0.5+V+U},easeInBack:function(S,T,U,V,W,X){if(X==null){X=1.70158}return V*(T/=W)*T*((X+1)*T-X)+U},easeOutBack:function(S,T,U,V,W,X){if(X==null){X=1.70158
}return V*((T=T/W-1)*T*((X+1)*T+X)+1)+U},easeInOutBack:function(S,T,U,V,W,X){if(X==null){X=1.70158}if((T/=W/2)<1){return V/2*(T*T*(((X*=(1.525))+1)*T-X))+U}return V/2*((T-=2)*T*(((X*=(1.525))+1)*T+X)+2)+U},easeInBounce:function(S,T,U,V,W){return V-i.easing.easeOutBounce(S,W-T,0,V,W)+U},easeOutBounce:function(S,T,U,V,W){if((T/=W)<(1/2.75)){return V*(7.5625*T*T)+U}else{if(T<(2/2.75)){return V*(7.5625*(T-=(1.5/2.75))*T+0.75)+U}else{if(T<(2.5/2.75)){return V*(7.5625*(T-=(2.25/2.75))*T+0.9375)+U}else{return V*(7.5625*(T-=(2.625/2.75))*T+0.984375)+U}}}},easeInOutBounce:function(S,T,U,V,W){if(T<W/2){return i.easing.easeInBounce(S,T*2,0,V,W)*0.5+U}return i.easing.easeOutBounce(S,T*2-W,0,V,W)*0.5+V*0.5+U}});var q=new function(){var S=/([a-zA-Z0-9]+)\((.*?)\)/g;var ah=/([A-Z])/g;i.transit={version:"0.9.13_tvx",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,use3d:false,useTransitionEnd:true,transitionClearDelay:100,transitionEndDelay:50};
i.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",swing:"cubic-bezier(.02,.01,.47,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};
function Z(an){this.values={};if(typeof an==="string"){this.parse(an)}}Z.prototype={set:function(ao,an){if(an===""){this.clear(ao)}else{if(this.setter[ao]!=null){if(ao==="scale"||ao==="translate"){an=typeof an==="string"?an.split(","):an}this.setter[ao].apply(this,Array.isArray(an)?an:[an])}else{this.values[ao]=an}}},get:function(an){if(this.getter[an]!=null){return this.getter[an].apply(this)}else{return this.values[an]||0}},clear:function(an){if(an==="scale"||an==="scaleX"||an==="scaleY"){delete this.scaleX;delete this.scaleY;delete this.values.scale}else{if(an==="translate"||an==="translateX"||an==="translateY"){delete this.translateX;delete this.translateY;delete this.values.translate}else{delete this.values[an]}}},setter:{rotate:function(an){this.values.rotate=ag(an,"deg")},rotateX:function(an){this.values.rotateX=ag(an,"deg")},rotateY:function(an){this.values.rotateY=ag(an,"deg")},rotateZ:function(an){this.values.rotateZ=ag(an,"deg")},scaleX:function(an){this.setter.scale.apply(this,[an,null])
},scaleY:function(an){this.setter.scale.apply(this,[null,an])},scale:function(an,ao){if(ao===undefined){ao=an}if(an!==null&&an!==undefined){this.scaleX=an}else{if(this.scaleX===undefined){this.scaleX=1}}if(ao!==null&&ao!==undefined){this.scaleY=ao}else{if(this.scaleY===undefined){this.scaleY=1}}this.values.scale=this.scaleX+","+this.scaleY},skewX:function(an){this.values.skewX=ag(an,"deg")},skewY:function(an){this.values.skewY=ag(an,"deg")},perspective:function(an){this.values.perspective=ag(an,"px")},translateX:function(an){this.setter.translate.apply(this,[an,null])},translateY:function(an){this.setter.translate.apply(this,[null,an])},translateZ:function(an){this.values.translateZ=ag(an,"px")},translate:function(an,ao){if(an!==null&&an!==undefined){this.translateX=ag(an,"px")}else{if(this.translateX===undefined){this.translateX=0}}if(ao!==null&&ao!==undefined){this.translateY=ag(ao,"px")}else{if(this.translateY===undefined){this.translateY=0}}this.values.translate=this.translateX+","+this.translateY
}},getter:{scaleX:function(){return this.scaleX||1},scaleY:function(){return this.scaleY||1},translateX:function(){return this.translateX||0},translateY:function(){return this.translateY||0}},parse:function(an){var ao=this;an.replace(S,function(ap,ar,aq){ao.set(ar,aq);return ap})},toString:function(ap){var ao="";var aq=this.values;for(var ar in aq){var an=aq[ar];if(ap&&ar==="scaleZ"&&aq.scale!=null){continue}if(ap&&ar==="translateZ"&&aq.translate!=null){continue}if(ao.length>0){ao+=" "}if(ap&&ar==="scale"){ao+=ar+"3d("+an+","+(aq.scaleZ||1)+")"}else{if(ap&&ar==="translate"){ao+=ar+"3d("+an+","+(aq.translateZ||0)+")"}else{ao+=ar+"("+an+")"}}}return ao}};var Y={};var ad={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var am={transition:"transitioncancel",MozTransition:"transitioncancel",OTransition:"oTransitionCancel",WebkitTransition:"webkitTransitionCancel",msTransition:"MSTransitionCancel"};
var T=function(an,at){if(an!=null){if(at in an.style){return at}var ao=["Moz","Webkit","O","ms"];var ar=at.charAt(0).toUpperCase()+at.substr(1);for(var aq=0;aq<ao.length;aq++){var ap=ao[aq]+ar;if(ap in an.style){return ap}}}return null};var ak=function(an){if(an!=null&&Y.transform!=null){an.style[Y.transform]="";an.style[Y.transform]="rotateY(90deg)";return an.style[Y.transform]!==""}return false};var W=function(ap,an,ao){if(an===true){ap.queue(ao)}else{if(an){ap.queue(an,ao)}else{ap.each(function(){ao.call(this)})}}};var af=function(an){var ao=[];i.each(an,function(ap){ap=i.camelCase(ap);ap=i.transit.propertyMap[ap]||i.cssProps[ap]||ap;ap=U(ap);if(i.inArray(ap,ao)===-1){ao.push(ap)}});return ao};var X=function(aq,au,ao,ap){var an=af(aq);if(i.cssEase[ao]){ao=i.cssEase[ao]}var ar=ag(au,"ms")+" "+ao;if(parseInt(ap,10)>0){ar+=" "+ag(ap,"ms")}var at="";i.each(an,function(aw,av){if(at.length>0){at+=", "}at+=av+" "+ar});return at};var ac=function(an,ap,ao){if(typeof ap==="function"){ap.apply(an)
}if(typeof ao==="function"){ao()}};var aa=function(an,at,ar,ao,aq,ap){if(ao!=null){if(Y.transitionEnd!=null){ao.unbind(Y.transitionEnd)}if(Y.transitionCancel!=null){ao.unbind(Y.transitionCancel)}}if(aq!=null){clearTimeout(aq)}if(ap!=null){clearTimeout(ap)}an.style[Y.transition]=null;ac(an,at,ar)};var ai=function(ar,at,av,ao,au){var aq=false;var an=null;var ap=setTimeout(function(){ap=null;if(aq){aa(at,av,ao,ar,ap,an)}else{if(i.transit.transitionClearDelay>=0){an=setTimeout(function(){an=null;aq=true;aa(at,av,ao,ar,ap,an)},i.transit.transitionClearDelay)}else{aq=true;aa(at,av,ao,ar,ap,an)}}},au);if(Y.transitionEnd!=null){ar.bind(Y.transitionEnd,function(){if(!aq){aq=true;if(ap==null){aa(at,av,ao,ar,ap,an)}}})}if(Y.transitionCancel!=null){ar.bind(Y.transitionCancel,function(){if(!aq){aq=true;if(ap==null){aa(at,av,ao,ar,ap,an)}}})}};var al=function(aq,an,ap,ar,ao){if(ar===0){return function(av){var at=this;var au=aq.length>1?i(at):aq;au.css(ap);ac(at,ao,av)}}else{return function(av){var at=this;
var au=aq.length>1?i(at):aq;at.offsetWidth;at.style[Y.transition]=an;au.css(ap);if(Y.transitionEnd!=null&&i.transit.useTransitionEnd){ai(au,at,ao,av,ar)}else{setTimeout(function(){aa(at,ao,av)},ar+i.transit.transitionEndDelay)}}}};var ae=function(ao,an){if(!an){i.cssNumber[ao]=true}i.transit.propertyMap[ao]=Y.transform;i.cssHooks[ao]={get:function(aq){var ap=i.data(aq,"transform")||new Z();return ap.get(ao)},set:function(ar,ap){var aq=i.data(ar,"transform");if(aq==null){aq=new Z();i.data(ar,"transform",aq)}aq.set(ao,ap);ar.style[Y.transform]=aq.toString(i.transit.use3d)}}};var U=function(an){return an.replace(ah,function(ao){return"-"+ao.toLowerCase()})};var ag=function(an,ao){if(typeof an==="string"&&!isFinite(an)){return an}else{return""+an+ao}};var ab=function(){var an=document.createElement("div");Y.transition=T(an,"transition");Y.transitionDelay=T(an,"transitionDelay");Y.transform=T(an,"transform");Y.transformOrigin=T(an,"transformOrigin");Y.transform3d=ak(an,Y);Y.transitionEnd=ad[Y.transition]||null;
Y.transitionCancel=am[Y.transition]||null;an=null};var V=function(){for(var an in Y){if(Y.hasOwnProperty(an)&&typeof i.support[an]==="undefined"){i.support[an]=Y[an]}}i.cssHooks["transit:transform"]={get:function(ao){return i.data(ao,"transform")||new Z()},set:function(ap,ao){if(typeof ao==="string"){ao=new Z(ao)}i.data(ap,"transform",ao);ap.style[Y.transform]=ao.toString(i.transit.use3d)}};i.cssHooks.transform={set:i.cssHooks["transit:transform"].set};ae("scale");ae("scaleX");ae("scaleY");ae("scaleZ");ae("rotate");ae("rotateX");ae("rotateY");ae("rotateZ");ae("skewX");ae("skewY");ae("translate");ae("translateX",true);ae("translateY",true);ae("translateZ",true);ae("perspective")};var aj=function(){i.fn.transition=i.fn.transit=function(ar,ax,at,ay){var au=0;var aq=true;if(typeof ax==="function"){ay=ax;ax=undefined}if(typeof ax==="object"){at=ax.easing;au=ax.delay||0;aq=typeof ax.queue!=="undefined"?ax.queue:true;ay=ax.complete;ax=ax.duration}if(typeof at==="function"){ay=at;at=undefined}if(typeof ar.easing!=="undefined"){at=ar.easing;
delete ar.easing}if(typeof ar.duration!=="undefined"){ax=ar.duration;delete ar.duration}if(typeof ar.complete!=="undefined"){ay=ar.complete;delete ar.complete}if(typeof ar.queue!=="undefined"){aq=ar.queue;delete ar.queue}if(typeof ar.delay!=="undefined"){au=ar.delay;delete ar.delay}if(typeof ax==="undefined"){ax=i.fx.speeds._default}if(typeof at==="undefined"){at=i.cssEase._default}if(typeof ax==="string"){var ao=i.fx.speeds[ax];if(ao!=null){ax=ao}}var av=X(ar,ax,at,au);var aw=i.transit.enabled&&Y.transition!=null;var an=aw?(parseInt(ax,10)+parseInt(au,10)):0;var ap=al(this,av,ar,an,ay);W(this,aq,ap);return this}};ab();V();aj()};function P(ai,ad,W,al){var ak=null;var T=300;var Y=20;try{ak=ai!=null?ai.getContext("2d"):null}catch(ag){H.logger.error("Canvas not supported: "+ag)}var aa=0;var S=0;var V=0;var U=[];var af=0;var ab=0;var Z=false;var ah=function(){return Math.random()*2-1};var ac=function(){var ar=(al.angle+al.angleRandom*ah())*(Math.PI/180);var aq=al.speed+al.speedRandom*ah();var ao={positionX:al.position.x+al.positionRandom.x*ah(),positionY:al.position.y+al.positionRandom.y*ah(),directionX:Math.cos(ar)*aq,directionY:Math.sin(ar)*aq,size:0,sizeSmall:0,timeToLive:0,timeExists:0,timeToChange:0,sharpness:0,splash:0,splashDelta:0,colorR:0,colorG:0,colorB:0,colorA:0,colorDeltaR:0,colorDeltaG:0,colorDeltaB:0,colorDeltaA:0,colorThetaR:0,colorThetaG:0,colorThetaB:0,colorThetaA:0,colorThetaDelta:0,drawColor0:null,drawColor1:null,keepAlive:false,autoDestroy:false};
ao.size=al.size+al.sizeRandom*ah();ao.size=ao.size<0?0:ao.size;ao.timeToLive=al.lifeSpan+al.lifeSpanRandom*ah();ao.sharpness=al.sharpness+al.sharpnessRandom*ah();ao.sharpness=ao.sharpness>100?100:ao.sharpness<0?0:ao.sharpness;ao.sizeSmall=(ao.size/200)*ao.sharpness;ao.splash=al.splash+al.splashRandom*ah();ao.splash=ao.splash<0?0:ao.splash;ao.keepAlive=al.keepAlive===true;ao.autoDestroy=al.autoDestroy===true;if(ao.timeToLive>0){ao.splashDelta=ao.splash/ao.timeToLive}var ax=al.startColor[0]+al.startColorRandom[0]*ah();var ap=al.startColor[1]+al.startColorRandom[1]*ah();var am=al.startColor[2]+al.startColorRandom[2]*ah();var au=al.startColor[3]+al.startColorRandom[3]*ah();var an=al.endColor[0]+al.endColorRandom[0]*ah();var aw=al.endColor[1]+al.endColorRandom[1]*ah();var at=al.endColor[2]+al.endColorRandom[2]*ah();var av=al.endColor[3]+al.endColorRandom[3]*ah();if(ao.timeToLive>0){ao.colorR=ax;ao.colorG=ap;ao.colorB=am;ao.colorA=au;ao.colorDeltaR=(an-ax)/ao.timeToLive;ao.colorDeltaG=(aw-ap)/ao.timeToLive;
ao.colorDeltaB=(at-am)/ao.timeToLive;ao.colorDeltaA=(av-au)/ao.timeToLive}else{ao.colorR=an;ao.colorG=aw;ao.colorB=at;ao.colorA=av}return ao};var X=function(){if(al.lifeSpan>0){var am=al.particleCount;var an=am/al.lifeSpan;if(an>0){var ao=1/an;ab++;while(af<am&&ab>ao){U[af]=ac();af++;ab-=ao}}}};var ae=function(au){var ao=0;while(ao<af){var an=U[ao];var aq=an.colorA>0&&an.positionX+an.size>0&&an.positionY+an.size>0&&an.positionX-an.size<ad&&an.positionY-an.size<W;if(an.timeExists>0&&an.autoDestroy&&!aq){an.timeToLive=0}if(an.timeToLive>0||(an.keepAlive&&aq)){an.directionX+=al.gravity.x;an.directionY+=al.gravity.y;an.positionX+=an.directionX;an.positionY+=an.directionY;an.timeToLive--;an.timeExists++;if(an.splashDelta!=0){an.size+=an.splashDelta}var av=al.lifeSpan*0.05;var at=an.colorR+=an.colorDeltaR;var ar=an.colorG+=an.colorDeltaG;var ap=an.colorB+=an.colorDeltaB;var am=an.colorA+=an.colorDeltaA;if(an.colorThetaDelta>0){an.colorThetaDelta--;at=an.colorR+=an.colorThetaR;ar=an.colorG+=an.colorThetaG;
ap=an.colorB+=an.colorThetaB;am=an.colorA+=an.colorThetaA}if(an.timeExists<av){am=an.colorA*(an.timeExists/av)}an.drawColor0="rgba("+(at>255?255:at<0?0:~~at)+","+(ar>255?255:ar<0?0:~~ar)+","+(ap>255?255:ap<0?0:~~ap)+","+(am>1?1:am<0?0:am.toFixed(2))+")";if(au==="auto"){an.drawColor1="rgba("+(at>255?255:at<0?0:~~at)+","+(ar>255?255:ar<0?0:~~ar)+","+(ap>255?255:ap<0?0:~~ap)+",0)"}else{an.drawColor1=au}ao++}else{if(ao!=af-1){U[ao]=U[af-1]}af--}}};var aj=function(){ak.clearRect(0,0,ad,W);for(var am=0;am<af;am++){var an=U[am];var at=~~an.size;var au=~~an.sizeSmall;var aq=~~(at>>1);if(aq>0){var ao=~~an.positionX;var ap=~~an.positionY;var ar=ak.createRadialGradient(ao,ap,au<aq?au:au-1,ao,ap,aq);ar.addColorStop(0,an.drawColor0);ar.addColorStop(1,an.drawColor1);ak.fillStyle=ar;ak.fillRect(ao-aq,ap-aq,at,at)}}};this.fpsIndicator=null;this.transparentColor="rgba(0,0,0,0)";this.hasContext=function(){return ak!=null};this.getCompositeMode=function(){if(ak!=null){return ak.globalCompositeOperation}return null
};this.setCompositeMode=function(am){if(ak!=null){ak.globalCompositeOperation=am}};this.render=function(am){if((Z||am===true)&&ak!=null){X();ae(this.transparentColor);aj();if(this.fpsIndicator!=null){var an=I.getTimestamp();if(aa>0&&an>aa){S++;V+=(1000/(an-aa))}aa=an;if(S==10){this.fpsIndicator.innerHTML=Math.round(V/S)+" fps";S=0;V=0}}}};this.start=function(){if(!Z&&ak!=null&&al!=null){aa=0;S=0;V=0;Z=true;L.start(this)}};this.stop=function(){if(Z){Z=false;L.stop(this)}};this.restart=function(){for(var am=0;am<af;am++){var an=U[am];an.timeToLive=0;an.keepAlive=false}ab=0};this.isRunning=function(){return Z};this.applyColors=function(){for(var am=0;am<af;am++){var ap=U[am];if(ap.timeToLive>0){var aw=al.startColor[0]+al.startColorRandom[0]*ah();var aq=al.startColor[1]+al.startColorRandom[1]*ah();var an=al.startColor[2]+al.startColorRandom[2]*ah();var at=al.startColor[3]+al.startColorRandom[3]*ah();var ao=al.endColor[0]+al.endColorRandom[0]*ah();var av=al.endColor[1]+al.endColorRandom[1]*ah();
var ar=al.endColor[2]+al.endColorRandom[2]*ah();var au=al.endColor[3]+al.endColorRandom[3]*ah();ap.colorThetaDelta=~~(T/Y);if(ap.timeToLive<ap.colorThetaDelta){ap.colorThetaDelta=ap.timeToLive}ap.colorThetaR=(aw-ap.colorR)/ap.colorThetaDelta;ap.colorThetaG=(aq-ap.colorG)/ap.colorThetaDelta;ap.colorThetaB=(an-ap.colorB)/ap.colorThetaDelta;ap.colorThetaA=(at-ap.colorA)/ap.colorThetaDelta;if(ap.timeToLive>ap.colorThetaDelta){ap.colorDeltaR=(ao-aw)/(ap.timeToLive-ap.colorThetaDelta);ap.colorDeltaG=(av-aq)/(ap.timeToLive-ap.colorThetaDelta);ap.colorDeltaB=(ar-an)/(ap.timeToLive-ap.colorThetaDelta);ap.colorDeltaA=(au-at)/(ap.timeToLive-ap.colorThetaDelta)}}}};this.setCompositeMode(h.COMPOSITE_MODE.LIGHTER)}function u(ac,T,Y){var ab=null;try{ab=ac!=null?ac.getContext("2d"):null}catch(Z){H.logger.error("Canvas not supported: "+Z)}var V=0;var W=0;var U=0;var X=[];var S=false;var aa=function(){ab.clearRect(0,0,T,Y);for(var ad=0;ad<X.length;ad++){X[ad].render(ab)}};this.fpsIndicator=null;this.hasContext=function(){return ab!=null
};this.getCompositeMode=function(){if(ab!=null){return ab.globalCompositeOperation}return null};this.setCompositeMode=function(ad){if(ab!=null){ab.globalCompositeOperation=ad}};this.render=function(ad){if((S||ad===true)&&ab!=null){aa();if(this.fpsIndicator!=null){var ae=I.getTimestamp();if(V>0&&ae>V){W++;U+=(1000/(ae-V))}V=ae;if(W==10){this.fpsIndicator.innerHTML=Math.round(U/W)+" fps";W=0;U=0}}}};this.start=function(){if(!S&&ab!=null){V=0;W=0;U=0;S=true;L.start(this)}};this.stop=function(){if(S){S=false;L.stop(this)}};this.isRunning=function(){return S};this.getObjectsCount=function(){return X.length};this.clearObjects=function(){X=[]};this.containsObject=function(ad){return ad!=null?X.indexOf(ad)>-1:false};this.addObject=function(ad){if(ab!=null&&ad!=null){X.push(ad);if(typeof ad.init=="function"){ad.init(ab)}}};this.removeObject=function(ae){if(ae!=null){var ad=X.indexOf(ae);if(ad>-1){X.splice(ad,1)}}};this.removeFirstObject=function(){if(X.length>0){this.removeObject(X[0])}};this.removeLastObject=function(){if(X.length>0){this.removeObject(X[X.length-1])
}};this.moveObject=function(af,ae){if(af!=null&&X.length>0){if(ae<0){ae=0}else{if(ae>=X.length){ae=X.length-1}}var ad=X.indexOf(af);if(ad>-1&&ad!=ae){X.splice(ad,1);X.splice(ae,0,af)}}};this.foreachObject=function(ae){for(var ad=0;ad<X.length;ad++){if(ae(ad,X[ad])===true){break}}};this.seekObject=function(ae){for(var ad=0;ad<X.length;ad++){if(ae(ad,X[ad])===true){return X[ad]}}return null};this.setCompositeMode(h.COMPOSITE_MODE.SOURCE_OVER)}var l=new function(){var Y=this;var ax=null;var aa=0;var ah=function(aA){if(aA!=null){var az;for(az in aA){return true}}return false};var ak=function(az,aA){if(az===aA){return 1}if(az!==undefined&&aA!==undefined){return 2}return 0};var U=function(az,aC,aB,aA){if(az===false||aC===false){return false}if(aB<0){aB=0}else{if(aB>1){aB=1}}var aD=az+(aC-az)*aB;if(aA==1){return A.roundPixelValue(aD)}else{if(aA==2){return A.roundOpacityValue(aD)}}return aD};var au=function(aA,az,aB){if(aA===false||az===false){return false}if(aA!=null&&aA.length==4&&az!=null&&az.length==4&&!ar(aA,az)){return[Math.max(Math.min(Math.floor(aA[0]+(az[0]-aA[0])*aB),255),0),Math.max(Math.min(Math.floor(aA[1]+(az[1]-aA[1])*aB),255),0),Math.max(Math.min(Math.floor(aA[2]+(az[2]-aA[2])*aB),255),0),aA[3]+(az[3]-aA[3])*aB]
}return aA};var ar=function(aA,az){if(aA!=null&&az!=null){if(aA===az){return true}if(aA.length==4&&az.length==4){return aA[0]===az[0]&&aA[1]===az[1]&&aA[2]===az[2]&&aA[3]===az[3]}}return false};var af=function(aA,az){if(aA!=null&&az!=null){if(aA===az){return true}if(aA.left===az.left&&aA.top===az.top&&aA.width===az.width&&aA.height===az.height&&aA.opacity===az.opacity&&aA.visible===az.visible&&aA.fontSize===az.fontSize){if(aA.color!==az.color&&!ar(aA.color,az.color)){return false}if(aA.backColor!==az.backColor&&!ar(aA.backColor,az.backColor)){return false}if(Y.useTransformations()||aw(aA.transform,az.transform)){if(aA.transform!==az.transform){return ad(aA.transform,az.transform)}}return true}}return false};var ab=function(aA,az){if(aA!=null&&az!=null){if(aA===az){return true}if(ak(aA.left,az.left)>0&&ak(aA.top,az.top)>0&&ak(aA.width,az.width)>0&&ak(aA.height,az.height)>0&&ak(aA.opacity,az.opacity)>0&&ak(aA.visible,az.visible)>0&&ak(aA.fontSize,az.fontSize)>0&&ak(aA.color,az.color)>0&&ak(aA.backColor,az.backColor)>0){if(Y.useTransformations()||aw(aA.transform,az.transform)){if(aA.transform!==az.transform){return ai(aA.transform,az.transform)
}}return true}}return false};var ae=function(az){return az!=null&&az.important===true};var aw=function(az,aA){return ae(az)||ae(aA)};var ad=function(az,aA){if(az!=null&&aA!=null){if(az===aA){return true}if(az!==false&&aA!==false){return az.translateX===aA.translateX&&az.translateY===aA.translateY&&az.translateZ===aA.translateZ&&az.scale===aA.scale&&az.scaleX===aA.scaleX&&az.scaleY===aA.scaleY&&az.scaleZ===aA.scaleZ&&az.skewX===aA.skewX&&az.skewY===aA.skewY&&az.rotate===aA.rotate&&az.rotateX===aA.rotateX&&az.rotateY===aA.rotateY&&az.rotateZ===aA.rotateZ}}return false};var ai=function(az,aA){if(az!=null&&aA!=null){if(az===aA){return true}if(az!==false&&aA!==false){return ak(az.translateX,aA.translateX)>0&&ak(az.translateY,aA.translateY)>0&&ak(az.translateZ,aA.translateZ)>0&&ak(az.scale,aA.scale)>0&&ak(az.scaleX,aA.scaleX)>0&&ak(az.scaleY,aA.scaleY)>0&&ak(az.scaleZ,aA.scaleZ)>0&&ak(az.skewX,aA.skewX)>0&&ak(az.skewY,aA.skewY)>0&&ak(az.rotate,aA.rotate)>0&&ak(az.rotateX,aA.rotateX)>0&&ak(az.rotateY,aA.rotateY)>0&&ak(az.rotateZ,aA.rotateZ)>0
}}return false};var am=function(az,aA){if(az!=null&&aA!=null&&az!==aA&&!ai(az,aA)){if(az===false||aA===false){return false}if(!ah(aA)){return az}var aB={};if(az.important===true||aA.important===true){aB.important=true}if(az.translateX!==undefined){aB.translateX=az.translateX}else{if(aA.translateX!==undefined){aB.translateX=aA.translateX}}if(az.translateY!==undefined){aB.translateY=az.translateY}else{if(aA.translateY!==undefined){aB.translateY=aA.translateY}}if(az.translateZ!==undefined){aB.translateZ=az.translateZ}else{if(aA.translateZ!==undefined){aB.translateZ=aA.translateZ}}if(az.scale!==undefined){aB.scale=az.scale}else{if(aA.scale!==undefined){aB.scale=aA.scale}}if(az.scaleX!==undefined){aB.scaleX=az.scaleX}else{if(aA.scaleX!==undefined){aB.scaleX=aA.scaleX}}if(az.scaleY!==undefined){aB.scaleY=az.scaleY}else{if(aA.scaleY!==undefined){aB.scaleY=aA.scaleY}}if(az.scaleZ!==undefined){aB.scaleZ=az.scaleZ}else{if(aA.scaleZ!==undefined){aB.scaleZ=aA.scaleZ}}if(az.skewX!==undefined){aB.skewX=az.skewX
}else{if(aA.skewX!==undefined){aB.skewX=aA.skewX}}if(az.skewY!==undefined){aB.skewY=az.skewY}else{if(aA.skewY!==undefined){aB.skewY=aA.skewY}}if(az.rotate!==undefined){aB.rotate=az.rotate}else{if(aA.rotate!==undefined){aB.rotate=aA.rotate}}if(az.rotateX!==undefined){aB.rotateX=az.rotateX}else{if(aA.rotateX!==undefined){aB.rotateX=aA.rotateX}}if(az.rotateY!==undefined){aB.rotateY=az.rotateY}else{if(aA.rotateY!==undefined){aB.rotateY=aA.rotateY}}if(az.rotateZ!==undefined){aB.rotateZ=az.rotateZ}else{if(aA.rotateZ!==undefined){aB.rotateZ=aA.rotateZ}}return aB}return az};var S=function(az,aA,aB){if(az!=null&&aA!=null&&az!==aA&&!ad(az,aA)){if(az===false||aA===false){return false}if(!ah(aA)){return az}var aC={};if(az.important===true||aA.important===true){aC.important=true}if(az.translateX!==undefined&&aA.translateX!==undefined){aC.translateX=U(az.translateX,aA.translateX,aB,1)}if(az.translateY!==undefined&&aA.translateY!==undefined){aC.translateY=U(az.translateY,aA.translateY,aB,1)}if(az.translateZ!==undefined&&aA.translateZ!==undefined){aC.translateZ=U(az.translateZ,aA.translateZ,aB,1)
}if(az.scale!==undefined&&aA.scale!==undefined){aC.scale=U(az.scale,aA.scale,aB,0)}if(az.scaleX!==undefined&&aA.scaleX!==undefined){aC.scaleX=U(az.scaleX,aA.scaleX,aB,0)}if(az.scaleY!==undefined&&aA.scaleY!==undefined){aC.scaleY=U(az.scaleY,aA.scaleY,aB,0)}if(az.scaleZ!==undefined&&aA.scaleZ!==undefined){aC.scaleZ=U(az.scaleZ,aA.scaleZ,aB,0)}if(az.skewX!==undefined&&aA.skewX!==undefined){aC.skewX=U(az.skewX,aA.skewX,aB,0)}if(az.skewY!==undefined&&aA.skewY!==undefined){aC.skewY=U(az.skewY,aA.skewY,aB,0)}if(az.rotate!==undefined&&aA.rotate!==undefined){aC.rotate=U(az.rotate,aA.rotate,aB,0)}if(az.rotateX!==undefined&&aA.rotateX!==undefined){aC.rotateX=U(az.rotateX,aA.rotateX,aB,0)}if(az.rotateY!==undefined&&aA.rotateY!==undefined){aC.rotateY=U(az.rotateY,aA.rotateY,aB,0)}if(az.rotateZ!==undefined&&aA.rotateZ!==undefined){aC.rotateZ=U(az.rotateZ,aA.rotateZ,aB,0)}return aC}return az};var av=function(aB,aA){if(aB!=null&&aA!=null&&aB!==aA&&!ab(aB,aA)){if(!ah(aA)){return aB}var az={};if(aB.zIndex!==undefined){az.zIndex=aB.zIndex
}if(aB.postZIndex!==undefined){az.postZIndex=aB.postZIndex}if(aB.action!==undefined){az.action=aB.action}if(aB.preAction!==undefined){az.preAction=aB.preAction}if(aB.postAction!==undefined){az.postAction=aB.postAction}if(aB.left!==undefined){az.left=aB.left}else{if(aA.left!==undefined){az.left=aA.left}}if(aB.top!==undefined){az.top=aB.top}else{if(aA.top!==undefined){az.top=aA.top}}if(aB.width!==undefined){az.width=aB.width}else{if(aA.width!==undefined){az.width=aA.width}}if(aB.height!==undefined){az.height=aB.height}else{if(aA.height!==undefined){az.height=aA.height}}if(aB.opacity!==undefined){az.opacity=aB.opacity}else{if(aA.opacity!==undefined){az.opacity=aA.opacity}}if(aB.visible!==undefined){az.visible=aB.visible}else{if(aA.visible!==undefined){az.visible=aA.visible}}if(aB.fontSize!==undefined){az.fontSize=aB.fontSize}else{if(aA.fontSize!==undefined){az.fontSize=aA.fontSize}}if(aB.color!==undefined){az.color=aB.color}else{if(aA.color!==undefined){az.color=aA.color}}if(aB.backColor!==undefined){az.backColor=aB.backColor
}else{if(aA.backColor!==undefined){az.backColor=aA.backColor}}if(Y.useTransformations()){if(aB.baseWidth!==undefined){az.baseWidth=aB.baseWidth}if(aB.baseHeight!==undefined){az.baseHeight=aB.baseHeight}}if(Y.useTransformations()||aw(aB.transform,aA.transform)){if(aB.transform!==undefined&&aA.transform!==undefined){az.transform=am(aB.transform,aA.transform)}else{if(aB.transform!==undefined){az.transform=aB.transform}else{if(aA.transform!==undefined){az.transform=aA.transform}}}}return az}return aB};var al=function(aC,aA,aB){if(aC!=null&&aA!=null&&aC!==aA&&!af(aC,aA)){if(!ah(aA)){return aC}var az={};if(aC.left!==undefined&&aA.left!==undefined){az.left=U(aC.left,aA.left,aB,1)}if(aC.top!==undefined&&aA.top!==undefined){az.top=U(aC.top,aA.top,aB,1)}if(aC.width!==undefined&&aA.width!==undefined){az.width=U(aC.width,aA.width,aB,1)}if(aC.height!==undefined&&aA.height!==undefined){az.height=U(aC.height,aA.height,aB,1)}if(aC.opacity!==undefined&&aA.opacity!==undefined){az.opacity=U(aC.opacity,aA.opacity,aB,2)
}if(aC.visible!==undefined&&aA.visible!==undefined){az.visible=aC.visible||aA.visible}if(aC.fontSize!==undefined&&aA.fontSize!==undefined){az.fontSize=U(aC.fontSize,aA.fontSize,aB,1)}if(aC.color!==undefined&&aA.color!==undefined){az.color=au(aC.color,aA.color,aB)}if(aC.backColor!==undefined&&aA.backColor!==undefined){az.backColor=au(aC.backColor,aA.backColor,aB)}if(Y.useTransformations()){if(aC.baseWidth!==undefined){az.baseWidth=aC.baseWidth}if(aC.baseHeight!==undefined){az.baseHeight=aC.baseHeight}}if(Y.useTransformations()||aw(aC.transform,aA.transform)){if(aC.transform!==undefined&&aA.transform!==undefined){az.transform=S(aC.transform,aA.transform,aB)}}return az}return aC};var aj=function(az,aA){if(az!=null){if(az.left!==undefined&&az.left!==false){az.left=A.getScaledValue(az.left,aA)}if(az.top!==undefined&&az.top!==false){az.top=A.getScaledValue(az.top,aA)}if(az.width!==undefined&&az.width!==false){az.width=A.getScaledValue(az.width,aA)}if(az.height!==undefined&&az.height!==false){az.height=A.getScaledValue(az.height,aA)
}if(az.fontSize!==undefined&&az.fontSize!==false){az.fontSize=A.getScaledValue(az.fontSize,aA)}if(az.baseWidth!==undefined&&az.baseWidth!==false){az.baseWidth=A.getScaledValue(az.baseWidth,aA)}if(az.baseHeight!==undefined&&az.baseHeight!==false){az.baseHeight=A.getScaledValue(az.baseHeight,aA)}if(az.transform!=null&&az.transform!==false){if(az.transform.translateX!==undefined&&az.transform.translateX!==false){az.transform.translateX=A.getScaledValue(az.translateX,aA)}if(az.transform.translateY!==undefined&&az.transform.translateY!==false){az.transform.translateY=A.getScaledValue(az.translateY,aA)}if(az.transform.translateZ!==undefined&&az.transform.translateZ!==false){az.transform.translateZ=A.getScaledValue(az.translateZ,aA)}}}};var at=function(az,aA){if(az!=null){var aB=Y.useTransformations();var aD=aw(az.transform,aA!=null?aA.transform:null);if(aB&&az.transform===false){return null}var aC={};if((aB||aD)&&az.transform!=null){var aF=az.transform;var aE=aA!=null?aA.transform:null;if(aF.translateX!==undefined){if(aE==null||aE.translateX!==aF.translateX){aC.translateX=az.translateX===false?"":aF.translateX
}}if(aF.translateY!==undefined){if(aE==null||aE.translateY!==aF.translateY){aC.translateY=az.translateY===false?"":aF.translateY}}if(aF.translateZ!==undefined){if(aE==null||aE.translateZ!==aF.translateZ){aC.translateZ=az.translateZ===false?"":aF.translateZ}}if(aF.scale!==undefined){if(aE==null||aE.scale!==aF.scale){aC.scale=az.scale===false?"":aF.scale}}if(aF.scaleX!==undefined){if(aE==null||aE.scaleX!==aF.scaleX){aC.scaleX=az.scaleX===false?"":aF.scaleX}}if(aF.scaleY!==undefined){if(aE==null||aE.scaleY!==aF.scaleY){aC.scaleY=az.scaleY===false?"":aF.scaleY}}if(aF.scaleZ!==undefined){if(aE==null||aE.scaleZ!==aF.scaleZ){aC.scaleZ=az.scaleZ===false?"":aF.scaleZ}}if(aF.skewX!==undefined){if(aE==null||aE.skewX!==aF.skewX){aC.skewX=az.skewX===false?"":aF.skewX}}if(aF.skewY!==undefined){if(aE==null||aE.skewY!==aF.skewY){aC.skewY=az.skewY===false?"":aF.skewY}}if(aF.rotate!==undefined){if(aE==null||aE.rotate!==aF.rotate){aC.rotate=az.rotate===false?"":aF.rotate}}if(aF.rotateX!==undefined){if(aE==null||aE.rotateX!==aF.rotateX){aC.rotateX=az.rotateX===false?"":aF.rotateX
}}if(aF.rotateY!==undefined){if(aE==null||aE.rotateY!==aF.rotateY){aC.rotateY=az.rotateY===false?"":aF.rotateY}}if(aF.rotateZ!==undefined){if(aE==null||aE.rotateZ!==aF.rotateZ){aC.rotateZ=az.rotateZ===false?"":aF.rotateZ}}}else{if(az.left!==undefined){if(aA==null||aA.left!==az.left){if(aB){aC.translateX=az.left===false?"":az.left}else{aC.left=az.left===false?"":az.left}}}if(az.top!==undefined){if(aA==null||aA.top!==az.top){if(aB){aC.translateY=az.top===false?"":az.top}else{aC.top=az.top===false?"":az.top}}}if(az.width!==undefined){if(aA==null||aA.width!==az.width){if(aB){if(az.baseWidth!==undefined&&az.baseWidth!==false){aC.scaleX=az.width===false?"":az.width/az.baseWidth}else{aC.scaleX=""}}else{aC.width=az.width===false?"":az.width}}}if(az.height!==undefined){if(aA==null||aA.height!==az.height){if(aB){if(az.baseHeight!==undefined&&az.baseHeight!==false){aC.scaleY=az.height===false?"":az.height/az.baseHeight}else{aC.scaleY=""}}else{aC.height=az.height===false?"":az.height}}}}if(az.opacity!==undefined){if(aA==null||aA.opacity!==az.opacity){aC.opacity=az.opacity===false?"":az.opacity
}}if(az.fontSize!==undefined){if(aA==null||aA.fontSize!==az.fontSize){aC.fontSize=az.fontSize===false?"":az.fontSize}}if(az.color!==undefined){if(aA==null||!ar(aA.color,az.color)){aC.color=az.color===false?"":z.createColor(az.color)}}if(az.backColor!==undefined){if(aA==null||!ar(aA.backColor,az.backColor)){aC.backgroundColor=az.backColor===false?"":z.createColor(az.backColor)}}return aC}return null};var X=function(az){if(az!=null&&a.isNum(az.duration)){return az.duration*1}return n.ANIMATION_DURATION};var ac=function(az){if(az!=null&&a.isFullStr(az.ease)){return az.ease}return n.ANIMATION_EASE};var ay=function(az){if(az!=null){if(az.animationCounter==null){az.isAnimating=false;az.animationCounter=0}az.animationCounter++;if(!az.isAnimating){az.isAnimating=true;if(typeof az.animationsStarted=="function"){az.animationsStarted()}}}aa++;Y.isAnimating=true};var W=function(az){if(az!=null&&az.animationCounter!=null){az.animationCounter--;if(az.animationCounter<=0){az.animationCounter=0;if(az.isAnimating){az.isAnimating=false;
if(typeof az.animationsReady=="function"){az.animationsReady()}if(typeof az.animationsCompleted=="function"){az.animationsCompleted()}}}}aa--;if(aa<=0){aa=0;Y.isAnimating=false;if(ax!=null){var aB=ax;ax=null;if(aB.length>0){for(var aA=0;aA<aB.length;aA++){aB[aA]()}}}}};var ap=function(aD,aB,aA,aC,az,aE){if(aD!=null){if(aB){if(aE==null||aE.visible===false){aD.css({display:"none"})}}if(ah(aA)){aD.css(aA)}if(aC!=null){if(aC.zIndex!=null){if(az==null||az.zIndex!==aC.zIndex){if(aE==null||aE.zIndex===aC.zIndex){aD.css("z-index",aC.zIndex)}}}if(typeof aC.action=="function"){aC.action(aD,aC,az,aE)}}}};var aq=function(aC,aA,az,aB,aD){if(aC!=null){if(aA){if(aD==null||aD.visible===false){aC.css({display:"none"})}}if(ah(az)){aC.css(az)}if(aB!=null){if(aB.postZIndex!=null&&aB.zIndex!==aB.postZIndex){if(aD==null||aD.postZIndex===aB.postZIndex){aC.css("z-index",aB.postZIndex);aB.zIndex=aB.postZIndex}}if(typeof aB.postAction=="function"){aB.postAction(aC,aB,aD)}}}};var ag=function(az){if(az!=null&&az.transformClass!==true&&az.transformClass!==false){if(a.isFullStr(az.transformClass)){Y.putClass(az,az.transformClass)
}else{Y.putClass(az,Y.use3d()?o.RENDERER.CSS.CLASS_TRANSFORM_3D:o.RENDERER.CSS.CLASS_TRANSFORM)}az.transformClass=true}};var T=function(az){if(az!=null&&az.transformOrigin!==true&&az.transformOrigin!==false){if(a.isFullStr(az.transformOrigin)){az.css({transformOrigin:az.transformOrigin})}else{az.css({transformOrigin:"0 0"})}az.transformOrigin=true}};var Z=function(az){if(az!=null&&az.transformPerspective!==true&&az.transformPerspective!==false){if(a.isNum(az.transformPerspective)){az.css({perspective:az.transformPerspective*1})}else{az.css({perspective:Math.floor(n.SCREEN_WIDTH*0.5)})}az.transformPerspective=true}};var an=function(aC,aB,az,aA){if(aC!=null&&aB!=null){if(Y.useTransformations()||aw(az!=null?az.transform:null,aA!=null?aA.transform:null)){if(aB.translateX!=null||aB.translateY!=null||aB.translateZ!=null||aB.scale!=null||aB.scaleX!=null||aB.scaleY!=null||aB.scaleZ!=null||aB.skewX!=null||aB.skewY!=null||aB.rotate!=null||aB.rotateX!=null||aB.rotateY!=null||aB.rotateZ!=null){ag(aC)
}if(aB.skewX!=null||aB.skewY!=null||aB.rotate!=null||aB.rotateX!=null||aB.rotateY!=null||aB.rotateZ!=null||aB.scale!=null||aB.scaleX!=null||aB.scaleY!=null||aB.scaleZ!=null){T(aC)}if(aB.rotateX!=null||aB.rotateY!=null||aB.rotateZ!=null){Z(aC)}}}};var ao=function(aD,aC,aJ,aF,aL,aO){var aB=true;if(aD!=null&&aD.length>0&&ah(aJ)){var aE=av(aJ,aD.currentState);var az=ah(aC);if(az||!af(aD.currentState,aE)){var aA=Y.useAnimations()&&aF!==false;var aH=false;var aI=false;if(aD.currentState!=null){if(aD.currentState.opacity===0&&aE.opacity===0&&(aC==null||aC.opacity==null||aC.opacity===0)){aA=false}if(aD.currentState.visible===false&&aE.visible===false&&(aC==null||aC.visible==null||aC.visible===false)){aA=false}}if(!aA){az=false}if(az||!af(aD.currentState,aE)){var aM=at(aE,az?aC:aD.currentState);if(aM!=null){an(aD,aM,aE,az?aC:aD.currentState);if(az){if(aC.zIndex!=null&&(aD.currentState==null||aD.currentState.zIndex!==aC.zIndex)){aD.css("z-index",aC.zIndex)}if(typeof aC.action=="function"){aC.action(aD,aC,aE,aF)
}if(aC.visible===true&&(aD.currentState==null||aD.currentState.visible!==true)){aH=true}}if(aE.visible===true&&(aD.currentState==null||aD.currentState.visible!==true)){aH=true}if(aE.visible===false&&(aH||aD.currentState==null||aD.currentState.visible!==false)){aI=true}if(aH){aD.css({display:""});if(aA&&!aI&&!ah(aM)){aA=false}}if(aA){var aN=X(aF);var aK=ac(aF);var aG=at(aC,aD.currentState);aB=false;ay(aL);if(ah(aG)){aD.css(aG)}if(ah(aM)){if(Y.useTransitions()){aD.transition(aM,aN,aK,function(){ap(aD,aI,null,aE,aC,aD.currentState);W(aL);if(typeof aO=="function"){aO()}})}else{aD.animate(aM,aN,aK,function(){ap(aD,aI,null,aE,aC,aD.currentState);W(aL);if(typeof aO=="function"){aO()}})}}else{aD.delay(aN+(Y.useTransitions()?i.transit.transitionEndDelay:0)).queue(function(){ap(aD,aI,null,aE,aC,aD.currentState);W(aL);if(typeof aO=="function"){aO()}aD.dequeue()})}}else{ap(aD,aI,aM,aE,null,null)}aD.fromState=az!=null?aC:aD.currentState;aD.currentState=aE}}}}if(aB&&typeof aO=="function"){aO()}};var V=function(aB,aE,aD,aC,aL){var aA=true;
if(aB!=null&&aB.length>0&&ah(aE)){var aJ=av(aE,aB.currentState);if(!af(aB.currentState,aJ)){var az=Y.useAnimations()&&aD!==false;var aF=false;var aG=false;if(aB.currentState!=null){if(aB.currentState.opacity===0&&aJ.opacity===0){az=false}if(aB.currentState.visible===false&&aJ.visible===false){az=false}}var aH=at(aJ,aB.currentState);if(aH!=null){an(aB,aH,aJ,aB.currentState);if(aJ.zIndex!=null&&(aB.currentState==null||aB.currentState.zIndex!==aJ.zIndex)){aB.css("z-index",aJ.zIndex)}if(typeof aJ.preAction=="function"){aJ.preAction(aB,aJ,aD)}if(aJ.visible===true&&(aB.currentState==null||aB.currentState.visible!==true)){aF=true}if(aJ.visible===false&&(aB.currentState==null||aB.currentState.visible!==false)){aG=true}if(aF){aB.css({display:""});if(az&&!aG&&!ah(aH)){az=false}}if(az){var aK=X(aD);var aI=ac(aD);aA=false;ay(aC);if(ah(aH)){if(Y.useTransitions()){aB.transition(aH,aK,aI,function(){aq(aB,aG,null,aJ,aB.currentState);W(aC);if(typeof aL=="function"){aL()}})}else{aB.animate(aH,aK,aI,function(){aq(aB,aG,null,aJ,aB.currentState);
W(aC);if(typeof aL=="function"){aL()}})}}else{aB.delay(aK+(Y.useTransitions()?i.transit.transitionEndDelay:0)).queue(function(){aq(aB,aG,null,aJ,aB.currentState);W(aC);if(typeof aL=="function"){aL()}aB.dequeue()})}}else{aq(aB,aG,aH,aJ,null)}aB.fromState=aB.currentState;aB.currentState=aJ}}}if(aA&&typeof aL=="function"){aL()}};this.isAnimating=false;this.useAnimations=function(){return n.ANIMATE>0};this.useTransformations=function(){return i.transit!=null&&n.TRANSFORM>0};this.useTransitions=function(){return i.transit!=null&&n.ANIMATE==2};this.use3d=function(){return i.transit!=null&&n.TRANSFORM==2};this.setup=function(){if(this.useTransformations()){i.transit.use3d=this.use3d()}};this.onReady=function(az){if(typeof az=="function"){if(this.isAnimating){if(ax==null){ax=[]}ax.push(az)}else{az()}}};this.transfer=function(aB,az,aA){return al(aB,az,aA)};this.scale=function(az,aA){return aj(az,aA)};this.combine=function(aA,az){return av(aA,az)};this.render=function(aC,az,aA,aB,aD){V(aC,az,aA,aB,aD)
};this.renderFromTo=function(aD,aA,aE,aB,aC,az){ao(aD,aA,aE,aB,aC,az)};this.show=function(aB,az,aA,aC){V(aB,o.RENDERER.STATE.SHOW,az!=null?az:false,aA,aC)};this.hide=function(aB,az,aA,aC){V(aB,o.RENDERER.STATE.HIDE,az!=null?az:false,aA,aC)};this.toggle=function(aB,az,aA,aC){if(aB!=null&&af(aB.currentState,o.RENDERER.STATE.SHOW)){this.hide(aB,az,aA,aC)}else{this.show(aB,az,aA,aC)}};this.fadeIn=function(aB,az,aA,aC){if(aB!=null&&af(aB.currentState,o.RENDERER.STATE.FADE_IN_TO)){if(typeof aC=="function"){aC()}}else{ao(aB,o.RENDERER.STATE.FADE_IN_FROM,o.RENDERER.STATE.FADE_IN_TO,az,aA,aC)}};this.fadeOut=function(aB,az,aA,aC){if(aB!=null&&af(aB.currentState,o.RENDERER.STATE.FADE_OUT_TO)){if(typeof aC=="function"){aC()}}else{ao(aB,o.RENDERER.STATE.FADE_OUT_FROM,o.RENDERER.STATE.FADE_OUT_TO,az,aA,aC)}};this.fadeToggle=function(aB,az,aA,aC){if(aB!=null&&af(aB.currentState,o.RENDERER.STATE.FADE_IN_TO)){this.fadeOut(aB,az,aA,aC)}else{this.fadeIn(aB,az,aA,aC)}};this.delay=function(aC,az,aD){if(aC!=null&&aC.length>0){var aB=Y.useAnimations()&&az!==false;
if(aB){var aA=X(az);aC.delay(aA+(Y.useTransitions()?i.transit.transitionEndDelay:0)).queue(function(){if(typeof aD=="function"){aD()}aC.dequeue()})}else{if(typeof aD=="function"){aD()}}}else{if(typeof aD=="function"){aD()}}};this.applyClass=function(aA,az){if(aA!=null&&aA.currentClass!=az){this.removeClass(aA,aA.currentClass);this.putClass(aA,az);aA.currentClass=az}};this.applySubclass=function(aA,az){if(aA!=null&&aA.currentSubclass!=az){this.removeClass(aA,aA.currentSubclass);this.putClass(aA,az);aA.currentSubclass=az}};this.putClass=function(aA,az){if(aA!=null&&a.isFullStr(az)){aA.addClass(az)}};this.removeClass=function(aA,az){if(aA!=null&&a.isFullStr(az)){aA.removeClass(az)}};this.replaceClass=function(aA,aB,az){if(aA!=null&&a.isFullStr(aB)&&a.isFullStr(az)){this.removeClass(aA,aB);this.putClass(aA,az)}};this.replaceClasses=function(aA,az){if(a.isFullStr(aA)){if(a.isFullStr(az)){i("."+aA).removeClass(aA).addClass(az)}else{i("."+aA).removeClass(aA)}}};this.addClasses=function(aA,az){if(a.isFullStr(aA)&&a.isFullStr(az)){i("."+aA).addClass(az)
}};this.removeClasses=function(az,aA){if(a.isFullStr(az)&&a.isFullStr(aA)){i("."+az).removeClass(aA)}};this.getTransformZeroClass=function(){if(this.useTransformations()){return this.use3d()?o.RENDERER.CSS.CLASS_TRANSFORM_3D_ZERO:o.RENDERER.CSS.CLASS_TRANSFORM_ZERO}return null};this.setupTransformZero=function(az){this.putClass(az,this.getTransformZeroClass())}};var y=new function(){var V=function(X,Y){if(X===false){return false}if(Y!=null&&Y.currentState!=null){if(Y.currentState.visible===false||Y.currentState.opacity===0){return false}}return true};var S=function(Y,X,Z,aa){if(Y!=null){Y.showing=true;l.onReady(function(){if(Y.showing){Y.showing=false;l.fadeOut(Y,false);if(typeof Y.loaded=="function"){Y.loaded()}l.fadeIn(Y,V(X,Z));if(typeof aa=="function"){aa()}}})}};var U=function(X){if(X!=null&&X.loadingUrl!=null){X.loadingUrl=null}};var W=function(Y,X,Z,aa){if(Y!=null){if(Y.loading!==true){Y.loading=true;Y.showing=false;Y.bind("load",function(){Y.unbind("load");if(Y.loading){Y.loading=false;
S(Y,X,Z,aa)}})}}};var T=function(Y,Z,X,aa){U(Y);if(Y!=null){if(Y.loading===true){Y.loading=false;Y.unbind("load")}if(Y.showing===true){Y.showing=false}if(Z){l.fadeOut(Y,V(X,aa))}}};this.setupFallback=function(X,Y,Z){if(X!=null){X.unbind("error");X.bind("error",function(){if(a.isFullStr(Y)){if(X.attr("src")!=Y){X.attr("src",Y);if(typeof Z=="function"){Z()}}}})}};this.controlImage=function(Y,X,Z,aa){W(Y,X,Z,aa)};this.prepareImage=function(Y,Z,X,aa){T(Y,Z,X,aa)};this.loadImage=function(Y,Z,X,aa,ab){if(Y!=null){if(a.isFullStr(Z)){if(Y.attr("src")==Z){U(Y);if(Y.loading!==true&&Y.showing!==true){l.fadeIn(Y,V(X,aa))}if(typeof ab=="function"){ab()}}else{T(Y,true,false,null);Y.loadingUrl=Z;l.onReady(function(){if(Y.loadingUrl==Z){Y.loadingUrl=null;W(Y,X,aa,ab);if(typeof Y.prepare=="function"){Y.prepare()}Y.attr("src",Z)}})}}else{T(Y,true,false,null);if(typeof ab=="function"){ab()}}}};this.swapImage=function(ab,aa,Z,Y,X){if(ab!=null&&aa!=null){T(ab,false,false,null);T(aa,false,false,null);this.loadImage(ab,Z,Y,X,function(){l.fadeOut(aa,V(Y,X))
})}}};var A=new function(){this.roundPixelValue=function(S){if(S<0){return -Math.round(-S)}else{return Math.round(S)}};this.roundOpacityValue=function(S){if(S<0){return 0}else{if(S>1){return 1}else{return Math.round(S*1000)/1000}}};this.getScaledValue=function(S,T){return this.roundPixelValue(S*(T!=null?T:n.SCREEN_FACTOR))};this.scaleProperty=function(U,S,T){if(U!=null&&S!=null&&typeof U[S]=="number"){U[S]=this.getScaledValue(U[S],T)}};this.scaleState=function(S,T){l.scale(S,T)};this.createCanvas=function(U,T,S){return a.strReplace(o.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(T,n.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(S,n.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(U))};this.createIFrame=function(S,T){return a.strReplace(a.strReplace(o.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(S)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(T,"about:blank")))};this.createColor=function(S){if(S!=null&&S.indexOf("tvx-")==0){var S=S.substr(4);if(S=="white"){return o.COMMON.COLOR.WHITE}else{if(S=="white-soft"){return o.COMMON.COLOR.WHITE_SOFT
}else{if(S=="black"){return o.COMMON.COLOR.BLACK}else{if(S=="black-soft"){return o.COMMON.COLOR.BLACK_SOFT}else{if(S=="gray"){return o.COMMON.COLOR.GRAY}else{if(S=="gray-soft"){return o.COMMON.COLOR.GRAY_SOFT}else{if(S=="red"){return o.COMMON.COLOR.RED}else{if(S=="green"){return o.COMMON.COLOR.GREEN}else{if(S=="yellow"){return o.COMMON.COLOR.YELLOW}else{if(S=="blue"){return o.COMMON.COLOR.BLUE}else{if(S=="glass"){return o.COMMON.COLOR.GLASS}}}}}}}}}}}}return null};this.createIcon=function(U,W,V,T){var S=V===false?o.COMMON.CSS.CLASS_ICON:o.COMMON.CSS.CLASS_ICON_INLINE;if(a.isFullStr(T)){S+=" "+T}if(a.isId(U)){if(a.isFullStr(W)){return a.strReplace(o.COMMON.HTML.ICON_STYLED,"{CLASS}",S).replace("{ICON}",U).replace("{STYLE}","color:"+W)}else{return a.strReplace(o.COMMON.HTML.ICON,"{CLASS}",S).replace("{ICON}",U)}}return a.strReplace(o.COMMON.HTML.ICON,"{CLASS}",S).replace("{ICON}",o.COMMON.ICON.DEFAULT)};this.createText=function(W,V,T,S){var U=T===false?o.COMMON.CSS.CLASS_TEXT:o.COMMON.CSS.CLASS_TEXT_INLINE;
if(a.isFullStr(S)){U+=" "+S}if(a.isFullStr(W)){if(a.isFullStr(V)){return a.strReplace(a.strReplace(o.COMMON.HTML.TEXT_STYLED.replace("{STYLE}","color:"+V),"{CLASS}",U),"{TEXT}",a.htmlTextEscape(W))}else{return a.strReplace(a.strReplace(o.COMMON.HTML.TEXT,"{CLASS}",U),"{TEXT}",a.htmlTextEscape(W))}}return a.strReplace(a.strReplace(o.COMMON.HTML.TEXT,"{CLASS}",U),"{TEXT}",a.htmlTextEscape(o.COMMON.TEXT.DEFAULT))};this.createTextStart=function(U,T,S){var V=T===false?o.COMMON.CSS.CLASS_TEXT:o.COMMON.CSS.CLASS_TEXT_INLINE;if(a.isFullStr(S)){V+=" "+S}if(a.isFullStr(U)){return a.strReplace(o.COMMON.HTML.TEXT_START_STYLED.replace("{STYLE}","color:"+U),"{CLASS}",V)}return a.strReplace(o.COMMON.HTML.TEXT_START,"{CLASS}",V)};this.createTextEnd=function(){return o.COMMON.HTML.TEXT_END}};var p=new function(){var af=16;var ag=32;var S="tvx:device_id";var U=/^[a-z-]+_[A-Za-z0-9]+_[0-9]+([0-9#])*$/;var ac=new s("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");
var ai=new s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");var ad=new s(a.strShuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"));var ah=new s("tuNiBAmqXwPd-aUIRFHn2YpVQ9gkD7zWC4jMGycJ8v65SrZ0.hO1eLfKboxEl3sT");var Y=function(am,al){return am!=null&&al>=0&&al<am.length?am.charAt(al):"0"};var aa=function(al){return al.indexOf("-")==0?"0"+al.substr(1):al};var aj=function(am,ap,al){var an=0;for(var ao=am.length;ao<al;ao++){am+=Y(ap,an++)}return am};var Z=function(al){return aj(aa(""+a.createHash(al)),aa(""+a.createHash(al,true)),af)};var ak=function(al){return a.isFullStr(al)&&U.test(al)};var ab=function(al){if(a.isFullStr(al)&&al.length<ag){return aj(al+"#",aa(""+a.createHash(al))+aa(""+a.createHash(al,true)),ag)}return al};var X=function(al){return a.isFullStr(al)?a.base64DecodeId(ah.normalizeString(al)):null};var V=function(al){return a.isFullStr(al)?ah.transformString(a.base64EncodeId(ab(al))):null};var W=function(){H.storage.remove(S)};var T=function(am){var al=H.storage.getFullStr(S,null);
if(!ak(X(al))){al=null}if(al==null&&am!=null&&am.info!=null&&am.info.platform!=null){al=V(am.info.platform+"_"+a.createKey(16)+"_"+I.getTimestamp());H.storage.set(S,al)}return al};var ae=function(al){if(al!=null&&al.info!=null&&al.info.platform!=null&&al.info.system!=null){if(al.info.system.macAddress!=null){return V(al.info.platform+"_"+al.info.system.macAddress)}else{if(al.info.system.deviceId!=null){return V(al.info.platform+"_"+al.info.system.deviceId)}else{if(al.info.id!=null){return V(al.info.platform+"_"+al.info.id)}}}}return T(al)};this.checkOrigin=function(al){if(a.isFullStr(al)){return al=="null"||al=="http://msx.benzac.de"||al=="https://msx.benzac.de"||al=="ms-appx://52357benzac.de.mediastationx"||al=="http://localhost"||al.indexOf("http://localhost:")==0||al.indexOf("file://")==0}return false};this.transformString=function(al){return ac.transformString(al)};this.normalizeString=function(al){return ac.normalizeString(al)};this.createHashKey=function(al,am){if(am=="local"){return ad.transformString(Z(al))
}return ai.transformString(Z(al))};this.clearDeviceId=function(){W()};this.getDeviceId=function(al){return ae(al)}};var b=new function(){var V=new c();var af=null;var ac=false;var Y=null;var ab=function(ai){if(af!=null){var ag=af;af=null;if(ag.length>0){for(var ah=0;ah<ag.length;ah++){ag[ah](ai)}}}};var U=function(ag){if(af==null){af=[]}af.push(ag)};var Z=function(ah,ag){if(a.isFullStr(ag)){if(a.isFullStr(ah)){return ag==ah}return false}return true};var W=function(ag){return ag!=null&&ag.info!=null&&ag.info.framework!=null?a.strFullCheck(ag.info.framework.name,null):null};var X=function(ag){return ag!=null&&ag.info!=null&&ag.info.framework!=null?a.strFullCheck(ag.info.framework.version,null):null};var T=function(ag){return ag!=null&&ag.info!=null&&ag.info.application!=null?a.strFullCheck(ag.info.application.name,null):null};var aa=function(ag){return ag!=null&&ag.info!=null&&ag.info.application!=null?a.strFullCheck(ag.info.application.version,null):null};var S=function(ag){return ag!=null&&ag.info!=null&&ag.info.content!=null?a.strFullCheck(ag.info.content.name,null):null
};var ae=function(ag){return ag!=null&&ag.info!=null&&ag.info.content!=null?a.strFullCheck(ag.info.content.version,null):null};var ad=function(){V.start();V.start();window.addEventListener("load",function(){V.stop()});H.storage.onReady(function(){V.stop()})};this.createCanvas=function(ai,ah,ag){return a.strReplace(o.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(ah,n.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(ag,n.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(ai))};this.createIFrame=function(ag,ah){return a.strReplace(a.strReplace(o.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(ag)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(ah,"about:blank")))};this.isReady=function(){return !V.isBusy()};this.onReady=function(ag){V.onReady(ag)};this.startInitService=function(){V.start()};this.stopInitService=function(){V.stop()};this.areSettingsValidated=function(){return ac};this.invalidateSettings=function(){ac=false;Y=null};this.validateSettings=function(ao){ac=true;Y=ao;var ax=null;var aj=null;var aA=null;
var aB=null;var aq=null;var aI=null;var aH=null;var ay=null;var aD=null;var ak=null;var ag=null;var am=null;var aE=null;var ar=null;var ap=null;var au=null;var aC=null;var aF=null;var ai=null;var az=null;var ah=null;var av=null;var at=null;var aw=null;var an=null;var al=null;var aG=null;if(ao!=null&&ao.info!=null){aH=ao.info.platform;ay=ao.info.id;if(ao.info.time!=null){ax=ao.info.time.offset;aj=ao.info.time.zoneOffset}if(ao.info.screen!=null){aA=ao.info.screen.width;aB=ao.info.screen.height;aq=ao.info.screen.factor;aI=ao.info.screen.zoomFactor}if(ao.info.framework!=null&&ao.info.framework.settings!=null){aD=ao.info.framework.settings.animate;ak=ao.info.framework.settings.transform;ag=ao.info.framework.settings.input;am=ao.info.framework.settings.remote;aE=ao.info.framework.settings.layout;ar=ao.info.framework.settings.scale;ap=ao.info.framework.settings.zoom;au=ao.info.framework.settings.center;aC=ao.info.framework.settings.background;aF=ao.info.framework.settings.leave;ai=ao.info.framework.settings.exit;
az=ao.info.framework.settings.back;ah=ao.info.framework.settings.volume;av=ao.info.framework.settings.busy;at=ao.info.framework.settings.speed;aw=ao.info.framework.settings.playback;an=ao.info.framework.settings.fullscreen;al=ao.info.framework.settings.suspend;aG=ao.info.framework.settings.secure}}n.TIME_OFFSET=a.strToNum(ax,n.TIME_OFFSET);n.TIME_ZONE_OFFSET=a.strToNum(aj,n.TIME_ZONE_OFFSET);n.SCREEN_WIDTH=a.strToNum(aA,n.SCREEN_WIDTH);n.SCREEN_HEIGHT=a.strToNum(aB,n.SCREEN_HEIGHT);n.SCREEN_FACTOR=a.strToNum(aq,n.SCREEN_FACTOR);n.ZOOM_FACTOR=a.strToNum(aI,n.ZOOM_FACTOR);n.PLATFORM=a.strFullCheck(aH,n.PLATFORM);n.ID=a.strFullCheck(ay,n.ID);n.ANIMATE=a.strToNum(aD,n.ANIMATE);n.TRANSFORM=a.strToNum(ak,n.TRANSFORM);n.INPUT=a.strToNum(ag,n.INPUT);n.REMOTE=a.strToNum(am,n.REMOTE);n.LAYOUT=a.strFullCheck(aE,n.LAYOUT);n.SCALE=a.strFullCheck(ar,n.SCALE);n.ZOOM=a.strFullCheck(ap,n.ZOOM);n.CENTER=a.strToNum(au,n.CENTER);n.BACKGROUND=a.strToNum(aC,n.BACKGROUND);n.LEAVE=a.strToNum(aF,n.LEAVE);n.EXIT=a.strToNum(ai,n.EXIT);
n.BACK=a.strToNum(az,n.BACK);n.VOLUME=a.strToNum(ah,n.VOLUME);n.BUSY=a.strToNum(av,n.BUSY);n.SPEED=a.strToNum(at,n.SPEED);n.PLAYBACK=a.strToNum(aw,n.PLAYBACK);n.FULLSCREEN=a.strToNum(an,n.FULLSCREEN);n.SUSPEND=a.strToNum(al,n.SUSPEND);n.SECURE=a.strToNum(aG,n.SECURE);ab(ao)};this.onValidatedSettings=function(ag){if(typeof ag=="function"){if(ac){ag(Y)}else{U(ag)}}};this.handleSettingsEvent=function(ah){if(ah!=null&&a.isFullStr(ah.event)&&ah.event.indexOf("settings:")==0){var ag=ah.event.substr(9);if(ag=="animate"){n.ANIMATE=a.strToNum(ah.value,n.ANIMATE)}else{if(ag=="transform"){n.TRANSFORM=a.strToNum(ah.value,n.TRANSFORM)}else{if(ag=="input"){n.INPUT=a.strToNum(ah.value,n.INPUT)}else{if(ag=="remote"){n.REMOTE=a.strToNum(ah.value,n.REMOTE)}else{if(ag=="layout"){n.LAYOUT=a.strToNum(ah.value,n.LAYOUT)}else{if(ag=="scale"){n.SCALE=a.strFullCheck(ah.value,n.SCALE)}else{if(ag=="zoom"){n.ZOOM=a.strFullCheck(ah.value,n.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(ag){return a.strFullCheck(W(ag),"-")+" "+a.strFullCheck(X(ag),"-")
};this.getApplicationInfo=function(ag){return a.strFullCheck(T(ag),"-")+" "+a.strFullCheck(aa(ag),"-")};this.getContentInfo=function(ag){return a.strFullCheck(S(ag),"-")+" "+a.strFullCheck(ae(ag),"-")};this.checkFramework=function(ai,ah,ag){return a.checkVersion(X(ai),ah)&&Z(W(ai),ag)};this.checkApplication=function(ai,ah,ag){return a.checkVersion(aa(ai),ah)&&Z(T(ai),ag)};this.checkContent=function(ai,ah,ag){return a.checkVersion(ae(ai),ah)&&Z(S(ai),ag)};this.isSameContentState=function(ah,ag){return ah!=null&&ag!=null&&ah.start===ag.start&&ah.restored===ag.restored&&ah.menuId===ag.menuId&&ah.menuFlag===ag.menuFlag&&ah.menuFocus===ag.menuFocus&&ah.menuIndex===ag.menuIndex&&ah.menuSize===ag.menuSize&&ah.contentId===ag.contentId&&ah.contentFlag===ag.contentFlag&&ah.contentFocus===ag.contentFocus&&ah.contentIndex===ag.contentIndex&&ah.contentSize===ag.contentSize&&ah.contentVisible===ag.contentVisible&&ah.panelId===ag.panelId&&ah.panelFlag===ag.panelFlag&&ah.panelFocus===ag.panelFocus&&ah.panelIndex===ag.panelIndex&&ah.panelSize===ag.panelSize&&ah.panelVisible===ag.panelVisible&&ah.videoVisible===ag.videoVisible&&ah.videoActive===ag.videoActive&&ah.playerVisible===ag.playerVisible&&ah.slideshowVisible===ag.slideshowVisible&&ah.volumeVisible===ag.volumeVisible&&ah.logVisible===ag.logVisible
};this.createChangedContentState=function(ah,ag){return ag!=null?{init:ag.init,initChanged:ah==null||ah.init!==ag.init,start:ag.start,startChanged:ah==null||ah.start!==ag.start,restored:ag.restored,restoredChanged:ah==null||ah.restored!==ag.restored,menuId:ag.menuId,menuIdChanged:ah==null||ah.menuId!==ag.menuId,menuFlag:ag.menuFlag,menuFlagChanged:ah==null||ah.menuFlag!==ag.menuFlag,menuFocus:ag.menuFocus,menuFocusChanged:ah==null||ah.menuFocus!==ag.menuFocus,menuIndex:ag.menuIndex,menuIndexChanged:ah==null||ah.menuIndex!==ag.menuIndex,menuSize:ag.menuSize,menuSizeChanged:ah==null||ah.menuSize!==ag.menuSize,contentId:ag.contentId,contentIdChanged:ah==null||ah.contentId!==ag.contentId,contentFlag:ag.contentFlag,contentFlagChanged:ah==null||ah.contentFlag!==ag.contentFlag,contentFocus:ag.contentFocus,contentFocusChanged:ah==null||ah.contentFocus!==ag.contentFocus,contentIndex:ag.contentIndex,contentIndexChanged:ah==null||ah.contentIndex!==ag.contentIndex,contentSize:ag.contentSize,contentSizeChanged:ah==null||ah.contentSize!==ag.contentSize,contentVisible:ag.contentVisible,contentVisibleChanged:ah==null||ah.contentVisible!==ag.contentVisible,panelId:ag.panelId,panelIdChanged:ah==null||ah.panelId!==ag.panelId,panelFlag:ag.panelFlag,panelFlagChanged:ah==null||ah.panelFlag!==ag.panelFlag,panelFocus:ag.panelFocus,panelFocusChanged:ah==null||ah.panelFocus!==ag.panelFocus,panelIndex:ag.panelIndex,panelIndexChanged:ah==null||ah.panelIndex!==ag.panelIndex,panelSize:ag.panelSize,panelSizeChanged:ah==null||ah.panelSize!==ag.panelSize,panelVisible:ag.panelVisible,panelVisibleChanged:ah==null||ah.panelVisible!==ag.panelVisible,videoVisible:ag.videoVisible,videoVisibleChanged:ah==null||ah.videoVisible!==ag.videoVisible,videoActive:ag.videoActive,videoActiveChanged:ah==null||ah.videoActive!==ag.videoActive,playerVisible:ag.playerVisible,playerVisibleChanged:ah==null||ah.playerVisible!==ag.playerVisible,slideshowVisible:ag.slideshowVisible,slideshowVisibleChanged:ah==null||ah.slideshowVisible!==ag.slideshowVisible,volumeVisible:ag.volumeVisible,volumeVisibleChanged:ah==null||ah.volumeVisible!==ag.volumeVisible,logVisible:ag.logVisible,logVisibleChanged:ah==null||ah.logVisible!==ag.logVisible}:ah
};ad()};var N=new function(){var a8="videoPlugin";var a7="vrq";var a4=100;var ap=30000;var aV=new s("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var a2=null;var ak=false;var a9=null;var ax=false;var ac=false;var S=false;var ag=false;var aa=null;var aP=new k();var an=new r(1000);var aU=new r(1000);var aY=false;var ar={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:n.SCREEN_WIDTH,height:n.SCREEN_HEIGHT};var aD=function(bk){return(bk!=null&&bk.webkitSupportsFullscreen===true)||document.fullscreenEnabled===true||document.msFullscreenEnabled===true||document.mozFullScreenEnabled===true||document.webkitFullscreenEnabled===true};var af=function(bk){return(bk!=null&&bk.webkitDisplayingFullscreen===true)||document.fullScreenElement!=null||document.msFullscreenElement!=null||document.mozFullScreen===true||document.webkitIsFullScreen===true};
var au=function(bk){if(bk!=null&&aD(bk)){try{if(typeof bk.webkitEnterFullScreen=="function"){bk.webkitEnterFullScreen();return true}else{if(typeof bk.requestFullscreen=="function"){bk.requestFullscreen();return true}else{if(typeof bk.msRequestFullscreen=="function"){bk.msRequestFullscreen();return true}else{if(typeof bk.mozRequestFullScreen=="function"){bk.mozRequestFullScreen();return true}else{if(typeof bk.webkitRequestFullscreen=="function"){bk.webkitRequestFullscreen();return true}}}}}}catch(bl){aN("Request fullscreen failed",bl)}}return false};var a5=function(bk){if(af(bk)){try{if(bk!=null&&typeof bk.webkitExitFullScreen=="function"){bk.webkitExitFullScreen();return true}else{if(typeof document.exitFullscreen=="function"){document.exitFullscreen();return true}else{if(typeof document.msExitFullscreen=="function"){document.msExitFullscreen();return true}else{if(typeof document.mozCancelFullScreen=="function"){document.mozCancelFullScreen();return true}else{if(typeof document.webkitExitFullscreen=="function"){document.webkitExitFullscreen();
return true}}}}}}catch(bl){aN("Exit fullscreen failed",bl)}}return false};var aR=function(bk){a2=new s(bk)};var aE=function(bk){if(ax){if(bk=="local"){return a2!=null?a2.createSteam():null}return aV.createSteam()}return null};var aM=function(bk,bl){if(ax){if(bl=="local"){return a2!=null?a2.resolveToken(bk):null}return aV.resolveToken(bk)}return null};var Z=function(bk,bl){if(ax){if(bl=="local"){return a2!=null?a2.transformString(bk):null}else{if(bl=="global"){return aV.transformString(bk)}else{if(bl=="shared"){return p.transformString(a2!=null?a2.transformString(bk):bk)}}}return aV.transformString(a2!=null?a2.transformString(bk):bk)}return null};var aS=function(bk,bl){if(ax){if(bl=="local"){return a2!=null?a2.normalizeString(bk):null}else{if(bl=="global"){return aV.normalizeString(bk)}else{if(bl=="shared"){return a2!=null?a2.normalizeString(p.normalizeString(bk)):p.normalizeString(bk)}}}return a2!=null?a2.normalizeString(aV.normalizeString(bk)):aV.normalizeString(bk)}return null};var a3=function(bk){if(a.isNum(bk)){bk=a.strToNum(bk,0);
if(isFinite(bk)){return bk}}return 0};var Y=function(){if(ar.position==0||ar.duration==0){try{var bk=false;if(ar.position==0){ar.position=a3(aa.getPosition());bk=ar.position>0}if(ar.duration==0){ar.duration=a3(aa.getDuration());bk=ar.duration>0}if(ar.position>0&&ar.duration>0){aI()}if(bk){X()}}catch(bl){aN("Start failed",bl);aI()}}else{aI()}};var aI=function(){ak=true;aL()};var aZ=function(){aL();if(ax&&!ak&&aa!=null&&typeof aa.getPosition=="function"&&typeof aa.getDuration=="function"){a9=setInterval(Y,a4)}};var aL=function(){if(a9!=null){clearInterval(a9);a9=null}};var a0=0;var aJ={};var am=function(bm){a0++;var bk=a7+a0+"_"+I.getTimestamp();var bl={timeout:new r(ap),callback:bm};aJ[bk]=bl;bl.timeout.start(function(){bd(bk,{error:"Request timed out"})});return bk};var bd=function(bk,bm){if(bk!=null){var bl=aJ[bk];if(bl!=null){bl.timeout.stop();delete aJ[bk];ad(bl.callback,bm)}}};var ad=function(bm,bk){if(typeof bm=="function"){try{bm(bk)}catch(bl){aN("Callback error",bl)}}};var W=new j();
var aQ=new r(500);var aw=null;var at=null;var U=function(bk){if(bk!=null){if(b.isSameContentState(aw,bk)){if(!b.isSameContentState(at,bk)){if(at==null){bk.init=true}at=b.createChangedContentState(at,bk);W.notifyObservers(at)}}else{aw=bk}}aC()};var a1=function(){if(ax){ao("info:content",function(bk){U(bk.info!=null&&bk.info.content!=null?bk.info.content.state:null)})}else{aC()}};var aC=function(bk){if(W.hasObservers()){if(a.isFullStr(bk)&&at!=null){W.notifyObserver(bk,at)}aQ.start(a1)}else{aw=null;at=null;aQ.stop()}};var X=function(){ah(ar)};var aq=function(){aP.addHook(a8,V)};var bj=function(){if(ar.state==G.STOPPED){aP.stop()}else{aP.start()}};var ae=function(bk,bl){if(a.isFullStr(bk)){ah({action:bk,data:bl!=null?bl:null})}};var aA=function(bl,bk){if(a.isFullStr(bl)){if(bk!==false){ae("logger:debug:"+bl)}}};var bf=function(bl,bk,bm){if(a.isFullStr(bl)){if(bk!==false){ae("logger:success:"+bl,{show:bm!==false})}else{if(bm!==false){ae("success:"+bl)}}}};var bi=function(bl,bk,bm){if(a.isFullStr(bl)){if(bk!==false){ae("logger:info:"+bl,{show:bm!==false})
}else{if(bm!==false){ae("info:"+bl)}}}};var bb=function(bl,bk,bm){if(a.isFullStr(bl)){if(bk!==false){ae("logger:warn:"+bl,{show:bm!==false})}else{if(bm!==false){ae("warn:"+bl)}}}};var bg=function(bl,bk,bm){if(a.isFullStr(bl)){if(bk!==false){ae("logger:error:"+bl,{show:bm!==false})}else{if(bm!==false){ae("error:"+bl)}}}};var al=function(bk,bl){if(a.isFullStr(bk)&&bl!=null){if(typeof bl=="object"){ae(bk+":data",bl)}else{ae(bk+":"+bl)}}};var aO=function(bk){al("menu",bk)};var aX=function(bk){al("content",bk)};var aF=function(bk){al("panel",bk)};var ao=function(bk,bm,bl){if(a.isFullStr(bk)){if(bl==null){bl={}}bl.requestId=am(bm);bl.dataId=bk;ae("player:commit:"+bk,bl)}else{ad(bm,{error:"Data ID is invalid: '"+bk+"'"})}};var aN=function(bk,bl){if(bk!=null&&bl!=null){if(bl.name!=null&&bl.message!=null){bg("Plugin: "+bk+": "+bl.name+": "+bl.message)}else{bg("Plugin: "+bk+": "+bl)}if(aa!=null&&typeof aa.onError=="function"){try{aa.onError(bk,bl)}catch(bm){}}}};var av=function(bk){if(ar.state!=G.PLAYING||bk===true){ar.state=G.PLAYING;
if(ax&&aa!=null&&typeof aa.play=="function"){try{aa.play()}catch(bl){aN("Play failed",bl)}}}};var bc=function(bk){if(ar.state!=G.PAUSED||bk===true){ar.state=G.PAUSED;if(ax&&aa!=null&&typeof aa.pause=="function"){try{aa.pause()}catch(bl){aN("Pause failed",bl)}}}};var aj=function(bk){if(ar.state!=G.STOPPED||bk===true){ar.state=G.STOPPED;if(ax&&aa!=null&&typeof aa.stop=="function"){try{aa.stop()}catch(bl){aN("Stop failed",bl)}}}};var az=function(bk,bl){if(bk==G.PLAYING){av(bl)}else{if(bk==G.PAUSED){bc(bl)}else{if(bk==G.STOPPED){aj(bl)}}}};var V=function(){if(ax&&aa!=null&&!an.isBusy()&&typeof aa.getUpdateData=="function"){try{var bl=aa.getUpdateData();if(bl!=null){var bm=false;if(a.isNum(bl.state)){bm=true;ar.state=a.strToNum(bl.state,ar.state)}if(a.isNum(bl.position)){bm=true;ar.position=a.strToNum(bl.position,ar.position);if(!isFinite(ar.position)){ar.position=0}}if(a.isNum(bl.duration)){bm=true;ar.duration=a.strToNum(bl.duration,ar.duration);if(!isFinite(ar.duration)){ar.duration=0}}if(a.isNum(bl.speed)){bm=true;
ar.speed=a.strToNum(bl.speed,ar.speed)}if(a.isBool(bl.ended)){bm=true;ar.ended=a.strToBool(bl.ended,ar.ended)}if(a.isNum(bl.volume)){bm=true;ar.volume=a.strToNum(bl.volume,ar.volume)}if(a.isBool(bl.muted)){bm=true;ar.muted=a.strToBool(bl.muted,ar.muted)}if(bm){X();bj()}}}catch(bk){aN("Update failed",bk)}}};var be=function(bm,bk){ag=false;if(ar.position!=bm||bm==0||bk===true){ar.position=bm;if(ax&&aa!=null&&typeof aa.setPosition=="function"){try{aa.setPosition(bm);if(!ag){an.start()}}catch(bl){aN("Set position failed",bl)}}}};var aG=function(bk,bm){if(ar.volume!=bk||bm===true){ar.volume=bk;if(ax&&aa!=null&&typeof aa.setVolume=="function"){try{aa.setVolume(bk)}catch(bl){aN("Set volume failed",bl)}}}};var ab=function(bk,bl){if(ar.muted!=bk||bl===true){ar.muted=bk;if(ax&&aa!=null&&typeof aa.setMuted=="function"){try{aa.setMuted(bk)}catch(bm){aN("Set muted failed",bm)}}}};var aB=function(bk,bl){if(ar.speed!=bk||bl===true){ar.speed=bk;if(ax&&aa!=null&&typeof aa.setSpeed=="function"){try{aa.setSpeed(bk)
}catch(bm){aN("Set speed failed",bm)}}}};var aK=function(bl,bk,bm){if(ar.width!=bl||ar.height!=bk||bm===true){ar.width=bl;ar.height=bk;if(ax&&aa!=null&&typeof aa.setSize=="function"){try{aa.setSize(bl,bk)}catch(bn){aN("Set size failed",bn)}}}};var ai=function(bk,bl){ae("response:"+bk,bl)};var aT=function(bk,bl){bd(bk,bl)};var ba=function(bl,bk,bn){if(typeof aa.handleRequest=="function"){try{aa.handleRequest(bk,bn,function(bo){ai(bl,bo)})}catch(bm){aN("Handle request failed",bm);ai(bl)}}else{ai(bl)}};var aH=function(bl){if(ax&&bl!=null&&aa!=null){if(typeof aa.handleEvent=="function"){try{aa.handleEvent(bl)}catch(bk){aN("Handle event failed",bk)}}}};var T=function(bo){if(ax&&bo!=null&&aa!=null){if(a.isFullStr(bo.requestId)&&a.isFullStr(bo.dataId)){ba(bo.requestId,bo.dataId,bo.data)}else{if(bo.data!=null&&a.isFullStr(bo.data.requestId)&&a.isFullStr(bo.data.dataId)){var bl={};var bn=bo.data.dataId;var bk=bn.indexOf(":");if(bk>0){bn=bn.substr(0,bk)}bl[bn]=bo[bn]!=null?bo[bn]:null;bl.error=a.strFullCheck(bo.error,null);
aT(bo.data.requestId,bl)}else{if(typeof aa.handleData=="function"){try{aa.handleData(bo)}catch(bm){aN("Handle data failed",bm)}}}}}};var a6=function(bk){if(!S||bk===true){S=true;if(aa!=null&&typeof aa.init=="function"){try{aa.init()}catch(bl){aN("Call init failed",bl)}}}};var aW=function(bk){if(!ax||bk===true){ax=true;if(aa!=null&&typeof aa.ready=="function"){try{aa.ready()}catch(bl){aN("Call ready failed",bl)}}}};var ay=function(){ax=false;window.addEventListener("message",function(bk){if(p.checkOrigin(bk.origin)){bh(bk.data)}},false);ae("plugin:init")};var bh=function(bk){if(S&&bk!=null&&bk.type===a8){if(bk.init===1&&ax){return}if(a.isNum(bk.state)){az(a.strToNum(bk.state,ar.state))}if(a.isNum(bk.position)){be(a.strToNum(bk.position,ar.position))}if(a.isNum(bk.speed)){aB(a.strToNum(bk.speed,ar.speed))}if(a.isNum(bk.volume)){ab(false);aG(a.strToNum(bk.volume,ar.volume))}if(a.isBool(bk.muted)){ab(a.strToBool(bk.muted,ar.muted))}if(a.isNum(bk.width)&&a.isNum(bk.height)){aK(a.strToNum(bk.width,ar.width),a.strToNum(bk.height,ar.height))
}if(bk.init===1){aW()}else{if(bk.data!=null){if(a.isFullStr(bk.data.event)){aH(bk.data)}else{T(bk.data)}}}}};var ah=function(bl){if(window.parent!=null&&bl!=null){bl.type=a8;bl.sender="plugin";bl.target="app";try{window.parent.postMessage(bl,"*")}catch(bk){if(window.console!=null){console.error("Post message failed",bk)}}}};this.setupPlayer=function(bk){aa=bk;if(S){a6(true)}if(ax){aW(true)}};this.setSeekDelay=function(bk){an.delay=a.strToNum(bk,an.delay)};this.getSeekDelay=function(){return an.delay};this.setLoadingDelay=function(bk){aU.delay=a.strToNum(bk,aU.delay)};this.getLoadingDelay=function(){return aU.delay};this.isFullscreenEnabled=function(bk){return aD(bk)};this.isFullscreenActive=function(bk){return af(bk)};this.requestFullscreen=function(bk){return au(bk)};this.exitFullscreen=function(bk){return a5(bk)};this.setState=function(bk,bl){if(ax){ar.state=a.strToNum(bk,ar.state);if(bl===true){X()}bj()}};this.getState=function(){return ar.state};this.applyState=function(){if(ax){az(ar.state,true)
}};this.setPosition=function(bl,bk){if(ax){ag=true;ar.position=a.strToNum(bl,ar.position);if(!isFinite(ar.position)){ar.position=0}an.stop();if(bk===true){X();bj()}}};this.getPosition=function(){return ar.position};this.applyPosition=function(){if(ax){be(ar.position,true)}};this.setDuration=function(bk,bl){if(ax){ar.duration=a.strToNum(bk,ar.duration);if(!isFinite(ar.duration)){ar.duration=0}if(bl===true){X();bj()}}};this.getDuration=function(){return ar.duration};this.setSpeed=function(bk,bl){if(ax){ar.speed=a.strToNum(bk,ar.speed);if(bl===true){X();bj()}}};this.getSpeed=function(){return ar.speed};this.applySpeed=function(){if(ax){aB(ar.speed,true)}};this.setEnded=function(bk,bl){if(ax){ar.ended=a.strToBool(bk,ar.ended);if(bl===true){X();bj()}}};this.hasEnded=function(){return ar.ended};this.setVolume=function(bl,bk){if(ax){ar.volume=a.strToNum(bl,ar.volume);if(bk===true){X();bj()}}};this.getVolume=function(){return ar.volume};this.setMuted=function(bk,bl){if(ax){ar.muted=a.strToBool(bk,ar.muted);
if(bl===true){X();bj()}}};this.isMuted=function(){return ar.muted};this.applyVolume=function(){if(ax){aG(ar.volume,true);ab(ar.muted,true)}};this.getWidth=function(){return ar.width};this.getHeight=function(){return ar.height};this.applySize=function(){if(ax){aK(ar.width,ar.height,true)}};this.executeAction=function(bk,bl){if(ax){ae(bk,bl)}};this.debug=function(bl,bk){if(ax){aA(bl,bk)}};this.success=function(bl,bk,bm){if(ax){bf(bl,bk,bm)}};this.info=function(bl,bk,bm){if(ax){bi(bl,bk,bm)}};this.warn=function(bl,bk,bm){if(ax){bb(bl,bk,bm)}};this.error=function(bl,bk,bm){if(ax){bg(bl,bk,bm)}};this.showMenu=function(bk){if(ax){aO(bk)}};this.showContent=function(bk){if(ax){aX(bk)}};this.showPanel=function(bk){if(ax){aF(bk)}};this.showPlayer=function(bk){if(ax){if(a.isFullStr(bk)){ae("player:show:"+bk)}else{ae("player:show")}}};this.showAction=function(){if(ax){ae("player:action")}};this.hidePlayer=function(){if(ax){ae("player:hide")}};this.setupContentLabel=function(bk){if(ax){ae("player:label:content:"+a.strFullCheck(bk,"default"))
}};this.setupExtensionLabel=function(bk){if(ax){ae("player:label:extension:"+a.strFullCheck(bk,"default"))}};this.setupPositionLabel=function(bk){if(ax){ae("player:label:position:"+a.strFullCheck(bk,"default"))}};this.setupDurationLabel=function(bk){if(ax){ae("player:label:duration:"+a.strFullCheck(bk,"default"))}};this.setupSpeedLabel=function(bk){if(ax){ae("player:label:speed:"+a.strFullCheck(bk,"default"))}};this.setupInfoText=function(bk){if(ax){ae("player:info:text:"+a.strFullCheck(bk,"default"))}};this.setupInfoImage=function(bk){if(ax){ae("player:info:image:"+a.strFullCheck(bk,"default"))}};this.setupInfoOverlay=function(bk){if(ax){ae("player:info:overlay:"+a.strFullCheck(bk,"default"))}};this.setupInfoSize=function(bk){if(ax){ae("player:info:size:"+a.strFullCheck(bk,"default"))}};this.setupControlAction=function(bk){if(ax){ae("player:control:action:"+a.strFullCheck(bk,"default"))}};this.setupButton=function(bk,bl){if(ax&&a.isId(bk)){ae("player:button:"+bk+":setup",bl)}};this.enableButton=function(bk){if(ax&&a.isId(bk)){ae("player:button:"+bk+":enable")
}};this.disableButton=function(bk){if(ax&&a.isId(bk)){ae("player:button:"+bk+":disable")}};this.focusButton=function(bk){if(ax&&a.isId(bk)){ae("player:button:"+bk+":focus")}};this.setupProgressPosition=function(bk){if(ax){ae("player:progress:position:"+a.strToNum(bk,-1))}};this.setupProgressDuration=function(bk){if(ax){ae("player:progress:duration:"+a.strToNum(bk,-1))}};this.setupProgressColor=function(bk){if(ax){ae("player:progress:color:"+a.strFullCheck(bk,"default"))}};this.setupProgressType=function(bk){if(ax){ae("player:progress:type:"+a.strFullCheck(bk,"default"))}};this.enableProgressMarker=function(){if(ax){ae("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(ax){ae("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(ax){ae("player:progress:marker:invalidate")}};this.setupBackground=function(bk){if(ax){ae("player:background:"+a.strFullCheck(bk,"default"))}};this.setupTrigger=function(bk,bl,bm){if(ax&&a.isFullStr(bk)&&a.isFullStr(bl)){if(bm===true){ae("trigger:"+bk+":shot:"+bl)
}else{ae("trigger:"+bk+":"+bl)}}};this.clearTrigger=function(bk){if(ax&&a.isFullStr(bk)){ae("trigger:"+bk+":none")}};this.refreshPlayer=function(){if(ax){ae("player:refresh")}};this.resetPlayer=function(){if(ax){ae("player:reset")}};this.cancelResume=function(){if(ax){ae("resume:cancel")}};this.requestData=function(bk,bm,bl){if(ax){ao(bk,bm,bl)}else{ad(bm,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(bk,bm,bl){if(a.isFullStr(bk)){this.requestData("response:request:interaction:"+bk,bm,bl!=null?{requestData:bl}:null)}else{ad(bm,{error:"Data ID is invalid: '"+bk+"'"})}};this.validateSettings=function(bk){b.invalidateSettings();this.requestData("info",function(bl){b.validateSettings(bl);ad(bk,bl)})};this.onValidatedSettings=function(bk){if(!b.areSettingsValidated()&&!aY){aY=true;this.validateSettings(function(){aY=false})}b.onValidatedSettings(bk)};this.triggerEvent=function(bk,bl){if(ax&&a.isFullStr(bk)){ae("event:"+bk,bl)}};this.setupSteam=function(bk){aR(bk)};this.createSteam=function(bk){return aE(bk)
};this.resolveToken=function(bk,bl){return aM(bk,bl)};this.transformString=function(bk,bl){return Z(bk,bl)};this.normalizeString=function(bk,bl){return aS(bk,bl)};this.transformStringAsync=function(bm,bn,bl){var bk=Z(bm,bn);if(a.isFullStr(bk)){this.requestData("string:transform:"+bk,function(bo){ad(bl,{string:a.strFullCheck(bo.string,null)})})}else{ad(bl,{string:null})}};this.normalizeStringAsync=function(bl,bm,bk){if(a.isFullStr(bl)){this.requestData("string:normalize:"+bl,function(bn){ad(bk,{string:aS(bn.string,bm)})})}else{ad(bk,{string:null})}};this.createHashKey=function(bk,bl){return p.createHashKey(bk,bl)};this.clearDeviceId=function(){p.clearDeviceId()};this.getDeviceId=function(bk){return p.getDeviceId(bk)};this.requestDeviceId=function(bk){this.requestData("info:extended",function(bl){if(bl.error!=null){ad(bk,{error:bl.error})}else{ad(bk,{deviceId:p.getDeviceId(bl)})}})};this.hasContentObservers=function(){return W.hasObservers()};this.addContentObserver=function(bk,bl){W.addObserver(bk,bl);
aC(bk)};this.removeContentObserver=function(bk){W.removeObserver(bk);aC()};this.clearContentObservers=function(){W.clear();aC()};this.init=function(){if(!S){ay();aq();a6()}};this.commit=function(){if(ax){X();bj()}};this.isInitialized=function(){return S};this.isReady=function(){return ax};this.startPlayback=function(bk){if(ax){az(G.PLAYING,true);X();bj();if(bk===true){aZ()}}};this.stopPlayback=function(){if(ax){this.setEnded(true);aL()}};this.cancelPlayback=function(){if(ax){ae("player:eject")}};this.startLoading=function(bk){if(ax){if(ac){ae("player:busy:start:player")}else{if(!aU.isBusy()||bk!==false){aU.start(function(){ac=true;ae("player:busy:start:player")})}}}};this.stopLoading=function(){if(ax){aU.stop();if(ac){ac=false;ae("player:busy:stop:player")}}};this.executeHandler=function(bk,bm){if(typeof bk=="function"){try{if(bm!=null){ad(bm,bk())}else{bk()}}catch(bl){aN("Execute handler failed",bl);if(bm!=null){ad(bm,null)}}}}};var F=new function(){var V="interactionPlugin";var aA="irq";
var ap=10;var aS=30000;var ah=new s("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");var aa=null;var Z=false;var aC=new r(1000);var aK=false;var ar=false;var al=null;var aJ=false;var aO=null;var ai=function(aW){aa=new s(aW)};var at=function(aW){if(aK){if(aW=="local"){return aa!=null?aa.createSteam():null}return ah.createSteam()}return null};var T=function(aW,aX){if(aK){if(aX=="local"){return aa!=null?aa.resolveToken(aW):null}return ah.resolveToken(aW)}return null};var aD=function(aW,aX){if(aK){if(aX=="local"){return aa!=null?aa.transformString(aW):null}else{if(aX=="global"){return ah.transformString(aW)}else{if(aX=="shared"){return p.transformString(aa!=null?aa.transformString(aW):aW)}}}return ah.transformString(aa!=null?aa.transformString(aW):aW)}return null};var ag=function(aW,aX){if(aK){if(aX=="local"){return aa!=null?aa.normalizeString(aW):null}else{if(aX=="global"){return ah.normalizeString(aW)
}else{if(aX=="shared"){return aa!=null?aa.normalizeString(p.normalizeString(aW)):p.normalizeString(aW)}}}return aa!=null?aa.normalizeString(ah.normalizeString(aW)):ah.normalizeString(aW)}return null};var aT=0;var aN={};var av=function(aY){aT++;var aW=aA+aT+"_"+I.getTimestamp();var aX={timeout:new r(aS),callback:aY};aN[aW]=aX;aX.timeout.start(function(){ax(aW,{error:"Request timed out"})});return aW};var ax=function(aW,aY){if(aW!=null){var aX=aN[aW];if(aX!=null){aX.timeout.stop();delete aN[aW];ad(aX.callback,aY)}}};var ad=function(aY,aW){if(typeof aY=="function"){try{aY(aW)}catch(aX){an("Callback error",aX)}}};var aR=new j();var am=new r(500);var ay=null;var aF=null;var aj=function(aW){if(aW!=null){if(b.isSameContentState(ay,aW)){if(!b.isSameContentState(aF,aW)){if(aF==null){aW.init=true}aF=b.createChangedContentState(aF,aW);aR.notifyObservers(aF)}}else{ay=aW}}ak()};var aI=function(){if(aK){au("info:content",function(aW){aj(aW.info!=null&&aW.info.content!=null?aW.info.content.state:null)
})}else{ak()}};var ak=function(aW){if(aR.hasObservers()){if(a.isFullStr(aW)&&aF!=null){aR.notifyObserver(aW,aF)}am.start(aI)}else{ay=null;aF=null;am.stop()}};var ab=function(aW,aX){if(a.isFullStr(aW)){ae({action:aW,data:aX!=null?aX:null})}};var aE=function(aX,aW){if(a.isFullStr(aX)){if(aW!==false){ab("logger:debug:"+aX)}}};var aB=function(aX,aW,aY){if(a.isFullStr(aX)){if(aW!==false){ab("logger:success:"+aX,{show:aY!==false})}else{if(aY!==false){ab("success:"+aX)}}}};var aV=function(aX,aW,aY){if(a.isFullStr(aX)){if(aW!==false){ab("logger:info:"+aX,{show:aY!==false})}else{if(aY!==false){ab("info:"+aX)}}}};var ao=function(aX,aW,aY){if(a.isFullStr(aX)){if(aW!==false){ab("logger:warn:"+aX,{show:aY!==false})}else{if(aY!==false){ab("warn:"+aX)}}}};var aw=function(aX,aW,aY){if(a.isFullStr(aX)){if(aW!==false){ab("logger:error:"+aX,{show:aY!==false})}else{if(aY!==false){ab("error:"+aX)}}}};var X=function(aW,aX){if(a.isFullStr(aW)&&aX!=null){if(typeof aX=="object"){ab(aW+":data",aX)}else{ab(aW+":"+aX)
}}};var aM=function(aW){X("menu",aW)};var af=function(aW){X("content",aW)};var ac=function(aW){X("panel",aW)};var au=function(aW,aY,aX){if(a.isFullStr(aW)){if(aX==null){aX={}}aX.requestId=av(aY);aX.dataId=aW;ab("interaction:commit:"+aW,aX)}else{ad(aY,{error:"Data ID is invalid: '"+aW+"'"})}};var an=function(aW,aX){if(aW!=null&&aX!=null){if(aX.name!=null&&aX.message!=null){aw("Interaction: "+aW+": "+aX.name+": "+aX.message)}else{aw("Interaction: "+aW+": "+aX)}if(al!=null&&typeof al.onError=="function"){try{al.onError(aW,aX)}catch(aY){}}}};var aH=function(aW,aX){ab("response:"+aW,aX)};var aq=function(aW,aX){ax(aW,aX)};var S=function(aX,aW,aZ){if(typeof al.handleRequest=="function"){try{al.handleRequest(aW,aZ,function(a0){aH(aX,a0)})}catch(aY){an("Handle request failed",aY);aH(aX)}}else{aH(aX)}};var aU=function(aX){if(aK&&aX!=null&&al!=null){if(typeof al.handleEvent=="function"){try{al.handleEvent(aX)}catch(aW){an("Handle event failed",aW)}}}};var az=function(a0){if(aK&&a0!=null&&al!=null){if(a.isFullStr(a0.requestId)&&a.isFullStr(a0.dataId)){S(a0.requestId,a0.dataId,a0.data)
}else{if(a0.data!=null&&a.isFullStr(a0.data.requestId)&&a.isFullStr(a0.data.dataId)){var aX={};var aZ=a0.data.dataId;var aW=aZ.indexOf(":");if(aW>0){aZ=aZ.substr(0,aW)}aX[aZ]=a0[aZ]!=null?a0[aZ]:null;aX.error=a.strFullCheck(a0.error,null);aq(a0.data.requestId,aX)}else{if(typeof al.handleData=="function"){try{al.handleData(a0)}catch(aY){an("Handle data failed",aY)}}}}}};var aP=function(aW){aO=aW!=null&&aW.length>0?aW:null};var Y=function(){if(aO!=null&&aO.length>0){for(var aW=0;aW<aO.length;aW++){az(aO[aW])}}aO=null};var aQ=function(aW){if(aK&&aW!=null){if(aO==null){aO=[]}if(aO.length>=ap){aO.shift()}aO.push(aW)}};var W=function(aW){if(!ar||aW===true){ar=true;if(al!=null&&typeof al.init=="function"){try{al.init()}catch(aX){an("Call init failed",aX)}}}};var aL=function(aW){if(!aK||aW===true){aK=true;if(al!=null&&typeof al.ready=="function"){try{al.ready()}catch(aX){an("Call ready failed",aX)}}if(al!=null){Y()}}};var aG=function(){aK=false;window.addEventListener("message",function(aW){if(p.checkOrigin(aW.origin)){U(aW.data)
}},false);ab("interaction:init")};var U=function(aW){if(ar&&aW!=null&&aW.type===V){if(aW.init===1&&aK){return}if(aW.init===1){aP(aW.data);aL()}else{if(aW.data!=null){if(a.isFullStr(aW.data.event)){aU(aW.data)}else{if(al!=null){az(aW.data)}else{aQ(aW.data)}}}}}};var ae=function(aX){if(window.parent!=null&&aX!=null){aX.type=V;aX.sender="plugin";aX.target="app";try{window.parent.postMessage(aX,"*")}catch(aW){if(window.console!=null){console.error("Post message failed",aW)}}}};this.setupHandler=function(aW){al=aW;if(ar){W(true)}if(aK){aL(true)}};this.setLoadingDelay=function(aW){aC.delay=a.strToNum(aW,aC.delay)};this.getLoadingDelay=function(){return aC.delay};this.executeAction=function(aW,aX){if(aK){ab(aW,aX)}};this.debug=function(aX,aW){if(aK){aE(aX,aW)}};this.success=function(aX,aW,aY){if(aK){aB(aX,aW,aY)}};this.info=function(aX,aW,aY){if(aK){aV(aX,aW,aY)}};this.warn=function(aX,aW,aY){if(aK){ao(aX,aW,aY)}};this.error=function(aX,aW,aY){if(aK){aw(aX,aW,aY)}};this.showMenu=function(aW){if(aK){aM(aW)
}};this.showContent=function(aW){if(aK){af(aW)}};this.showPanel=function(aW){if(aK){ac(aW)}};this.requestData=function(aW,aY,aX){if(aK){au(aW,aY,aX)}else{ad(aY,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(aW,aY,aX){if(a.isFullStr(aW)){this.requestData("response:request:player:"+aW,aY,aX!=null?{requestData:aX}:null)}else{ad(aY,{error:"Data ID is invalid: '"+aW+"'"})}};this.validateSettings=function(aW){b.invalidateSettings();this.requestData("info",function(aX){b.validateSettings(aX);ad(aW,aX)})};this.onValidatedSettings=function(aW){if(!b.areSettingsValidated()&&!aJ){aJ=true;this.validateSettings(function(){aJ=false})}b.onValidatedSettings(aW)};this.triggerEvent=function(aW,aX){if(aK&&a.isFullStr(aW)){ab("event:"+aW,aX)}};this.setupSteam=function(aW){ai(aW)};this.createSteam=function(aW){return at(aW)};this.resolveToken=function(aW,aX){return T(aW,aX)};this.transformString=function(aW,aX){return aD(aW,aX)};this.normalizeString=function(aW,aX){return ag(aW,aX)};this.transformStringAsync=function(aY,aZ,aX){var aW=aD(aY,aZ);
if(a.isFullStr(aW)){this.requestData("string:transform:"+aW,function(a0){ad(aX,{string:a.strFullCheck(a0.string,null)})})}else{ad(aX,{string:null})}};this.normalizeStringAsync=function(aX,aY,aW){if(a.isFullStr(aX)){this.requestData("string:normalize:"+aX,function(aZ){ad(aW,{string:ag(aZ.string,aY)})})}else{ad(aW,{string:null})}};this.createHashKey=function(aW,aX){return p.createHashKey(aW,aX)};this.clearDeviceId=function(){p.clearDeviceId()};this.getDeviceId=function(aW){return p.getDeviceId(aW)};this.requestDeviceId=function(aW){this.requestData("info:extended",function(aX){if(aX.error!=null){ad(aW,{error:aX.error})}else{ad(aW,{deviceId:p.getDeviceId(aX)})}})};this.hasContentObservers=function(){return aR.hasObservers()};this.addContentObserver=function(aW,aX){aR.addObserver(aW,aX);ak(aW)};this.removeContentObserver=function(aW){aR.removeObserver(aW);ak()};this.clearContentObservers=function(){aR.clear();ak()};this.init=function(){if(!ar){aG();W()}};this.isInitialized=function(){return ar
};this.isReady=function(){return aK};this.startLoading=function(aW){if(aK){if(Z){ab("interaction:busy:start:interaction")}else{if(!aC.isBusy()||aW!==false){aC.start(function(){Z=true;ab("interaction:busy:start:interaction")})}}}};this.stopLoading=function(){if(aK){aC.stop();if(Z){Z=false;ab("interaction:busy:stop:interaction")}}};this.executeHandler=function(aW,aY){if(typeof aW=="function"){try{if(aY!=null){ad(aY,aW())}else{aW()}}catch(aX){an("Execute handler failed",aX);if(aY!=null){ad(aY,null)}}}}};return{Settings:n,Styles:o,Tools:a,DateTools:I,DateFormatter:O,PropertyTools:M,VideoState:G,Action:g,Cookies:x,Storage:e,UrlParams:R,Options:f,Observers:j,EventObservers:Q,Queue:E,Worker:d,Delay:r,Click:K,Ajax:m,LogLevel:w,Logger:C,Dictionary:t,Clock:k,DataLoader:B,Services:H,DataService:J,BlobService:v,RequestService:D,BusyService:c,Effects:h,AnimationController:L,ColorTools:z,Transit:q,Particles:P,Drawing:u,Renderer:l,ImageTools:y,StyleTools:A,PluginTools:b,VideoPlugin:N,InteractionPlugin:F}
}));