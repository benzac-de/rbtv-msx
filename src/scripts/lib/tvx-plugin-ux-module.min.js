/*
 * TVX Plugin UX v0.0.68 (Module)
 * (c) 2023 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define(["jquery"],b)}else{if(typeof module=="object"&&module.exports){module.exports=b(require("jquery"))}else{a.tvx=b(a.jQuery)}}}(this,function(i){var n={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.31",SUFFIX:null,DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",AFK_DELAY:8000,SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ID:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,LEAVE:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,SUSPEND:0,SECURE:0,APP:null};var o={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_CURSOR_OFF:"tvx-cursor-off",CLASS_IMMERSIVE:"tvx-immersive",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameborder='0' scrolling='no' allow='autoplay *;encrypted-media *;fullscreen *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
var a=new function(){var aa=/\\/g;var an=/"/g;var ac=/'/g;var aJ=/\n/g;var aG=/\r/g;var Y=/\r\n/g;var aE=/\t/g;var ah=/\s/g;var ak=/-/g;var al=/^[A-Za-z0-9._-]+$/;var aw=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var aD=/"(\\.|[^"\\])*"/g;var aF=/^\s+|\s+$/g;var aH=/^#?[A-Za-z0-9]+$/;var ao=/\s{0,}>\s{0,}/g;var aq=/\s{0,}\/>/g;var ap=/\s{0,}<\s{0,}/g;var at=aJ;var ar=aG;var av=/\s{2,}/g;var U=/&/g;var ag=an;var Z=ac;var am=/</g;var ae=/>/g;var az=/&quot;/g;var ay=/&#39;/g;var ax=/&lt;/g;var aC=/&gt;/g;var aB=/&amp;/g;var V=/\+/g;var X=/\//g;var W=/=/g;var ab=/[^A-Za-z0-9\+\/\=]/g;var ad=ak;var au=/_/g;var aK=/,/g;var ai=/\./g;var af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var aj=window.location.protocol==="https:";var aI=function(aL,aN){if(aL&&aN){var aM=window.location.pathname;aM=aM.substring(0,aM.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+aM}else{if(aL){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"
};var aA=function(aL){return aL!=null?aL.replace(aa,"\\\\").replace(an,'\\"').replace(aJ,"\\n"):""};this.createVersion=function(aN){if(this.isFullStr(aN)){var aP=aN.split(".");if(aP.length==3){var aM=this.strToNum(aP[0],-1);var aL=this.strToNum(aP[1],-1);var aO=this.strToNum(aP[2],-1);if(aM>=0&&aL>=0&&aO>=0){return{major:aM,minor:aL,patch:aO}}}}return null};this.checkVersion=function(aO,aN){var aM=this.createVersion(aN);if(aM!=null){var aL=this.createVersion(aO);if(aL!=null){if(aL.major==aM.major){if(aL.minor==aM.minor){return aL.patch>=aM.patch}return aL.minor>aM.minor}return aL.major>aM.major}return false}return true};this.createKey=function(aP,aN){if(aP==null){aP=4}if(aN==null){aN=10}var aM="";for(var aO=0;aO<aP;aO++){var aL=0;if(aN==0){aL=Math.round(Math.random()*9)}else{if(aN==1){aL=10+Math.round(Math.random()*51)}else{if(aN==2){aL=10+Math.round(Math.random()*25)}else{if(aN==3){aL=36+Math.round(Math.random()*25)}else{aL=Math.round(Math.random()*61)}}}}if(aL>=0&&aL<=9){aM+=""+aL}if(aL>=10&&aL<=35){aM+=String.fromCharCode(aL+55)
}if(aL>=36&&aL<=61){aM+=String.fromCharCode(aL+61)}}return aM};this.isFullStr=function(aL){return aL!=null&&typeof aL=="string"&&aL.length>0};this.isBool=function(aL){if(aL!=null&&typeof aL=="boolean"){return true}return this.isFullStr(aL)};this.isNum=function(aL){if(aL!=null&&typeof aL=="number"){return true}return this.isFullStr(aL)&&isFinite(aL)};this.isArray=function(aL){if(aL!=null){return Array.isArray(aL)}return false};this.isEmpty=function(aM){if(aM!=null){if(typeof aM=="string"){return aM.length==0}var aL;for(aL in aM){return false}}return true};this.isValid=function(aM,aL){if(aM!=null){if(aL===true){if(typeof aM=="string"){return aM.length>0}}return true}return false};this.isId=function(aL){return this.isFullStr(aL)&&al.test(aL)};this.isJson=function(aL){return this.isFullStr(aL)&&!aw.test(aL.replace(aD,""))};this.isHttpUrl=function(aL){return this.isFullStr(aL)&&(aL.indexOf("http://")==0||aL.indexOf("https://")==0)};this.strValue=function(aL){if(aL!=null){if(typeof aL=="string"){return aL
}else{return""+aL}}return null};this.strFullCheck=function(aM,aL){return this.isFullStr(aM)?aM:aL};this.strTrim=function(aL){return this.isFullStr(aL)?aL.replace(aF,""):""};this.strClear=function(aL){return this.isFullStr(aL)?aL.replace(ah,""):""};this.strFlatten=function(aL){return this.isFullStr(aL)?aL.replace(at," ").replace(ar," ").replace(av," "):""};this.strTruncate=function(aL,aM){return this.isFullStr(aL)&&aM>0&&aL.length>aM?aL.substr(0,aM)+"...":aL};this.strShuffle=function(aL){return this.isFullStr(aL)?aL.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(aM,aN,aL){if(this.isFullStr(aM)&&this.isFullStr(aN)){return aM.replace(aN,function(){return aL!=null?aL:""})}return aM};this.strReplaceMap=function(aM,aN){if(this.isFullStr(aM)&&aN!=null){for(var aL in aN){aM=this.strReplace(aM,aL,aN[aL])}}return aM};this.strToBool=function(aM,aL){if(aM!=null&&typeof aM=="boolean"){return aM}return this.isFullStr(aM)?aM=="true":aL};this.strToNum=function(aM,aL){if(aM!=null&&typeof aM=="number"){return aM
}return this.isFullStr(aM)&&isFinite(aM)?aM*1:aL};this.strToAction=function(aL){return this.isFullStr(aL)?aL.toUpperCase().replace(ak,"_"):""};this.strToJsonStr=function(aL){return this.isFullStr(aL)?aA(aL):""};this.strToUrlStr=function(aL){return this.isFullStr(aL)?encodeURIComponent(aL):""};this.strContainsToken=function(aN,aO,aL,aP){if(this.isFullStr(aN)&&this.isFullStr(aO)){var aM=aN.indexOf(aO);if(aL==null){aL=0}if(aP==null){aP=aN.length}return aM>=aL&&aM<aP}return false};this.strCountToken=function(aO,aP,aM,aQ){var aL=0;if(this.isFullStr(aO)&&this.isFullStr(aP)){var aN=0;if(aM!=null&&aM>=0){aN=aM}while(aN>=0&&aN<aO.length){aN=aO.indexOf(aP,aN);if(aN>=0){aN+=aP.length;if(aQ==null||aN<aQ){aL++}}}}return aL};this.htmlTrim=function(aL){return this.isFullStr(aL)?this.strTrim(aL.replace(ao,">").replace(aq,"/>").replace(ap,"<").replace(at," ").replace(ar," ").replace(av," ")):""};this.htmlEscape=function(aL){return this.isFullStr(aL)?aL.replace(U,"&amp;").replace(ag,"&quot;").replace(Z,"&#39;").replace(am,"&lt;").replace(ae,"&gt;"):""
};this.htmlUnescape=function(aL){return this.isFullStr(aL)?aL.replace(az,'"').replace(ay,"'").replace(ax,"<").replace(aC,">").replace(aB,"&"):""};this.htmlAttrEscape=function(aL){return this.isFullStr(aL)?aL.replace(ag,"&quot;").replace(Z,"&#39;"):""};this.htmlAttrUnescape=function(aL){return this.isFullStr(aL)?aL.replace(az,'"').replace(ay,"'"):""};this.htmlTextEscape=function(aL){return this.isFullStr(aL)?this.htmlEscape(aL).replace(aJ,o.COMMON.HTML.BREAK).replace(aE,o.COMMON.HTML.TAB):""};this.htmlCharacter=function(aL){return this.isFullStr(aL)&&aH.test(aL)?"&"+aL+";":""};this.base64Encode=function(aT){var aO="";if(this.isFullStr(aT)){var aU,aP,aR;var aN,aS,aM,aQ;var aL=0;aT=this.utf8Encode(aT);while(aL<aT.length){aU=aT.charCodeAt(aL++);aP=aT.charCodeAt(aL++);aR=aT.charCodeAt(aL++);aN=aU>>2;aS=((aU&3)<<4)|(aP>>4);aM=((aP&15)<<2)|(aR>>6);aQ=aR&63;if(isNaN(aP)){aM=aQ=64}else{if(isNaN(aR)){aQ=64}}aO+=af.charAt(aN)+af.charAt(aS)+af.charAt(aM)+af.charAt(aQ)}}return aO};this.base64EncodeUrl=function(aL){return this.isFullStr(aL)?this.base64Encode(aL).replace(V,"-").replace(X,"_").replace(W,","):""
};this.base64EncodeId=function(aL){return this.isFullStr(aL)?this.base64Encode(aL).replace(V,"-").replace(X,"_").replace(W,"."):""};this.base64Decode=function(aT){var aO="";if(this.isFullStr(aT)){var aU,aP,aR;var aN,aS,aM,aQ;var aL=0;aT=aT.replace(ab,"");while(aL<aT.length){aN=af.indexOf(aT.charAt(aL++));aS=af.indexOf(aT.charAt(aL++));aM=af.indexOf(aT.charAt(aL++));aQ=af.indexOf(aT.charAt(aL++));aU=(aN<<2)|(aS>>4);aP=((aS&15)<<4)|(aM>>2);aR=((aM&3)<<6)|aQ;aO+=String.fromCharCode(aU);if(aM!=64){aO+=String.fromCharCode(aP)}if(aQ!=64){aO+=String.fromCharCode(aR)}}}return this.utf8Decode(aO)};this.base64DecodeUrl=function(aL){return this.isFullStr(aL)?this.base64Decode(aL.replace(ad,"+").replace(au,"/").replace(aK,"=")):""};this.base64DecodeId=function(aL){return this.isFullStr(aL)?this.base64Decode(aL.replace(ad,"+").replace(au,"/").replace(ai,"=")):""};this.utf8Encode=function(aO){var aM="";if(this.isFullStr(aO)){aO=aO.replace(Y,"\n");for(var aL=0;aL<aO.length;aL++){var aN=aO.charCodeAt(aL);
if(aN<128){aM+=String.fromCharCode(aN)}else{if((aN>127)&&(aN<2048)){aM+=String.fromCharCode((aN>>6)|192);aM+=String.fromCharCode((aN&63)|128)}else{aM+=String.fromCharCode((aN>>12)|224);aM+=String.fromCharCode(((aN>>6)&63)|128);aM+=String.fromCharCode((aN&63)|128)}}}}return aM};this.utf8Decode=function(aP){var aM="";if(this.isFullStr(aP)){var aQ=0;var aN,aO,aR,aL;aN=aO=aR=aL=0;while(aQ<aP.length){aN=aP.charCodeAt(aQ);if(aN<128){aM+=String.fromCharCode(aN);aQ++}else{if((aN>191)&&(aN<224)){aR=aP.charCodeAt(aQ+1);aM+=String.fromCharCode(((aN&31)<<6)|(aR&63));aQ+=2}else{aR=aP.charCodeAt(aQ+1);aL=aP.charCodeAt(aQ+2);aM+=String.fromCharCode(((aN&15)<<12)|((aR&63)<<6)|(aL&63));aQ+=3}}}}return aM};this.createHash=function(aN,aM){var aL=0;if(this.isFullStr(aN)){if(aM===true){for(var aO=aN.length;aO>=0;aO--){aL=((aL<<5)-aL)+aN.charCodeAt(aO);aL&=aL}}else{for(var aO=0;aO<aN.length;aO++){aL=((aL<<5)-aL)+aN.charCodeAt(aO);aL&=aL}}}return aL};this.serialize=function(aL,aP){if(aL===undefined){return null
}if(aL===null){if(aP!=null){return'"'+aP+'":null'}else{return"null"}}var aQ=null;var aN=typeof aL;if(Array.isArray(aL)){aQ="[";var aO=0;for(var aS=0;aS<aL.length;aS++){var aM=this.serialize(aL[aS]);if(aM!=null){if(aO>0){aQ+=","}aQ+=aM;aO++}}aQ+="]"}else{if(aN=="object"){aQ="{";var aO=0;for(var aR in aL){var aM=this.serialize(aL[aR],aR);if(aM!=null){if(aO>0){aQ+=","}aQ+=aM;aO++}}aQ+="}"}else{if(aN=="string"){aQ='"'+aA(aL)+'"'}else{if(aN=="number"||aN=="boolean"){aQ=""+aL}}}}if(aQ!=null){if(aP!=null){return'"'+aP+'":'+aQ}else{return aQ}}return null};this.deserialize=function(aL){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(aL)?JSON.parse(aL):null}else{return this.isJson(aL)?new Function("return "+aL)():null}}catch(aM){return null}};this.isSecureContext=function(){return aj};this.secureUrl=function(aL){return this.isFullStr(aL)?aL.replace("http://","https://"):aL};this.getPrefixUrl=function(aL){return aI(false,false)+this.strFullCheck(aL,"")};this.getHostUrl=function(aL){return aI(true,false)+"/"+this.strFullCheck(aL,"")
};this.getPathUrl=function(aL){return aI(true,true)+"/"+this.strFullCheck(aL,"")};this.getAbsoluteUrl=function(aL){if(this.isFullStr(aL)&&!this.isHttpUrl(aL)){if(aL.indexOf("/")==0){return aI(true,false)+aL}else{return aI(true,true)+"/"+aL}}return aL};this.getRootPath=function(aL,aP){if(this.isFullStr(aL)){var aO=window.location.pathname;var aN=aO.indexOf(aL);if(aN>0){var aM=aO.substr(0,aN);if(aP===true){if(aM.indexOf("/")==0){aM=aM.substr(1)}if(aM.lastIndexOf("/")==aM.length-1){aM=aM.substr(0,aM.length-1)}}else{if(aM.indexOf("/")!=0){aM="/"+aM}if(aM.lastIndexOf("/")!=aM.length-1){aM+="/"}}return aM}}return aP===true?"":"/"};this.exprEscape=function(aS,aR,aX,aY,aT,aW,aO){if(this.isFullStr(aS)&&typeof aY=="function"){if(this.isFullStr(aR)&&this.isFullStr(aX)&&typeof aT=="function"){if(aS.indexOf(aR)>=0&&aS.indexOf(aX)>=0){var aL="";var aM=aR.length;var aQ=aX.length;var aU=aS.length;var aV=0;var aP=0;var aN=0;while(aP>=0){aP=aS.indexOf(aR,aV);if(aP>=0){aN=aS.indexOf(aX,aP);if(aN>0){if(aV<aP){aL+=aY(aS.substring(aV,aP),aO)
}if(aP+aM<aN){aL+=aT(aS.substring(aP+aM,aN),aO)}aV=aN+aQ}else{aV=aP;break}}}if(aV<aU){aL+=aY(aS.substring(aV,aU),aO)}if(typeof aW=="function"){aL+=aW(aO)}return aL}}return aY(aS,aO)}return""}};var K=new function(){var Z="h:mm/ampm";var ae="h:mm:ss/ampm";var U="mm/dd/yy";var X="MM d, yyyy";var af="D mm/dd";var V="D mm/dd/yyyy";var ab="DD, MM d, yyyy";var W=", ";var am=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var ad=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var al=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ag=["January","February","March","April","May","June","July","August","September","October","November","December"];var ah=" AM";var an=" PM";var aj=" day";var ai=" days";var ac=" hr";var aa=" min";var Y=" sec";var ak=function(ap){var ar=ap%10;var aq=ap%100;if(ar==1&&aq!=11){return"st"}if(ar==2&&aq!=12){return"nd"}if(ar==3&&aq!=13){return"rd"}return"th"};var ao=function(ar,at,ap){if(at.length==ap){for(var aq=0;aq<ap;aq++){ar[aq]=a.strTrim(at[aq])
}}};this.applyDictionary=function(au){if(au!=null){Z=au.getValueForKey("format:time",Z);ae=au.getValueForKey("format:long_time",ae);U=au.getValueForKey("format:date",U);X=au.getValueForKey("format:long_date",X);af=au.getValueForKey("format:day",af);V=au.getValueForKey("format:long_day",V);ab=au.getValueForKey("format:full_day",ab);W=au.getValueForKey("format:separator",W);ah=au.getValueForKey("unit:am",ah);an=au.getValueForKey("unit:pm",an);aj=au.getValueForKey("unit:day",aj);ai=au.getValueForKey("unit:days",ai);ac=au.getValueForKey("unit:hours",ac);aa=au.getValueForKey("unit:minutes",aa);Y=au.getValueForKey("unit:seconds",Y);var at=au.getValueForKey("list:day_names","").split(",");var aq=au.getValueForKey("list:day_long_names","").split(",");var ap=au.getValueForKey("list:month_names","").split(",");var ar=au.getValueForKey("list:month_long_names","").split(",");ao(am,at,am.length);ao(ad,aq,ad.length);ao(al,ap,al.length);ao(ag,ar,ag.length)}};this.getTimestamp=function(){return new Date().getTime()
};this.getNow=function(){var ap=new Date();if(n.DUMMY_DATE!=null){ap=new Date(n.DUMMY_DATE.getFullYear(),n.DUMMY_DATE.getMonth(),n.DUMMY_DATE.getDate(),ap.getHours(),ap.getMinutes(),ap.getSeconds())}if(n.TIME_OFFSET!=null&&n.TIME_OFFSET!=0){if(n.TIME_ZONE_OFFSET!=null&&n.TIME_ZONE_OFFSET!=0){return new Date(ap.getTime()+n.TIME_OFFSET+n.TIME_ZONE_OFFSET)}else{return new Date(ap.getTime()+n.TIME_OFFSET)}}else{if(n.TIME_ZONE_OFFSET!=null&&n.TIME_ZONE_OFFSET!=0){return new Date(ap.getTime()+n.TIME_ZONE_OFFSET)}}return ap};this.getFormatSeparator=function(){return W};this.getFormattedDateStr=function(aG,aE,ap,aB,aD){var at=0;var au=0;var aC=0;var av=0;var ax=0;if(aG==null){aG=new Date(ap,aB,aD)}if(typeof aG=="number"){aG=new Date(aG)}at=aG.getDate();au=aG.getDay();aC=aG.getMonth()+1;av=aG.getMonth();ax=aG.getYear()+1900;var aH=aE.replace("ddd",at+ak(at)).replace("dd",(at<10?"0":"")+at).replace("mm",((aC<10)?"0":"")+aC).replace("yyyy",ax).replace("d",at).replace("m",aC).replace("yy",(""+ax).substring(2,4));
var ar=aH.indexOf("D");var aA=aH.indexOf("DD");var az=aH.indexOf("M");var aq=aH.indexOf("MM");if(aA>=0&&az<0){return aH.replace("DD",ad[au])}else{if(ar>=0&&az<0){return aH.replace("D",am[au])}else{if(aq>=0&&ar<0){return aH.replace("MM",ag[av])}else{if(az>=0&&ar<0){return aH.replace("M",al[av])}else{if(ar>=0&&az>=0){var aw=null;var aF=null;var ay=null;if(aA>=0){aw=aH.substring(0,aA);aF=ad[au];ay=aH.substring(aA+2,aH.length)}else{if(ar>=0){aw=aH.substring(0,ar);aF=am[au];ay=aH.substring(ar+1,aH.length)}}if(ar>az){if(aw.indexOf("MM")>=0){aw=aw.replace("MM",ag[av])}else{if(aw.indexOf("M")>=0){aw=aw.replace("M",al[av])}}}else{if(ay.indexOf("MM")>=0){ay=ay.replace("MM",ag[av])}else{if(ay.indexOf("M")>=0){ay=ay.replace("M",al[av])}}}return aw+aF+ay}}}}}return aH};this.getDayStr=function(ar,aq,ap,at){return this.getFormattedDateStr(ar,af,aq,ap,at)};this.getDayLongStr=function(ar,aq,ap,at){return this.getFormattedDateStr(ar,V,aq,ap,at)};this.getDayFullStr=function(ar,aq,ap,at){return this.getFormattedDateStr(ar,ab,aq,ap,at)
};this.getDateStr=function(ar,aq,ap,at){return this.getFormattedDateStr(ar,U,aq,ap,at)};this.getDateLongStr=function(ar,aq,ap,at){return this.getFormattedDateStr(ar,X,aq,ap,at)};this.getFormattedTimeStr=function(ar,ay,az,at,au){var ax=0;var av=0;var ap=0;if(ar==null){ax=az!=null?az*1:0;av=at!=null?at*1:0;ap=au!=null?au*1:0}else{if(typeof ar=="number"){ar=new Date(ar)}ax=ar.getHours();av=ar.getMinutes();ap=ar.getSeconds()}var aw=null;var aq=ay.indexOf("/ampm");if(aq>0){ay=ay.substr(0,aq);aw=ah;if(ax>12){aw=an;ax-=12}}return ay.replace("hh",(ax<10?"0":"")+ax).replace("mm",(av<10?"0":"")+av).replace("ss",(ap<10?"0":"")+ap).replace("h",ax).replace("m",av).replace("s",ap)+(aw!=null?aw:"")};this.getTimeStr=function(ar,at,ap,aq){return this.getFormattedTimeStr(ar,Z,at,ap,aq)};this.getTimeLongStr=function(ar,at,ap,aq){return this.getFormattedTimeStr(ar,ae,at,ap,aq)};this.getRecordingStr=function(ap){if(typeof ap=="number"){ap=new Date(ap)}return this.getDayLongStr(ap)+W+this.getTimeStr(ap)};this.getFormattedDurationStr=function(aq,au){var ap=Math.floor(aq/3600000);
var at=Math.floor((aq%3600000)/60000);var ar=Math.floor((aq%60000)/1000);au=a.exprEscape(au,"[","]",function(av){return av},function(av){if(av.indexOf("h")==0||av.indexOf("H")==0){return ap>0?av:""}else{if(av.indexOf("m")==0||av.indexOf("M")==0){return ap>0||at>0?av:""}else{if(av.indexOf("s")==0||av.indexOf("S")==0){return ap>0||at>0||ar>0?av:""}}}});return au.replace("H","h").replace("M",(ap>0?"mm":"m")).replace("S",(ap>0||at>0?"ss":"s")).replace("hh",(ap<10?"0":"")+ap).replace("mm",((at<10)?"0":"")+at).replace("ss",((ar<10)?"0":"")+ar).replace("h",ap).replace("m",at).replace("s",ar)};this.getDurationStr=function(av,aG){if(aG==null){aG="dhms"}var aF=aG.indexOf("D")!=-1;var ay=aG.indexOf("H")!=-1;var aC=aG.indexOf("M")!=-1;var aE=aG.indexOf("S")!=-1;aG=aG.toLowerCase();var aB=aG.indexOf("d")!=-1;var at=aG.indexOf("h")!=-1;var ap=aG.indexOf("m")!=-1;var ar=aG.indexOf("s")!=-1;if(aG.indexOf("~")==0){if(av<60000){if(ar){aG="s"}}else{if(av<3600000){if(ap){aG="m"}else{if(ar){aG="s"}}}else{if(av<86400000){if(at){aG="h"
}else{if(ap){aG="m"}else{if(ar){aG="s"}}}}else{if(aB){aG="d"}else{if(at){aG="h"}else{if(ap){aG="m"}else{if(ar){aG="s"}}}}}}}}if(aG=="d"){var az=Math.round(av/86400000);return az==1?az+aj:az+ai}if(aG=="h"){return Math.round(av/3600000)+ac}if(aG=="m"){return Math.round(av/60000)+aa}if(aG=="s"){return Math.round(av/1000)+Y}var au=av;var aD=at||ap||ar;var az=aB?(aD?Math.floor(au/86400000):Math.ceil(au/86400000)):0;if(aB){au=av%86400000}aD=ap||ar;var aA=at?(aD?Math.floor(au/3600000):Math.ceil(au/3600000)):0;if(at){au=av%3600000}aD=ar;var aw=ap?(aD?Math.floor(au/60000):Math.ceil(au/60000)):0;if(ap){au=av%60000}var aq=ar?Math.floor(au/1000):0;var ax="";if(aB&&(az>0||aF)){ax+=az+(az==1?aj:ai)}if(at&&(aA>0||ay)){if(ax.length>0){ax+=" "}ax+=aA+ac}if(ap&&(aw>0||aC)){if(ax.length>0){ax+=" "}ax+=aw+aa}if(ar&&(aq>0||aE)){if(ax.length>0){ax+=" "}ax+=aq+Y}if(ar&&ax.length==0){return aq+Y}if(ap&&ax.length==0){return aw+aa}if(at&&ax.length==0){return aA+ac}return ax};this.getVideoStr=function(ar,at){if(at==null){at=3
}var aq=at>2?Math.floor(ar/3600000):0;var au=at>1?Math.floor((ar%3600000)/60000):0;var ap=at>0?Math.floor(ar%60000/1000):0;if(at>2){return(aq<10?"0":"")+aq+":"+(au<10?"0":"")+au+":"+(ap<10?"0":"")+ap}else{if(at>1){return(au<10?"0":"")+au+":"+(ap<10?"0":"")+ap}else{if(at>0){return(ap<10?"0":"")+ap}}}return""}};var Q=new function(){this.toTimeStr=function(U){return K.getTimeStr(U)};this.toTimeLongStr=function(U){return K.getTimeLongStr(U)};this.toTimeDayStr=function(U){return K.getFormattedDateStr(U,"D")+K.getFormatSeparator()+K.getTimeStr(U)};this.toTimeDayLongStr=function(U){return K.getFormattedDateStr(U,"D")+K.getFormatSeparator()+K.getTimeLongStr(U)};this.toDayStr=function(U){return K.getDayStr(U)};this.toDayLongStr=function(U){return K.getDayLongStr(U)};this.toDayFullStr=function(U){return K.getDayFullStr(U)};this.toDateStr=function(U){return K.getDateStr(U)};this.toDateLongStr=function(U){return K.getDateLongStr(U)};this.toRecordingStr=function(U){return K.getRecordingStr(U)};this.toDayTimeStr=function(U){return K.getDayStr(U)+K.getFormatSeparator()+K.getTimeStr(U)
};this.toDayTimeLongStr=function(U){return K.getDayLongStr(U)+K.getFormatSeparator()+K.getTimeStr(U)};this.toDayTimeFullStr=function(U){return K.getDayFullStr(U)+K.getFormatSeparator()+K.getTimeStr(U)};this.toDateTimeStr=function(U){return K.getDateStr(U)+K.getFormatSeparator()+K.getTimeStr(U)};this.toDateTimeLongStr=function(U){return K.getDateLongStr(U)+K.getFormatSeparator()+K.getTimeStr(U)}};var O=new function(){this.foreach=function(Z,V){if(Z!=null&&Z.properties!=null&&typeof V=="function"){var X=Z.properties;if(Array.isArray(X)){for(var Y=0;Y<X.length;Y++){var W=X[Y];if(W!=null&&W.key!=null&&W.value!=null){if(V(W.key,W.value)===true){break}}}}else{for(var U in X){var W=X[U];if(W!=null){if(V(U,W)===true){break}}}}}};this.getValue=function(Z,V,U){if(Z!=null&&Z.properties!=null&&a.isFullStr(V)){var X=Z.properties;if(Array.isArray(X)){for(var Y=0;Y<X.length;Y++){var W=X[Y];if(W!=null&&W.key==V&&W.value!=null){return W.value}}}else{if(X[V]!=null){return X[V]}}}return U!=null?U:null};this.get=function(W,V,U){return a.strValue(this.getValue(W,V,U))
};this.getFullStr=function(W,V,U){return a.strFullCheck(this.getValue(W,V),U)};this.getNum=function(W,V,U){return a.strToNum(this.getValue(W,V),U)};this.getBool=function(W,V,U){return a.strToBool(this.getValue(W,V),U)};this.has=function(W,V,U){return a.isValid(this.getValue(W,V),U)};this.put=function(aa,W,V){if(aa!=null&&aa.properties!=null&&a.isFullStr(W)&&V!=null){var Y=aa.properties;if(Array.isArray(Y)){var U=false;for(var Z=0;Z<Y.length;Z++){var X=Y[Z];if(X!=null&&X.key==W){U=true;X.value=V;break}}if(!U){Y.push({key:W,value:V})}}else{Y[W]=V}}};this.remove=function(Y,U){if(Y!=null&&Y.properties!=null&&a.isFullStr(U)){var W=Y.properties;if(Array.isArray(W)){for(var X=0;X<W.length;X++){var V=W[X];if(V!=null&&V.key==U){V.value=null;break}}}else{W[U]=null}}};this.clear=function(U){if(U!=null&&U.properties!=null){U.properties={}}};this.count=function(V){var U=0;this.foreach(V,function(){U++});return U};this.extend=function(W,U){if(W!=null&&U!=null){if(W.properties!=null&&U.properties!=null){var V=this;
this.foreach(U,function(Y,X){V.put(W,Y,X)})}else{if(U.properties!=null){W.properties=U.properties}}}}};var I={STOPPED:1,PLAYING:2,PAUSED:3};var g={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,CONNECTION_UP:600,CONNECTION_DOWN:601,DEBUG:999,UNKNOWN:-1,actionToStr:function(U){switch(U){case this.LEFT:return"Left";case this.RIGHT:return"Right";case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";
case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";case this.VOLUME_DOWN:return"Volume-Down";case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";
case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.CONNECTION_UP:return"Connection-Up";case this.CONNECTION_DOWN:return"Connection-Down";case this.DEBUG:return"Debug"}return"Unknown"},strToAction:function(V){var U=this[a.strToAction(V)];return U!=null?U:this.UNKNOWN},isNavigationAction:function(U){return U==this.LEFT||U==this.RIGHT||U==this.UP||U==this.DOWN||U==this.SCROLL_UP||U==this.SCROLL_DOWN||U==this.SWIPE_LEFT||U==this.SWIPE_RIGHT||U==this.SWIPE_UP||U==this.SWIPE_DOWN
},isBaseAction:function(U){return U==this.EXECUTE||U==this.BACK||this.isNavigationAction(U)},isVideoAction:function(U){return U==this.PLAY||U==this.PAUSE||U==this.STOP||U==this.TOGGLE_PLAY_PAUSE||U==this.FORWARD||U==this.REWIND||U==this.RESTART},isChannelAction:function(U){return U==this.CHANNEL_UP||U==this.CHANNEL_DOWN},isVolumeAction:function(U){return U==this.VOLUME_UP||U==this.VOLUME_DOWN||U==this.MUTE||U==this.UNMUTE||U==this.TOGGLE_MUTE},isNumberAction:function(U){return U==this.KEY_0||U==this.KEY_1||U==this.KEY_2||U==this.KEY_3||U==this.KEY_4||U==this.KEY_5||U==this.KEY_6||U==this.KEY_7||U==this.KEY_8||U==this.KEY_9},isColorAction:function(U){return U==this.RED||U==this.GREEN||U==this.YELLOW||U==this.BLUE},isSystemAction:function(U){return U==this.SYSTEM||U==this.CURSOR_ON||U==this.CURSOR_OFF||U==this.SLEEP||U==this.WAKE_UP||U==this.CONNECTION_UP||U==this.CONNECTION_DOWN}};function x(){var U="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(W,Z,Y){if(a.isFullStr(W)&&Z!=null){var X=encodeURIComponent(Z);
if(Y!=null){var V=Y;if(typeof Y=="number"){V=new Date();V.setTime(V.getTime()+Y)}if(typeof V.toGMTString=="function"){V=V.toGMTString()}X+=";expires="+V+";"}document.cookie=encodeURIComponent(W)+"="+X}};this.get=function(V,aa){if(a.isFullStr(V)){var X=document.cookie.split(";");for(var Z=0;Z<X.length;Z++){var W=X[Z];var Y=W.indexOf("=");if(Y>0){if(V==decodeURIComponent(a.strTrim(W.substr(0,Y)))){return decodeURIComponent(W.substr(Y+1))}}}}return aa!=null?aa:null};this.getFullStr=function(V,W){return a.strFullCheck(this.get(V),W)};this.getNum=function(V,W){return a.strToNum(this.get(V),W)};this.getBool=function(V,W){return a.strToBool(this.get(V),W)};this.has=function(V,W){return a.isValid(this.get(V),W)};this.foreach=function(ab){if(typeof ab=="function"){var X=document.cookie.split(";");for(var Z=0;Z<X.length;Z++){var W=X[Z];var V=W.indexOf("=");if(V>0){var aa=decodeURIComponent(a.strTrim(W.substr(0,V)));var Y=decodeURIComponent(W.substr(V+1));if(ab(aa,Y)===true){break}}}}};this.remove=function(V){if(a.isFullStr(V)){this.set(V,"",U)
}};this.clear=function(){var V=this;this.foreach(function(W){V.set(W,"",U)})}}function e(){var ag="exp:";var af=false;var U=0;var aj=null;var ac=null;var al=new x();var an=null;var ai=function(){if(an!=null){var ap=an;an=null;if(ap.length>0){for(var ao=0;ao<ap.length;ao++){ap[ao]()}}}};var X=function(ao){if(an==null){an=[]}an.push(ao)};var W=function(){if(!af){af=true;ai()}};var Z=function(ao,ap){if(ap!=null){ap*=1;return ap>=0&&ap<ao}return false};var ad=function(){if(U==2&&window.TVXStorageService!=null&&typeof TVXStorageService.pull=="function"){TVXStorageService.pull(function(ap,ao){if(U==2){aj=ap!=null?ap:{};if(ao!=null){J.logger.error("Pull storage data failed: "+ao)}W()}});return true}return false};var V=function(){if(af&&U==2&&window.TVXStorageService!=null&&typeof TVXStorageService.push=="function"){TVXStorageService.push(aj,function(ao){if(ao!=null){J.logger.error("Push storage data failed: "+ao)}});return true}return false};var ab=function(){if(af&&U==2&&window.TVXStorageService!=null&&typeof TVXStorageService.clear=="function"){TVXStorageService.clear(function(ao){if(ao!=null){J.logger.error("Clear storage data failed: "+ao)
}});return true}return false};var Y=function(){U=1;aj={};ac=null;W()};var ae=function(){U=2;aj={};ac=null;return ad()};var ah=function(){U=3;aj=null;var ao=true;try{ac=window.localStorage}catch(ap){J.logger.warn("Access to local storage failed: "+ap);ao=false}if(ao){W()}return ao};var am=function(){U=4;aj=null;ac=null;W()};var aa=function(){var aq=[];var ar=K.getTimestamp();if(aj!=null){for(var ao in aj){if(ao!=null&&ao.indexOf(ag)==0){if(Z(ar,aj[ao])){aq.push(ao.substr(ag.length))}}}for(var ap=0;ap<aq.length;ap++){delete aj[aq[ap]];delete aj[ag+aq[ap]]}}else{if(ac!=null){for(var ap=0;ap<ac.length;ap++){var ao=ac.key(ap);if(ao!=null&&ao.indexOf(ag)==0){if(Z(ar,ac.getItem(ao))){aq.push(ao.substr(ag.length))}}}for(var ap=0;ap<aq.length;ap++){ac.removeItem(aq[ap]);ac.removeItem(ag+aq[ap])}}}};var ak=function(){if(!ae()){if(!ah()){Y()}}};this.set=function(ao,ar,aq){if(a.isFullStr(ao)&&ar!=null){var ap=-1;if(aq!=null){if(typeof aq=="number"){ap=new Date().getTime()+aq}else{if(typeof aq=="string"){ap=new Date(aq).getTime()
}else{if(typeof aq.getTime=="function"){ap=aq.getTime()}}}}if(aj!=null){aj[ao]=ar;if(ap>=0){aj[ag+ao]=ap}else{delete aj[ag+ao]}V()}else{if(ac!=null){ac.setItem(ao,ar);if(ap>=0){ac.setItem(ag+ao,ap)}else{ac.removeItem(ag+ao)}}else{al.set(ao,ar,aq)}}}};this.get=function(ao,ar){if(a.isFullStr(ao)){if(aj!=null){var aq=false;var ap=aj[ag+ao];if(ap!=null){if(Z(K.getTimestamp(),ap)){aq=true;delete aj[ao];delete aj[ag+ao]}}if(!aq){var at=aj[ao];if(at!=null){return at}}}else{if(ac!=null){var aq=false;var ap=ac.getItem(ag+ao);if(ap!=null){if(Z(K.getTimestamp(),ap)){aq=true;ac.removeItem(ao);ac.removeItem(ag+ao)}}if(!aq){var at=ac.getItem(ao);if(at!=null){return at}}}else{return al.get(ao,ar)}}}return ar!=null?ar:null};this.getFullStr=function(ao,ap){return a.strFullCheck(this.get(ao),ap)};this.getNum=function(ao,ap){return a.strToNum(this.get(ao),ap)};this.getBool=function(ao,ap){return a.strToBool(this.get(ao),ap)};this.has=function(ao,ap){return a.isValid(this.get(ao),ap)};this.foreach=function(aq){if(typeof aq=="function"){if(aj!=null){aa();
for(var ao in aj){if(ao!=null&&ao.indexOf(ag)!=0){if(aq(ao,aj[ao])===true){break}}}}else{if(ac!=null){aa();for(var ap=0;ap<ac.length;ap++){var ao=ac.key(ap);if(ao!=null&&ao.indexOf(ag)!=0){if(aq(ao,ac.getItem(ao))===true){break}}}}else{al.foreach(aq)}}}};this.remove=function(ao){if(a.isFullStr(ao)){if(aj!=null){delete aj[ao];delete aj[ag+ao];V()}else{if(ac!=null){ac.removeItem(ao);ac.removeItem(ag+ao)}else{al.remove(ao)}}}};this.clear=function(){if(aj!=null){aj={};ab()}else{if(ac!=null){ac.clear()}else{al.clear()}}};this.getType=function(){if(aj!=null){return U==2?"service":"cache"}else{if(ac!=null){return"storage"}}return"cookies"};this.setType=function(ao){af=false;if(ao=="cache"){Y()}else{if(ao=="service"){if(!ae()){Y()}}else{if(ao=="storage"){if(!ah()){Y()}}else{if(ao=="cookies"){am()}else{W()}}}}};this.isReady=function(){return af};this.onReady=function(ao){if(typeof ao=="function"){if(!af){X(ao)}else{ao()}}};ak()}function T(V){var U=null;this.set=function(W,X){if(a.isFullStr(W)&&X!=null){if(U==null){U={}
}U[W]=X}};this.get=function(W,X){if(U!=null&&a.isFullStr(W)&&U[W]!=null){return U[W]}return X!=null?X:null};this.getFullStr=function(W,X){return a.strFullCheck(this.get(W),X)};this.getNum=function(W,X){return a.strToNum(this.get(W),X)};this.getBool=function(W,X){return a.strToBool(this.get(W),X)};this.has=function(W,X){return a.isValid(this.get(W),X)};this.foreach=function(X){if(typeof X=="function"){if(U!=null){for(var W in U){if(X(W,U[W])===true){break}}}}};this.remove=function(W){if(U!=null&&a.isFullStr(W)){delete U[W]}};this.clear=function(){U={}};this.create=function(aa){var Z={};if(a.isFullStr(aa)){var ad=aa.indexOf("?");if(ad>=0){var Y=aa.substr(ad+1).split("&");for(var W=0;W<Y.length;W++){var ab=Y[W];if(a.isFullStr(ab)){var X=ab.indexOf("=");if(X>0){var ac=ab.substr(0,X);var ae=ab.substr(X+1);Z[decodeURIComponent(ac)]=decodeURIComponent(ae)}else{Z[decodeURIComponent(ab)]=""}}}}}return Z};this.build=function(Z,Y){var aa=0;var W="";if(U!=null){for(var X in U){var ab=a.strValue(U[X]);
if(aa>0){W+=(Y!=null?Y:"&")}if(a.isFullStr(ab)){W+=(Z===false?X:encodeURIComponent(X))+"="+(Z===false?ab:encodeURIComponent(ab))}else{W+=(Z===false?X:encodeURIComponent(X))}aa++}}return W};if(V!=null){U=this.create(V)}else{U=this.create(document.URL)}}function f(U,V){this.getValue=function(W){if(a.isFullStr(W)){if(U!=null&&U[W]!=null){return U[W]}if(V!=null&&V[W]!=null){return V[W]}}return null};this.get=function(W){return a.strValue(this.getValue(W))};this.getFullStr=function(W){return a.strFullCheck(this.get(W),null)};this.getNum=function(W){return a.strToNum(this.getValue(W),0)};this.getBool=function(W){return a.strToBool(this.getValue(W),false)};this.has=function(W,X){return a.isValid(this.get(W),X)}}function j(){var U={};this.hasObserver=function(V){return a.isFullStr(V)&&U[V]!=null};this.hasObservers=function(){var V;for(V in U){return true}return false};this.addObserver=function(V,W){if(a.isFullStr(V)&&typeof W=="function"){U[V]=W}};this.removeObserver=function(V){if(a.isFullStr(V)){delete U[V]
}};this.onEvent=function(V,W){if(a.isFullStr(V)){if(typeof W=="function"){this.addObserver(V,W)}else{this.removeObserver(V)}}};this.notifyObserver=function(V,W){if(a.isFullStr(V)&&U[V]!=null){U[V](W)}};this.notifyObservers=function(W){for(var V in U){U[V](W)}};this.clear=function(){U={}}}function S(){var U={};this.hasObserver=function(W,V){return a.isFullStr(W)&&a.isFullStr(V)&&U[W]!=null&&U[W][V]!=null};this.hasObservers=function(W){if(a.isFullStr(W)&&U[W]!=null){var V;for(V in U[W]){return true}}return false};this.addObserver=function(W,V,X){if(a.isFullStr(W)&&a.isFullStr(V)&&typeof X=="function"){if(U[W]==null){U[W]={}}U[W][V]=X}};this.removeObserver=function(W,V){if(a.isFullStr(W)&&a.isFullStr(V)&&U[W]!=null){delete U[W][V];if(!this.hasObservers(W)){delete U[W]}}};this.onEvent=function(W,V,X){if(a.isFullStr(W)&&a.isFullStr(V)){if(typeof X=="function"){this.addObserver(W,V,X)}else{this.removeObserver(W,V)}}};this.notifyObserver=function(W,V,X){if(a.isFullStr(W)&&a.isFullStr(V)&&U[W]!=null&&U[W][V]!=null){U[W][V](X)
}};this.notifyObservers=function(W,X){if(a.isFullStr(W)&&U[W]!=null){for(var V in U[W]){U[W][V](X)}}};this.clear=function(V){if(a.isFullStr(V)){if(U[V]!=null){U[V]={}}}else{U={}}}}function G(){var V=null;var W=[];var U=null;var X=false;this.delegate=null;this.execute=function(){if(V!=null){clearTimeout(V);V=null}if(U!=null){if(typeof U.action=="function"){U.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(U.action)}}U=null;this.process()}};this.process=function(){if(U==null&&W.length>0){U=W.shift();if(U.action==="stop"&&U.delay==null){X=true;U=null}else{if(U.delay!=null&&U.delay>0){var Y=this;V=setTimeout(function(){V=null;Y.execute()},U.delay)}else{this.execute()}}}};this.reset=function(){W=[];U=null;X=false;if(V!=null){clearTimeout(V);V=null}};this.push=function(Y,Z){if(Y!=null){if(Y==="reset"&&Z==null){this.reset()}else{if(Y==="execute"&&Z==null){this.execute()}else{if(Y==="clear"&&Z==null){W=[]}else{if(Y==="continue"&&Z==null){X=false
}else{W.push({action:Y,delay:Z})}}}}if(!X){this.process()}}};this.isBusy=function(){return V!=null}}function d(U,Y){var W=null;var X=[];var V=0;this.size=U!=null?U:0;this.delay=Y!=null?Y:0;this.work=function(){if(W==null&&this.delay>0){var Z=this;W=setTimeout(function(){W=null;V=0;Z.process()},this.delay)}};this.process=function(){if(W==null&&X.length>0){if(V<this.size||this.size<=0||this.delay<=0){V++;var Z=X.shift();Z();this.process()}else{this.work()}}};this.reset=function(){X=[];V=0;if(W!=null){clearTimeout(W);W=null}};this.execute=function(Z){if(typeof Z=="function"){X.push(Z);this.process()}};this.isBusy=function(){return W!=null}}function r(X){var W=null;var V=null;var U=false;this.delay=X!=null?X:0;this.start=function(Y){var Z=this;U=false;this.stop();V=Y;if(this.delay>0){W=setTimeout(function(){Z.finish()},this.delay)}else{Z.finish()}};this.restart=function(){this.start(V)};this.stop=function(){if(W!=null){clearTimeout(W);W=null}};this.finish=function(){this.stop();if(!U){U=true;
if(typeof V=="function"){V()}}};this.isBusy=function(){return W!=null}}function M(){var W=300;var X=0;var U=0;var V=null;this.click=function(Y){var Z=K.getTimestamp();if(V===Y&&X>0&&Z-X<=W){U++}else{U=1}V=Y;X=Z;return U}}function m(){var U="application/json";var Z="application/xml";var W="text/plain";var ac="text/html";var ab="application/x-www-form-urlencoded";var X=function(af){var ae=null;try{ae=new XMLHttpRequest()}catch(ad){if(af!=null&&typeof af.error=="function"){af.error("Create XML HTTP request failed: "+ad)}}return ae};var aa=function(ad){if(ad!=null&&typeof ad.destroy=="function"){ad.destroy()}};var Y=function(ah,ai,af){var ad=ah.responseText;var ag=true;if(ad!=null){if(af==U){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(a.isFullStr(ad)){ad=JSON.parse(ad)}else{ag=false;if(ai!=null&&typeof ai.error=="function"){ai.error("Validate JSON failed")}}}else{if(a.isJson(ad)){ad=new Function("return "+ad)()}else{ag=false;if(ai!=null&&typeof ai.error=="function"){ai.error("Validate JSON failed")
}}}}catch(ae){ag=false;if(ai!=null&&typeof ai.error=="function"){ai.error("Create JSON failed: "+ae)}}}else{if(af==Z){ad=ah.responseXML}}}if(ag&&ai!=null&&typeof ai.success=="function"){ai.success(ad)}};var V=function(aj,ag,ai,aq,ad){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(aj,ag,ai,aq,ad)===true){return}var am=X(aq);if(am!=null){var an=U;var ah=false;var ao=false;var ae=true;var ap=null;if(ad!=null){ah=ad.isForm===true;ao=ad.withCredentials===true;ae=ad.accurateHeaders!==false;ap=ad.headers;if(ad.dataType!=null){if(ad.dataType=="json"){an=U}else{if(ad.dataType=="xml"){an=Z}else{if(ad.dataType=="text"){an=W}else{if(ad.dataType=="html"){an=ac}else{an=null}}}}}}try{if(ao){am.withCredentials=true}am.open(aj,ag,true)}catch(al){aa(am);am=null;if(aq!=null&&typeof aq.error=="function"){aq.error("Open connection failed: "+al)}}if(am!=null){am.onreadystatechange=function(){if(am!=null){if(am.readyState==4){if((am.status>=200&&am.status<300)||(am.status==0&&a.isFullStr(am.responseText))){Y(am,aq,an)
}else{if(aq!=null&&typeof aq.error=="function"){var ar=a.strValue(am.status);if(a.isFullStr(am.statusText)){ar+=" "+am.statusText}aq.error("Server responded with status: "+ar)}}aa(am);am=null}}};if(an!=null){if(ai!=null){am.setRequestHeader("Content-Type",!ah&&ae?an:ab)}if(ae){am.setRequestHeader("Accept",an)}}if(ap!=null){for(var ak in ap){var af=ap[ak];if(af!=null){am.setRequestHeader(a.strValue(ak),a.strValue(af))}}}try{am.send(ai)}catch(al){aa(am);am=null;if(aq!=null&&typeof aq.error=="function"){aq.error("Send data failed: "+al)}}}}};this.get=function(ad,af,ae){V("GET",ad,null,af,ae)};this.post=function(ae,ag,ad,af){V("POST",ae,ag,ad,af)};this.put=function(ae,ag,ad,af){V("PUT",ae,ag,ad,af)};this.del=function(ad,af,ae){V("DELETE",ad,null,af,ae)}}var w={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function E(){var aa=[];var W=null;this.level=w.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var Y=function(){var ab=new Date();var ai=ab.getHours();
var ah=ab.getMinutes();var af=ab.getSeconds();var ae=ab.getMilliseconds();var ad=ab.getDate();var ag=ab.getMonth()+1;var ac=ab.getFullYear();return ac+"-"+((ag<10)?"0":"")+ag+"-"+((ad<10)?"0":"")+ad+" "+((ai<10)?"0":"")+ai+":"+((ah<10)?"0":"")+ah+":"+((af<10)?"0":"")+af+"."+((ae<10)?"00":((ae<100)?"0":""))+ae};var X=function(ac,ab){var ad="";switch(ac){case w.DEBUG:ad=o.LOGGER.CSS.CLASS_DEBUG;break;case w.INFO:ad=o.LOGGER.CSS.CLASS_INFO;break;case w.WARN:ad=o.LOGGER.CSS.CLASS_WARN;break;case w.ERROR:ad=o.LOGGER.CSS.CLASS_ERROR;break}return a.strReplace(o.LOGGER.HTML.LINE.replace("{LEVEL}",ad),"{MESSAGE}",a.htmlEscape(ab))};var V=function(ac,ab){var ad="";switch(ac){case w.DEBUG:ad="DEBUG";break;case w.INFO:ad="INFO";break;case w.WARN:ad="WARNING";break;case w.ERROR:ad="ERROR";break}return Y()+" "+ad+": "+ab};var U=function(ad,ac,ae,ab){if(ae>0&&ac.length>ae){ac=ac.substr(0,ae)+"..."}aa.push(X(ad,ac));if(ab>0){while(aa.length>ab){aa.shift()}}};var Z=function(ac,ab){if(window.console!=null){switch(ac){case w.DEBUG:console.log(ab);
break;case w.INFO:console.info(ab);break;case w.WARN:console.warn(ab);break;case w.ERROR:console.error(ab);break}}};this.registerControl=function(ab,ac){W=ab;if(ac!==false){this.print()}};this.unregisterControl=function(ab){if(W==ab){W=null}};this.print=function(){if(W!=null&&aa.length>0){var ac="";for(var ab=0;ab<aa.length;ab++){ac+=aa[ab]+o.COMMON.HTML.BREAK}W.html(ac)}};this.clear=function(){aa=[];this.print()};this.log=function(ac,ab){if(ac<=this.level){var ad=-1;switch(ac){case w.DEBUG:ad=this.maxDebugLength;break;case w.INFO:ad=this.maxInfoLength;break;case w.WARN:ad=this.maxWarnLength;break;case w.ERROR:ad=this.maxErrorLength;break}Z(ac,ab);U(ac,V(ac,ab),ad,this.maxLines);this.print()}};this.debug=function(ab){this.log(w.DEBUG,ab)};this.info=function(ab){this.log(w.INFO,ab)};this.warn=function(ab){this.log(w.WARN,ab)};this.error=function(ab){this.log(w.ERROR,ab)}}function t(){var X=null;var aa=null;var Z=0;var ac=null;var Y=false;var W={};var ab=function(ad,ae){W[ad]=ae;if(Y){ae()
}};var U=function(ad){delete W[ad]};var V=function(){for(var ad in W){W[ad]()}};this.onReady=function(ad,ae){if(a.isFullStr(ad)){if(typeof ae=="function"){ab(ad,ae)}else{U(ad)}}};this.init=function(ad){Y=true;X=a.strFullCheck(ad!=null?ad.name:null,null);aa=a.strFullCheck(ad!=null?ad.version:null,null);Z=0;ac={};O.foreach(ad,function(af,ae){if(a.isFullStr(af)&&a.isFullStr(ae)){ac[af]=ae;Z++}});V()};this.getName=function(){return X};this.getVersion=function(){return aa};this.getSize=function(){return Z};this.isInitialized=function(){return Y};this.getValueForKey=function(ae,ad){if(ac!=null&&a.isFullStr(ae)&&ac[ae]!=null){return ac[ae]}return ad};this.getValueForExpr=function(ae){if(a.isFullStr(ae)){var ad=ae.indexOf("|");if(ad>0){return this.getValueForKey(ae.substr(0,ad),ae.substr(ad+1))}else{return this.getValueForKey(ae,"")}}return""};this.getData=function(){return{name:X,version:aa,size:Z,properties:ac}}}function k(){var W=null;var X={};var V=null;var U=null;this.delay=0;this.now=K.getNow();
this.format="time";this.isRunning=function(){return W!=null};this.hasHook=function(Y){return a.isFullStr(Y)&&X[Y]!=null};this.hasHooks=function(){var Y;for(Y in X){return true}return false};this.hasControl=function(){return V!=null};this.clearHooks=function(){X={}};this.addHook=function(Y,Z){if(a.isFullStr(Y)&&typeof Z=="function"){X[Y]=Z}};this.removeHook=function(Y){if(a.isFullStr(Y)){delete X[Y]}};this.onTick=function(Y,Z){if(a.isFullStr(Y)){if(typeof Z=="function"){this.addHook(Y,Z)}else{this.removeHook(Y)}}};this.registerControl=function(Y){V=Y};this.unregisterControl=function(Y){if(V==Y){V=null}};this.update=function(){if(V!=null){var Y=null;switch(this.format){case"full":Y=Q.toDayTimeFullStr(this.now);break;case"date":Y=Q.toDayTimeLongStr(this.now);break;case"day":Y=Q.toTimeDayStr(this.now);break;case"time":Y=Q.toTimeStr(this.now);break;default:Y="";break}if(V.clockText!=Y){V.clockText=Y;V.html(Y)}}};this.validate=function(){this.now=K.getNow()};this.process=function(){if(W!=null){this.validate();
this.delay=U!=null?this.now.getTime()-U.getTime():0;U=this.now;this.update();for(var Y in X){X[Y](this)}}};this.start=function(){if(W==null){var Y=this;U=null;W=setInterval(function(){Y.process()},1000)}};this.stop=function(){if(W!=null){clearInterval(W);W=null;U=null}}}function D(){var U={};this.load=function(W,V,Y,X){if(a.isFullStr(W)){if(V!=null&&U[V]!=null&&U[V].url==W&&U[V].data!=null){if(Y!=null&&typeof Y.success=="function"){Y.success(U[V].data,true)}}else{J.ajax.get(W,{success:function(Z){if(V!=null){U[V]={url:W,data:Z}}if(Y!=null&&typeof Y.success=="function"){Y.success(Z,false)}},error:function(Z){if(V!=null){U[V]={url:W,data:null}}if(Y!=null&&typeof Y.error=="function"){Y.error(Z)}}},X)}}};this.clearCache=function(V){if(V!=null){U[V]=null}};this.clear=function(){U={}}}var J={logger:new E(),cookies:new x(),storage:new e(),urlParams:new T(),ajax:new m(),loader:new D()};function L(){var ag={};var Z={};var ad={};var aa={};var ac=function(ai){if(ai!=null&&ai.response!=null){return a.strToNum(ai.response.status,0)
}return 0};var ah=function(ai){if(ai!=null&&ai.response!=null){return ai.response.data}return null};var X=function(aj){var ai="";if(aj!=null&&aj.response!=null){if(a.isNum(aj.response.status)){ai+=""+aj.response.status}if(a.isFullStr(aj.response.text)){if(ai.length>0){ai+=" "}ai+=aj.response.text}if(a.isFullStr(aj.response.message)){if(ai.length>0){ai+=": "}ai+=aj.response.message}}return ai.length>0?ai:"Unknown error"};var af=function(ai,aj){ad[ai]=aj;for(var ak in ag){if(ag[ak]!=null){aj(ag[ak])}}};var U=function(ai){delete ad[ai]};var W=function(ai){for(var aj in ad){ad[aj](ai)}};var Y=function(ai,aj){if(ai!=null&&typeof aj=="function"){aa[ai]=aj;for(var ak in Z){if(Z[ak]!=null){aj(Z[ak])}}}};var ae=function(ai){if(ai!=null){delete aa[ai]}};var V=function(ai){for(var aj in aa){aa[aj](ai)}};var ab=function(ai){return ai!=null&&ai.indexOf("temp:")!=0};this.onReady=function(ai,aj){if(a.isFullStr(ai)){if(typeof aj=="function"){af(ai,aj)}else{U(ai)}}};this.onError=function(ai,aj){if(a.isFullStr(ai)){if(typeof aj=="function"){Y(ai,aj)
}else{ae(ai)}}};this.onCompleted=function(ai,aj){this.onReady(ai,aj);this.onError(ai,aj)};this.foreachEntry=function(aj){if(typeof aj=="function"){for(var ai in ag){if(ag[ai]!=null){if(aj(ag[ai])===true){break}}}}};this.foreachError=function(aj){if(typeof aj=="function"){for(var ai in Z){if(Z[ai]!=null){if(aj(Z[ai])===true){break}}}}};this.getData=function(ai){return ai!=null&&ag[ai]!=null?ag[ai].data:null};this.getEntry=function(ai){return ai!=null?ag[ai]:null};this.setEntry=function(aj,ai){if(aj!=null&&ai!=null){ag[aj]=ai;Z[aj]=null;W(ai)}};this.getError=function(ai){return ai!=null?Z[ai]:null};this.setError=function(ai,aj){if(ai!=null&&aj!=null){ag[ai]=null;Z[ai]=aj;V(aj)}};this.shouldStoreData=function(ai){return ab(ai)};this.createData=function(ai,aj){return aj};this.putData=function(aj,al,ai,ak){if(aj!=null&&al!=null){J.ajax.put(aj,al,{success:function(am){if(am.response!=null&&am.response.status==200){if(ai!=null&&typeof ai.success=="function"){ai.success(am.response.data)}}else{if(ai!=null&&typeof ai.error=="function"){ai.error(X(am),ac(am),ah(am))
}}},error:function(am){if(ai!=null&&typeof ai.error=="function"){ai.error(am,0,null)}}},ak)}};this.postData=function(aj,al,ai,ak){if(aj!=null&&al!=null){J.ajax.post(aj,al,{success:function(am){if(am.response!=null&&am.response.status==200){if(ai!=null&&typeof ai.success=="function"){ai.success(am.response.data)}}else{if(ai!=null&&typeof ai.error=="function"){ai.error(X(am),ac(am),ah(am))}}},error:function(am){if(ai!=null&&typeof ai.error=="function"){ai.error(am,0,null)}}},ak)}};this.deleteData=function(ai,ak,aj){if(ai!=null){J.ajax.del(ai,{success:function(al){if(al.response!=null&&al.response.status==200){if(ak!=null&&typeof ak.success=="function"){ak.success(al.response.data)}}else{if(ak!=null&&typeof ak.error=="function"){ak.error(X(al),ac(al),ah(al))}}},error:function(al){if(ak!=null&&typeof ak.error=="function"){ak.error(al,0,null)}}},aj)}};this.loadData=function(al,aj,am,ak){if(al!=null){var ai=this;if(ab(al)){this.clearData(al)}if(aj!=null){J.ajax.get(aj,{success:function(aq){var ap=false;
if(aq.response!=null&&aq.response.status==200&&aq.response.data!=null){ap=true;aq=aq.response.data}if(!ap&&aq.response!=null){var an={id:al,error:X(aq),status:ac(aq),reason:ah(aq)};var ao=true;if(am!=null&&typeof am.error=="function"){ao=am.error(an)}if(ao!==false&&ab(al)){ai.setError(al,an)}if(am!=null&&typeof am.completed=="function"){am.completed(an)}}else{var an={id:al,data:ai.createData(al,aq)};var ao=true;if(am!=null&&typeof am.success=="function"){ao=am.success(an)}if(ao!==false&&ab(al)){ai.setEntry(al,an)}if(am!=null&&typeof am.completed=="function"){am.completed(an)}}},error:function(ap){var an={id:al,error:ap,status:0,reason:null};var ao=true;if(am!=null&&typeof am.error=="function"){ao=am.error(an)}if(ao!==false&&ab(al)){ai.setError(al,an)}if(am!=null&&typeof am.completed=="function"){am.completed(an)}}},ak)}}};this.clearData=function(ai){if(ai!=null){ag[ai]=null;Z[ai]=null}};this.clear=function(){ag={};Z={}}}function v(){var Z={};var ac={};var aj={};var V={};var U=function(am){if(am!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(am)
}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(am)}}}catch(al){J.logger.error("Create blob URL failed: "+al)}}return null};var af=function(al){if(al!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(al)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(al)}}}catch(am){J.logger.error("Dispose blob URL failed: "+am)}}};var ak=function(an){var am=null;try{am=new XMLHttpRequest()}catch(al){if(an!=null&&typeof an.error=="function"){an.error("Create XML HTTP request failed: "+al)}}return am};var ab=function(al){if(al!=null&&typeof al.destroy=="function"){al.destroy()}};var ae=function(al,am){if(al.response!=null){if(am!=null&&typeof am.success=="function"){am.success(al.response)}}else{if(am!=null&&typeof am.error=="function"){am.error("Load blob failed: Response is missing")}}};var W=function(ap,an,ao,aw,al){var at=ak(aw);if(at!=null){var au=false;
var av=null;if(al!=null){au=al.withCredentials===true;av=al.headers}try{if(au){at.withCredentials=true}at.responseType="blob";at.open(ap,an,true)}catch(ar){ab(at);at=null;if(aw!=null&&typeof aw.error=="function"){aw.error("Open connection failed: "+ar)}}if(at!=null){at.onreadystatechange=function(){if(at!=null){if(at.readyState==4){if(at.status>=200&&at.status<300){ae(at,aw)}else{if(aw!=null&&typeof aw.error=="function"){var ax=a.strValue(at.status);if(a.isFullStr(at.statusText)){ax+=" "+at.statusText}aw.error("Server responded with status: "+ax)}}ab(at);at=null}}};if(av!=null){for(var aq in av){var am=av[aq];if(am!=null){at.setRequestHeader(a.strValue(aq),a.strValue(am))}}}try{at.send(ao)}catch(ar){ab(at);at=null;if(aw!=null&&typeof aw.error=="function"){aw.error("Send data failed: "+ar)}}}}};var Y=function(al,am,aq,ao,ar,an,ap){if(aq!=null){al.clearBlob(aq);if(ao!=null){W(am,ao,ar,{success:function(au){var at={id:aq,blob:au,url:U(au)};if(an!=null&&typeof an.success=="function"){an.success(at)
}al.setEntry(aq,at);if(an!=null&&typeof an.completed=="function"){an.completed(at)}},error:function(au){var at={id:aq,error:au,status:0,reason:null};if(an!=null&&typeof an.error=="function"){an.error(at)}al.setError(aq,at);if(an!=null&&typeof an.completed=="function"){an.completed(at)}}},ap)}}};var X=function(al,am){aj[al]=am;for(var an in Z){if(Z[an]!=null){am(Z[an])}}};var aa=function(al){delete aj[al]};var ad=function(al){for(var am in aj){aj[am](al)}};var ah=function(al,am){if(al!=null&&typeof am=="function"){V[al]=am;for(var an in ac){if(ac[an]!=null){am(ac[an])}}}};var ag=function(al){if(al!=null){delete V[al]}};var ai=function(al){for(var am in V){V[am](al)}};this.onReady=function(al,am){if(a.isFullStr(al)){if(typeof am=="function"){X(al,am)}else{aa(al)}}};this.onError=function(al,am){if(a.isFullStr(al)){if(typeof am=="function"){ah(al,am)}else{ag(al)}}};this.onCompleted=function(al,am){this.onReady(al,am);this.onError(al,am)};this.foreachEntry=function(am){if(typeof am=="function"){for(var al in Z){if(Z[al]!=null){if(am(Z[al])===true){break
}}}}};this.foreachError=function(am){if(typeof am=="function"){for(var al in ac){if(ac[al]!=null){if(am(ac[al])===true){break}}}}};this.getBlob=function(al){return al!=null&&Z[al]!=null?Z[al].blob:null};this.getUrl=function(al){return al!=null&&Z[al]!=null?Z[al].url:null};this.getEntry=function(al){return al!=null?Z[al]:null};this.setEntry=function(am,al){if(am!=null&&al!=null){af(Z[am]!=null?Z[am].url:null);Z[am]=al;ac[am]=null;ad(al)}};this.getError=function(al){return al!=null?ac[al]:null};this.setError=function(al,am){if(al!=null&&am!=null){af(Z[al]!=null?Z[al].url:null);Z[al]=null;ac[al]=am;ai(am)}};this.executeBlob=function(ao,am,ap,al,an){Y(this,"POST",ao,am,ap,al,an)};this.loadBlob=function(an,al,ao,am){Y(this,"GET",an,al,null,ao,am)};this.clearBlob=function(al){if(al!=null){af(Z[al]!=null?Z[al].url:null);Z[al]=null;ac[al]=null}};this.clear=function(){for(var al in Z){af(Z[al]!=null?Z[al].url:null)}Z={};ac={}}}function F(Z){var W="srq";var V=0;var U={};var aa=0;this.timeout=Z!=null?Z:30000;
var X=function(ab,ae){V++;aa++;var ad=W+V+"_"+K.getTimestamp();var ac={timeout:new r(ab),callback:ae};U[ad]=ac;ac.timeout.start(function(){Y(ad,null,"Request timed out","timeout")});return ad};var Y=function(ae,af,ab,ac){if(ae!=null){var ad=U[ae];if(ad!=null){aa--;ad.timeout.stop();delete U[ae];if(ab!=null){if(ad.callback!=null&&typeof ad.callback.error=="function"){ad.callback.error(ab,ac)}}else{if(ad.callback!=null&&typeof ad.callback.success=="function"){ad.callback.success(af)}}}}};this.startRequest=function(ab){return X(this.timeout,ab)};this.getRequestsCount=function(){return aa};this.isRequestPending=function(ab){return ab!=null&&U[ab]!=null};this.handleData=function(ab,ac){Y(ab,ac!=null?ac:null,null)};this.handleError=function(ac,ad,ab){Y(ac,null,ad!=null?ad:"Unknown error",ab!=null?ab:null)}}function c(){var X=0;var W=null;var V=function(){if(W!=null){var Z=W;W=null;if(Z.length>0){for(var Y=0;Y<Z.length;Y++){Z[Y]()}}}};var U=function(Y){if(W==null){W=[]}W.push(Y)};this.isBusy=function(){return X>0
};this.start=function(Y){if(Y===true){X=1}else{X++}};this.stop=function(Y){if(X>0){if(Y===true){X=0}else{if(X>0){X--}}if(X==0){V()}}};this.onReady=function(Y){if(typeof Y=="function"){if(X>0){U(Y)}else{Y()}}}}function s(ae){var af=4;var ac=256;var ag=null;var ad=null;var an=function(ay){return a.isFullStr(ay)&&ay.length>=af&&ay.length<ac&&ay.length%2==0};var at=function(ay){return ay&ay};var V=function(ay,az){return at(((ay<<5)-ay)+az)};var ai=function(ay){return ay.length==1?"0"+ay:ay};var ap=function(az,ay){if(ay>0){while(az<0){az+=ay}while(az>=ay){az-=ay}}return az};var al=function(aA,az,ay){aA+=3;return aA+az>=ay?0:aA};var Y=function(ay,az){ay++;return ay>=az?0:ay};var am=function(ay,az){return az?-ay:ay};var au=function(aB,aC,aA,ay,az){return ap(aC+am(ay,az)*ao(aB,aA),ac)};var aa=function(aE,ay,aD,aF,az,aC,aA){var aB=aE!=null&&aD!=null?aE.indexOf(aD):-1;return aB>=0?aw(aE,ap(aB+am(aC,aA)*(aF+ao(ay,az)),aE.length)):aD};var Z=function(az,ay){return ay!=null?(az!=null?az+ay:ay):az};var aw=function(ay,az){return ay!=null&&az>=0&&az<ay.length?ay.charAt(az):null
};var ao=function(ay,az){return ay!=null&&az>=0&&az<ay.length?ay.charCodeAt(az):0};var ab=function(aD,aF,ay,aC,az,aB){var aE=aw(aD,aC);if(aE!=null){var aA=Math.random()>0.5?aF.indexOf(aE):aF.lastIndexOf(aE);return aA>=0?ai(au(ay,aA,az,1,aB).toString(16)):null}return null};var W=function(aD,ay,aC,az,aB){var aF=aw(aD,aC);var aE=aw(aD,aC+1);var aA=aF!=null&&aE!=null?parseInt(aF+aE,16):-1;return aA>=0?au(ay,aA,az,-1,aB):-1};var av=function(aE,aI,az){var aH=null;if(a.isFullStr(aE)&&aE.length%2==0&&an(aI)&&an(az)){var aD=aE.length;var aF=az.length;var aA=0;var aC=0;var aB=false;for(var ay=0;ay<aD;ay+=2){var aG=aw(aI,W(aE,az,ay,aA+aC,aB));if(aG!=null){aH=Z(aH,aG)}else{return null}aA=al(aA,aC,aF);if(aA==0){aC=Y(aC,aF)}aB=!aB}}return aH};var X=function(aF,aB,az){var aI=null;if(a.isFullStr(aF)&&an(aB)&&an(az)){var aH=aF.length;var aG=az.length;var aA=0;var aE=0;var aD=false;for(var ay=0;ay<aH;ay++){var aC=ab(aF,aB,az,ay,aA+aE,aD);if(aC!=null){aI=Z(aI,aC)}else{return null}aA=al(aA,aE,aG);if(aA==0){aE=Y(aE,aG)
}aD=!aD}}return aI};var ax=function(az){var ay=az<0?-1:1;return ay*((az*ay)%ac)};var aq=function(aC){var az=null;if(an(aC)){var aB=aC.length;var aA=aB/2;for(var aD=0;aD<aA;aD++){var aE=aw(aC,aD);var ay=aw(aC,aB-1-aD);if(az==null||az.indexOf(aE)<0){az=Z(az,aE)}if(az.indexOf(ay)<0){az=Z(az,ay)}}}return az};var U=function(aB,aD,aC){var aA=0;if(aB!=null&&aD!=null&&aC!=null){var aE=aB.length;var ay=aC.length;aA=aE;for(var az=0;az<ay;az++){aA=V(aA,ao(aC,az))}for(var az=0;az<aE;az++){if(aD.indexOf(aw(aB,az))<0){aA=V(aA,ao(aB,az))}}}return ax(aA)};var ah=function(aF,aI,az,aG){var aB=null;if(a.isFullStr(aF)&&an(aI)&&an(az)){var aJ=U(aF,aI,az);var aH=aF.length;var aE=az.length;var aA=0;var aD=0;var aC=false;for(var ay=0;ay<aH;ay++){aB=Z(aB,aa(aI,az,aw(aF,ay),aJ,aA+aD,aG,aC));aA=al(aA,aD,aE);if(aA==0){aD=Y(aD,aE)}aC=!aC}}return aB};var ar=function(){return X(a.strShuffle(ae),ae,ae)};var aj=function(ay,az){return av(ay,av(az,ae,ae),ae)};var ak=function(){if(ad==null){ad=aq(ae)}return ad};this.createSteam=function(){ag=ar();
return ag};this.resolveToken=function(ay){return aj(ay,ag)};this.transformString=function(ay){return ah(ay,ak(),ae,1)};this.normalizeString=function(ay){return ah(ay,ak(),ae,-1)}}var h=new function(){this.BLEND_MODE={NORMAL:"normal",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",COLOR_BURN:"color-burn",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"};this.COMPOSITE_MODE={CLEAR:"clear",COPY:"copy",DESTINATION:"destination",SOURCE_OVER:"source-over",SOURCE_OUT:"source-out",DESTINATION_OUT:"destination-out",SOURCE_ATOP:"source-atop",DESTINATION_ATOP:"destination-atop",XOR:"xor",LIGHTER:"lighter",DARKER:"darker"}};window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(U){setTimeout(U,33)
}})();var N=new function(){var V=false;var U=null;this.render=function(){if(V){if(U!=null){requestAnimFrame(function(){N.render()});U.render()}else{V=false}}};this.start=function(W){U=W;if(!V){V=true;this.render()}};this.stop=function(W){if(U==W){U=null}};this.isRunning=function(){return V};this.hasControl=function(){return U!=null};this.isControl=function(W){return U==W}};var A=new function(){var X=function(Z){Z=Math.round(Z);return Z<0?0:Z>255?255:Z};var Y=function(Z){return Z<0?0:Z>1?1:Z};var W=function(Z){if(Z[Z.length-1]=="%"){return X(parseFloat(Z)/100*255)}return X(parseInt(Z))};var U=function(Z){if(Z[Z.length-1]=="%"){return Y(parseFloat(Z)/100)}return Y(parseFloat(Z))};var V=function(ab,aa,Z){if(Z<0){Z+=1}else{if(Z>1){Z-=1}}if(Z*6<1){return ab+(aa-ab)*Z*6}if(Z*2<1){return aa}if(Z*3<2){return ab+(aa-ab)*(2/3-Z)*6}return ab};this.createColor=function(Z){if(Z!=null&&Z.length==4){return"rgba("+Z[0]+","+Z[1]+","+Z[2]+","+Z[3]+")"}return null};this.parseColor=function(ad){if(ad!=null){ad=a.strClear(ad).toLowerCase();
if(ad[0]=="#"){if(ad.length==4){var ae=parseInt(ad.substr(1),16);if(!(ae>=0&&ae<=4095)){return null}return[((ae&3840)>>4)|((ae&3840)>>8),(ae&240)|((ae&240)>>4),(ae&15)|((ae&15)<<4),1]}else{if(ad.length==7){var ae=parseInt(ad.substr(1),16);if(!(ae>=0&&ae<=16777215)){return null}return[(ae&16711680)>>16,(ae&65280)>>8,ae&255,1]}}}else{var ac=ad.indexOf("(");var ah=ad.indexOf(")");if(ac!=-1&&ah+1==ad.length){var ai=ad.substr(0,ac);var aa=ad.substr(ac+1,ah-(ac+1)).split(",");var ab=1;switch(ai){case"rgba":if(aa.length!=4){return null}ab=U(aa.pop());case"rgb":if(aa.length!=3){return null}return[W(aa[0]),W(aa[1]),W(aa[2]),ab];case"hsla":if(aa.length!=4){return null}ab=U(aa.pop());case"hsl":if(aa.length!=3){return null}var ak=(((parseFloat(aa[0])%360)+360)%360)/360;var ag=U(aa[1]);var Z=U(aa[2]);var af=Z<=0.5?Z*(ag+1):Z+ag-Z*ag;var aj=Z*2-af;return[X(V(aj,af,ak+1/3)*255),X(V(aj,af,ak)*255),X(V(aj,af,ak-1/3)*255),ab];default:return null}}}}return null}};i.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(V,U){i.fx.step[U]=function(W){if(W.colorInit!==true){W.start=A.parseColor(i.css(W.elem,U));
if(W.start==null){W.start=[0,0,0,0]}W.end=A.parseColor(W.end);W.colorInit=true}if(W.start!=null&&W.end!=null){W.elem.style[U]=A.createColor([Math.max(Math.min(Math.floor(W.pos*(W.end[0]-W.start[0])+W.start[0]),255),0),Math.max(Math.min(Math.floor(W.pos*(W.end[1]-W.start[1])+W.start[1]),255),0),Math.max(Math.min(Math.floor(W.pos*(W.end[2]-W.start[2])+W.start[2]),255),0),W.pos*(W.end[3]-W.start[3])+W.start[3]])}}});i.extend(i.easing,{easeInQuad:function(U,V,W,X,Y){return X*(V/=Y)*V+W},easeOutQuad:function(U,V,W,X,Y){return -X*(V/=Y)*(V-2)+W},easeInOutQuad:function(U,V,W,X,Y){if((V/=Y/2)<1){return X/2*V*V+W}return -X/2*((--V)*(V-2)-1)+W},easeInCubic:function(U,V,W,X,Y){return X*(V/=Y)*V*V+W},easeOutCubic:function(U,V,W,X,Y){return X*((V=V/Y-1)*V*V+1)+W},easeInOutCubic:function(U,V,W,X,Y){if((V/=Y/2)<1){return X/2*V*V*V+W}return X/2*((V-=2)*V*V+2)+W},easeInQuart:function(U,V,W,X,Y){return X*(V/=Y)*V*V*V+W},easeOutQuart:function(U,V,W,X,Y){return -X*((V=V/Y-1)*V*V*V-1)+W},easeInOutQuart:function(U,V,W,X,Y){if((V/=Y/2)<1){return X/2*V*V*V*V+W
}return -X/2*((V-=2)*V*V*V-2)+W},easeInQuint:function(U,V,W,X,Y){return X*(V/=Y)*V*V*V*V+W},easeOutQuint:function(U,V,W,X,Y){return X*((V=V/Y-1)*V*V*V*V+1)+W},easeInOutQuint:function(U,V,W,X,Y){if((V/=Y/2)<1){return X/2*V*V*V*V*V+W}return X/2*((V-=2)*V*V*V*V+2)+W},easeInSine:function(U,V,W,X,Y){return -X*Math.cos(V/Y*(Math.PI/2))+X+W},easeOutSine:function(U,V,W,X,Y){return X*Math.sin(V/Y*(Math.PI/2))+W},easeInOutSine:function(U,V,W,X,Y){return -X/2*(Math.cos(Math.PI*V/Y)-1)+W},easeInExpo:function(U,V,W,X,Y){return(V==0)?W:X*Math.pow(2,10*(V/Y-1))+W},easeOutExpo:function(U,V,W,X,Y){return(V==Y)?W+X:X*(-Math.pow(2,-10*V/Y)+1)+W},easeInOutExpo:function(U,V,W,X,Y){if(V==0){return W}if(V==Y){return W+X}if((V/=Y/2)<1){return X/2*Math.pow(2,10*(V-1))+W}return X/2*(-Math.pow(2,-10*--V)+2)+W},easeInCirc:function(U,V,W,X,Y){return -X*(Math.sqrt(1-(V/=Y)*V)-1)+W},easeOutCirc:function(U,V,W,X,Y){return X*Math.sqrt(1-(V=V/Y-1)*V)+W},easeInOutCirc:function(U,V,W,X,Y){if((V/=Y/2)<1){return -X/2*(Math.sqrt(1-V*V)-1)+W
}return X/2*(Math.sqrt(1-(V-=2)*V)+1)+W},easeInElastic:function(U,ab,W,X,Y){var aa=1.70158;var Z=0;var V=X;if(ab==0){return W}if((ab/=Y)==1){return W+X}if(!Z){Z=Y*0.3}if(V<Math.abs(X)){V=X;aa=Z/4}else{aa=Z/(2*Math.PI)*Math.asin(X/V)}return -(V*Math.pow(2,10*(ab-=1))*Math.sin((ab*Y-aa)*(2*Math.PI)/Z))+W},easeOutElastic:function(U,ab,W,X,Y){var aa=1.70158;var Z=0;var V=X;if(ab==0){return W}if((ab/=Y)==1){return W+X}if(!Z){Z=Y*0.3}if(V<Math.abs(X)){V=X;aa=Z/4}else{aa=Z/(2*Math.PI)*Math.asin(X/V)}return V*Math.pow(2,-10*ab)*Math.sin((ab*Y-aa)*(2*Math.PI)/Z)+X+W},easeInOutElastic:function(U,ab,W,X,Y){var aa=1.70158;var Z=0;var V=X;if(ab==0){return W}if((ab/=Y/2)==2){return W+X}if(!Z){Z=Y*(0.3*1.5)}if(V<Math.abs(X)){V=X;aa=Z/4}else{aa=Z/(2*Math.PI)*Math.asin(X/V)}if(ab<1){return -0.5*(V*Math.pow(2,10*(ab-=1))*Math.sin((ab*Y-aa)*(2*Math.PI)/Z))+W}return V*Math.pow(2,-10*(ab-=1))*Math.sin((ab*Y-aa)*(2*Math.PI)/Z)*0.5+X+W},easeInBack:function(U,V,W,X,Y,Z){if(Z==null){Z=1.70158}return X*(V/=Y)*V*((Z+1)*V-Z)+W
},easeOutBack:function(U,V,W,X,Y,Z){if(Z==null){Z=1.70158}return X*((V=V/Y-1)*V*((Z+1)*V+Z)+1)+W},easeInOutBack:function(U,V,W,X,Y,Z){if(Z==null){Z=1.70158}if((V/=Y/2)<1){return X/2*(V*V*(((Z*=(1.525))+1)*V-Z))+W}return X/2*((V-=2)*V*(((Z*=(1.525))+1)*V+Z)+2)+W},easeInBounce:function(U,V,W,X,Y){return X-i.easing.easeOutBounce(U,Y-V,0,X,Y)+W},easeOutBounce:function(U,V,W,X,Y){if((V/=Y)<(1/2.75)){return X*(7.5625*V*V)+W}else{if(V<(2/2.75)){return X*(7.5625*(V-=(1.5/2.75))*V+0.75)+W}else{if(V<(2.5/2.75)){return X*(7.5625*(V-=(2.25/2.75))*V+0.9375)+W}else{return X*(7.5625*(V-=(2.625/2.75))*V+0.984375)+W}}}},easeInOutBounce:function(U,V,W,X,Y){if(V<Y/2){return i.easing.easeInBounce(U,V*2,0,X,Y)*0.5+W}return i.easing.easeOutBounce(U,V*2-Y,0,X,Y)*0.5+X*0.5+W}});var q=new function(){var U=/([a-zA-Z0-9]+)\((.*?)\)/g;var aj=/([A-Z])/g;i.transit={version:"0.9.13_tvx",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,use3d:false,useTransitionEnd:true,transitionClearDelay:100,transitionEndDelay:50};
i.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",swing:"cubic-bezier(.02,.01,.47,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};
function ab(ap){this.values={};if(typeof ap==="string"){this.parse(ap)}}ab.prototype={set:function(aq,ap){if(ap===""){this.clear(aq)}else{if(this.setter[aq]!=null){if(aq==="scale"||aq==="translate"){ap=typeof ap==="string"?ap.split(","):ap}this.setter[aq].apply(this,Array.isArray(ap)?ap:[ap])}else{this.values[aq]=ap}}},get:function(ap){if(this.getter[ap]!=null){return this.getter[ap].apply(this)}else{return this.values[ap]||0}},clear:function(ap){if(ap==="scale"||ap==="scaleX"||ap==="scaleY"){delete this.scaleX;delete this.scaleY;delete this.values.scale}else{if(ap==="translate"||ap==="translateX"||ap==="translateY"){delete this.translateX;delete this.translateY;delete this.values.translate}else{delete this.values[ap]}}},setter:{rotate:function(ap){this.values.rotate=ai(ap,"deg")},rotateX:function(ap){this.values.rotateX=ai(ap,"deg")},rotateY:function(ap){this.values.rotateY=ai(ap,"deg")},rotateZ:function(ap){this.values.rotateZ=ai(ap,"deg")},scaleX:function(ap){this.setter.scale.apply(this,[ap,null])
},scaleY:function(ap){this.setter.scale.apply(this,[null,ap])},scale:function(ap,aq){if(aq===undefined){aq=ap}if(ap!==null&&ap!==undefined){this.scaleX=ap}else{if(this.scaleX===undefined){this.scaleX=1}}if(aq!==null&&aq!==undefined){this.scaleY=aq}else{if(this.scaleY===undefined){this.scaleY=1}}this.values.scale=this.scaleX+","+this.scaleY},skewX:function(ap){this.values.skewX=ai(ap,"deg")},skewY:function(ap){this.values.skewY=ai(ap,"deg")},perspective:function(ap){this.values.perspective=ai(ap,"px")},translateX:function(ap){this.setter.translate.apply(this,[ap,null])},translateY:function(ap){this.setter.translate.apply(this,[null,ap])},translateZ:function(ap){this.values.translateZ=ai(ap,"px")},translate:function(ap,aq){if(ap!==null&&ap!==undefined){this.translateX=ai(ap,"px")}else{if(this.translateX===undefined){this.translateX=0}}if(aq!==null&&aq!==undefined){this.translateY=ai(aq,"px")}else{if(this.translateY===undefined){this.translateY=0}}this.values.translate=this.translateX+","+this.translateY
}},getter:{scaleX:function(){return this.scaleX||1},scaleY:function(){return this.scaleY||1},translateX:function(){return this.translateX||0},translateY:function(){return this.translateY||0}},parse:function(ap){var aq=this;ap.replace(U,function(ar,au,at){aq.set(au,at);return ar})},toString:function(ar){var aq="";var at=this.values;for(var au in at){var ap=at[au];if(ar&&au==="scaleZ"&&at.scale!=null){continue}if(ar&&au==="translateZ"&&at.translate!=null){continue}if(aq.length>0){aq+=" "}if(ar&&au==="scale"){aq+=au+"3d("+ap+","+(at.scaleZ||1)+")"}else{if(ar&&au==="translate"){aq+=au+"3d("+ap+","+(at.translateZ||0)+")"}else{aq+=au+"("+ap+")"}}}return aq}};var aa={};var af={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var ao={transition:"transitioncancel",MozTransition:"transitioncancel",OTransition:"oTransitionCancel",WebkitTransition:"webkitTransitionCancel",msTransition:"MSTransitionCancel"};
var V=function(ap,av){if(ap!=null){if(av in ap.style){return av}var aq=["Moz","Webkit","O","ms"];var au=av.charAt(0).toUpperCase()+av.substr(1);for(var at=0;at<aq.length;at++){var ar=aq[at]+au;if(ar in ap.style){return ar}}}return null};var am=function(ap){if(ap!=null&&aa.transform!=null){ap.style[aa.transform]="";ap.style[aa.transform]="rotateY(90deg)";return ap.style[aa.transform]!==""}return false};var Y=function(ar,ap,aq){if(ap===true){ar.queue(aq)}else{if(ap){ar.queue(ap,aq)}else{ar.each(function(){aq.call(this)})}}};var ah=function(ap){var aq=[];i.each(ap,function(ar){ar=i.camelCase(ar);ar=i.transit.propertyMap[ar]||i.cssProps[ar]||ar;ar=W(ar);if(i.inArray(ar,aq)===-1){aq.push(ar)}});return aq};var Z=function(at,aw,aq,ar){var ap=ah(at);if(i.cssEase[aq]){aq=i.cssEase[aq]}var au=ai(aw,"ms")+" "+aq;if(parseInt(ar,10)>0){au+=" "+ai(ar,"ms")}var av="";i.each(ap,function(ay,ax){if(av.length>0){av+=", "}av+=ax+" "+au});return av};var ae=function(ap,ar,aq){if(typeof ar==="function"){ar.apply(ap)
}if(typeof aq==="function"){aq()}};var ac=function(ap,av,au,aq,at,ar){if(aq!=null){if(aa.transitionEnd!=null){aq.unbind(aa.transitionEnd)}if(aa.transitionCancel!=null){aq.unbind(aa.transitionCancel)}}if(at!=null){clearTimeout(at)}if(ar!=null){clearTimeout(ar)}ap.style[aa.transition]=null;ae(ap,av,au)};var ak=function(au,av,ax,aq,aw){var at=false;var ap=null;var ar=setTimeout(function(){ar=null;if(at){ac(av,ax,aq,au,ar,ap)}else{if(i.transit.transitionClearDelay>=0){ap=setTimeout(function(){ap=null;at=true;ac(av,ax,aq,au,ar,ap)},i.transit.transitionClearDelay)}else{at=true;ac(av,ax,aq,au,ar,ap)}}},aw);if(aa.transitionEnd!=null){au.bind(aa.transitionEnd,function(){if(!at){at=true;if(ar==null){ac(av,ax,aq,au,ar,ap)}}})}if(aa.transitionCancel!=null){au.bind(aa.transitionCancel,function(){if(!at){at=true;if(ar==null){ac(av,ax,aq,au,ar,ap)}}})}};var an=function(at,ap,ar,au,aq){if(au===0){return function(ax){var av=this;var aw=at.length>1?i(av):at;aw.css(ar);ae(av,aq,ax)}}else{return function(ax){var av=this;
var aw=at.length>1?i(av):at;av.offsetWidth;av.style[aa.transition]=ap;aw.css(ar);if(aa.transitionEnd!=null&&i.transit.useTransitionEnd){ak(aw,av,aq,ax,au)}else{setTimeout(function(){ac(av,aq,ax)},au+i.transit.transitionEndDelay)}}}};var ag=function(aq,ap){if(!ap){i.cssNumber[aq]=true}i.transit.propertyMap[aq]=aa.transform;i.cssHooks[aq]={get:function(at){var ar=i.data(at,"transform")||new ab();return ar.get(aq)},set:function(au,ar){var at=i.data(au,"transform");if(at==null){at=new ab();i.data(au,"transform",at)}at.set(aq,ar);au.style[aa.transform]=at.toString(i.transit.use3d)}}};var W=function(ap){return ap.replace(aj,function(aq){return"-"+aq.toLowerCase()})};var ai=function(ap,aq){if(typeof ap==="string"&&!isFinite(ap)){return ap}else{return""+ap+aq}};var ad=function(){var ap=document.createElement("div");aa.transition=V(ap,"transition");aa.transitionDelay=V(ap,"transitionDelay");aa.transform=V(ap,"transform");aa.transformOrigin=V(ap,"transformOrigin");aa.transform3d=am(ap,aa);aa.transitionEnd=af[aa.transition]||null;
aa.transitionCancel=ao[aa.transition]||null;ap=null};var X=function(){for(var ap in aa){if(aa.hasOwnProperty(ap)&&typeof i.support[ap]==="undefined"){i.support[ap]=aa[ap]}}i.cssHooks["transit:transform"]={get:function(aq){return i.data(aq,"transform")||new ab()},set:function(ar,aq){if(typeof aq==="string"){aq=new ab(aq)}i.data(ar,"transform",aq);ar.style[aa.transform]=aq.toString(i.transit.use3d)}};i.cssHooks.transform={set:i.cssHooks["transit:transform"].set};ag("scale");ag("scaleX");ag("scaleY");ag("scaleZ");ag("rotate");ag("rotateX");ag("rotateY");ag("rotateZ");ag("skewX");ag("skewY");ag("translate");ag("translateX",true);ag("translateY",true);ag("translateZ",true);ag("perspective")};var al=function(){i.fn.transition=i.fn.transit=function(au,az,av,aA){var aw=0;var at=true;if(typeof az==="function"){aA=az;az=undefined}if(typeof az==="object"){av=az.easing;aw=az.delay||0;at=typeof az.queue!=="undefined"?az.queue:true;aA=az.complete;az=az.duration}if(typeof av==="function"){aA=av;av=undefined
}if(typeof au.easing!=="undefined"){av=au.easing;delete au.easing}if(typeof au.duration!=="undefined"){az=au.duration;delete au.duration}if(typeof au.complete!=="undefined"){aA=au.complete;delete au.complete}if(typeof au.queue!=="undefined"){at=au.queue;delete au.queue}if(typeof au.delay!=="undefined"){aw=au.delay;delete au.delay}if(typeof az==="undefined"){az=i.fx.speeds._default}if(typeof av==="undefined"){av=i.cssEase._default}if(typeof az==="string"){var aq=i.fx.speeds[az];if(aq!=null){az=aq}}var ax=Z(au,az,av,aw);var ay=i.transit.enabled&&aa.transition!=null;var ap=ay?(parseInt(az,10)+parseInt(aw,10)):0;var ar=an(this,ax,au,ap,aA);Y(this,at,ar);return this}};ad();X();al()};function R(ak,af,Y,an){var am=null;var V=300;var aa=20;try{am=ak!=null?ak.getContext("2d"):null}catch(ai){J.logger.error("Canvas not supported: "+ai)}var ac=0;var U=0;var X=0;var W=[];var ah=0;var ad=0;var ab=false;var aj=function(){return Math.random()*2-1};var ae=function(){var au=(an.angle+an.angleRandom*aj())*(Math.PI/180);
var at=an.speed+an.speedRandom*aj();var aq={positionX:an.position.x+an.positionRandom.x*aj(),positionY:an.position.y+an.positionRandom.y*aj(),directionX:Math.cos(au)*at,directionY:Math.sin(au)*at,size:0,sizeSmall:0,timeToLive:0,timeExists:0,timeToChange:0,sharpness:0,splash:0,splashDelta:0,colorR:0,colorG:0,colorB:0,colorA:0,colorDeltaR:0,colorDeltaG:0,colorDeltaB:0,colorDeltaA:0,colorThetaR:0,colorThetaG:0,colorThetaB:0,colorThetaA:0,colorThetaDelta:0,drawColor0:null,drawColor1:null,keepAlive:false,autoDestroy:false};aq.size=an.size+an.sizeRandom*aj();aq.size=aq.size<0?0:aq.size;aq.timeToLive=an.lifeSpan+an.lifeSpanRandom*aj();aq.sharpness=an.sharpness+an.sharpnessRandom*aj();aq.sharpness=aq.sharpness>100?100:aq.sharpness<0?0:aq.sharpness;aq.sizeSmall=(aq.size/200)*aq.sharpness;aq.splash=an.splash+an.splashRandom*aj();aq.splash=aq.splash<0?0:aq.splash;aq.keepAlive=an.keepAlive===true;aq.autoDestroy=an.autoDestroy===true;if(aq.timeToLive>0){aq.splashDelta=aq.splash/aq.timeToLive}var az=an.startColor[0]+an.startColorRandom[0]*aj();
var ar=an.startColor[1]+an.startColorRandom[1]*aj();var ao=an.startColor[2]+an.startColorRandom[2]*aj();var aw=an.startColor[3]+an.startColorRandom[3]*aj();var ap=an.endColor[0]+an.endColorRandom[0]*aj();var ay=an.endColor[1]+an.endColorRandom[1]*aj();var av=an.endColor[2]+an.endColorRandom[2]*aj();var ax=an.endColor[3]+an.endColorRandom[3]*aj();if(aq.timeToLive>0){aq.colorR=az;aq.colorG=ar;aq.colorB=ao;aq.colorA=aw;aq.colorDeltaR=(ap-az)/aq.timeToLive;aq.colorDeltaG=(ay-ar)/aq.timeToLive;aq.colorDeltaB=(av-ao)/aq.timeToLive;aq.colorDeltaA=(ax-aw)/aq.timeToLive}else{aq.colorR=ap;aq.colorG=ay;aq.colorB=av;aq.colorA=ax}return aq};var Z=function(){if(an.lifeSpan>0){var ao=an.particleCount;var ap=ao/an.lifeSpan;if(ap>0){var aq=1/ap;ad++;while(ah<ao&&ad>aq){W[ah]=ae();ah++;ad-=aq}}}};var ag=function(aw){var aq=0;while(aq<ah){var ap=W[aq];var at=ap.colorA>0&&ap.positionX+ap.size>0&&ap.positionY+ap.size>0&&ap.positionX-ap.size<af&&ap.positionY-ap.size<Y;if(ap.timeExists>0&&ap.autoDestroy&&!at){ap.timeToLive=0
}if(ap.timeToLive>0||(ap.keepAlive&&at)){ap.directionX+=an.gravity.x;ap.directionY+=an.gravity.y;ap.positionX+=ap.directionX;ap.positionY+=ap.directionY;ap.timeToLive--;ap.timeExists++;if(ap.splashDelta!=0){ap.size+=ap.splashDelta}var ax=an.lifeSpan*0.05;var av=ap.colorR+=ap.colorDeltaR;var au=ap.colorG+=ap.colorDeltaG;var ar=ap.colorB+=ap.colorDeltaB;var ao=ap.colorA+=ap.colorDeltaA;if(ap.colorThetaDelta>0){ap.colorThetaDelta--;av=ap.colorR+=ap.colorThetaR;au=ap.colorG+=ap.colorThetaG;ar=ap.colorB+=ap.colorThetaB;ao=ap.colorA+=ap.colorThetaA}if(ap.timeExists<ax){ao=ap.colorA*(ap.timeExists/ax)}ap.drawColor0="rgba("+(av>255?255:av<0?0:~~av)+","+(au>255?255:au<0?0:~~au)+","+(ar>255?255:ar<0?0:~~ar)+","+(ao>1?1:ao<0?0:ao.toFixed(2))+")";if(aw==="auto"){ap.drawColor1="rgba("+(av>255?255:av<0?0:~~av)+","+(au>255?255:au<0?0:~~au)+","+(ar>255?255:ar<0?0:~~ar)+",0)"}else{ap.drawColor1=aw}aq++}else{if(aq!=ah-1){W[aq]=W[ah-1]}ah--}}};var al=function(){am.clearRect(0,0,af,Y);for(var ao=0;ao<ah;ao++){var ap=W[ao];
var av=~~ap.size;var aw=~~ap.sizeSmall;var at=~~(av>>1);if(at>0){var aq=~~ap.positionX;var ar=~~ap.positionY;var au=am.createRadialGradient(aq,ar,aw<at?aw:aw-1,aq,ar,at);au.addColorStop(0,ap.drawColor0);au.addColorStop(1,ap.drawColor1);am.fillStyle=au;am.fillRect(aq-at,ar-at,av,av)}}};this.fpsIndicator=null;this.transparentColor="rgba(0,0,0,0)";this.hasContext=function(){return am!=null};this.getCompositeMode=function(){if(am!=null){return am.globalCompositeOperation}return null};this.setCompositeMode=function(ao){if(am!=null){am.globalCompositeOperation=ao}};this.render=function(ao){if((ab||ao===true)&&am!=null){Z();ag(this.transparentColor);al();if(this.fpsIndicator!=null){var ap=K.getTimestamp();if(ac>0&&ap>ac){U++;X+=(1000/(ap-ac))}ac=ap;if(U==10){this.fpsIndicator.innerHTML=Math.round(X/U)+" fps";U=0;X=0}}}};this.start=function(){if(!ab&&am!=null&&an!=null){ac=0;U=0;X=0;ab=true;N.start(this)}};this.stop=function(){if(ab){ab=false;N.stop(this)}};this.restart=function(){for(var ao=0;
ao<ah;ao++){var ap=W[ao];ap.timeToLive=0;ap.keepAlive=false}ad=0};this.isRunning=function(){return ab};this.applyColors=function(){for(var ao=0;ao<ah;ao++){var ar=W[ao];if(ar.timeToLive>0){var ay=an.startColor[0]+an.startColorRandom[0]*aj();var at=an.startColor[1]+an.startColorRandom[1]*aj();var ap=an.startColor[2]+an.startColorRandom[2]*aj();var av=an.startColor[3]+an.startColorRandom[3]*aj();var aq=an.endColor[0]+an.endColorRandom[0]*aj();var ax=an.endColor[1]+an.endColorRandom[1]*aj();var au=an.endColor[2]+an.endColorRandom[2]*aj();var aw=an.endColor[3]+an.endColorRandom[3]*aj();ar.colorThetaDelta=~~(V/aa);if(ar.timeToLive<ar.colorThetaDelta){ar.colorThetaDelta=ar.timeToLive}ar.colorThetaR=(ay-ar.colorR)/ar.colorThetaDelta;ar.colorThetaG=(at-ar.colorG)/ar.colorThetaDelta;ar.colorThetaB=(ap-ar.colorB)/ar.colorThetaDelta;ar.colorThetaA=(av-ar.colorA)/ar.colorThetaDelta;if(ar.timeToLive>ar.colorThetaDelta){ar.colorDeltaR=(aq-ay)/(ar.timeToLive-ar.colorThetaDelta);ar.colorDeltaG=(ax-at)/(ar.timeToLive-ar.colorThetaDelta);
ar.colorDeltaB=(au-ap)/(ar.timeToLive-ar.colorThetaDelta);ar.colorDeltaA=(aw-av)/(ar.timeToLive-ar.colorThetaDelta)}}}};this.setCompositeMode(h.COMPOSITE_MODE.LIGHTER)}function u(ae,V,aa){var ad=null;try{ad=ae!=null?ae.getContext("2d"):null}catch(ab){J.logger.error("Canvas not supported: "+ab)}var X=0;var Y=0;var W=0;var Z=[];var U=false;var ac=function(){ad.clearRect(0,0,V,aa);for(var af=0;af<Z.length;af++){Z[af].render(ad)}};this.fpsIndicator=null;this.hasContext=function(){return ad!=null};this.getCompositeMode=function(){if(ad!=null){return ad.globalCompositeOperation}return null};this.setCompositeMode=function(af){if(ad!=null){ad.globalCompositeOperation=af}};this.render=function(af){if((U||af===true)&&ad!=null){ac();if(this.fpsIndicator!=null){var ag=K.getTimestamp();if(X>0&&ag>X){Y++;W+=(1000/(ag-X))}X=ag;if(Y==10){this.fpsIndicator.innerHTML=Math.round(W/Y)+" fps";Y=0;W=0}}}};this.start=function(){if(!U&&ad!=null){X=0;Y=0;W=0;U=true;N.start(this)}};this.stop=function(){if(U){U=false;
N.stop(this)}};this.isRunning=function(){return U};this.getObjectsCount=function(){return Z.length};this.clearObjects=function(){Z=[]};this.containsObject=function(af){return af!=null?Z.indexOf(af)>-1:false};this.addObject=function(af){if(ad!=null&&af!=null){Z.push(af);if(typeof af.init=="function"){af.init(ad)}}};this.removeObject=function(ag){if(ag!=null){var af=Z.indexOf(ag);if(af>-1){Z.splice(af,1)}}};this.removeFirstObject=function(){if(Z.length>0){this.removeObject(Z[0])}};this.removeLastObject=function(){if(Z.length>0){this.removeObject(Z[Z.length-1])}};this.moveObject=function(ah,ag){if(ah!=null&&Z.length>0){if(ag<0){ag=0}else{if(ag>=Z.length){ag=Z.length-1}}var af=Z.indexOf(ah);if(af>-1&&af!=ag){Z.splice(af,1);Z.splice(ag,0,ah)}}};this.foreachObject=function(ag){for(var af=0;af<Z.length;af++){if(ag(af,Z[af])===true){break}}};this.seekObject=function(ag){for(var af=0;af<Z.length;af++){if(ag(af,Z[af])===true){return Z[af]}}return null};this.setCompositeMode(h.COMPOSITE_MODE.SOURCE_OVER)
}var l=new function(){var aa=this;var az=null;var ac=0;var aj=function(aC){if(aC!=null){var aB;for(aB in aC){return true}}return false};var am=function(aB,aC){if(aB===aC){return 1}if(aB!==undefined&&aC!==undefined){return 2}return 0};var W=function(aB,aE,aD,aC){if(aB===false||aE===false){return false}if(aD<0){aD=0}else{if(aD>1){aD=1}}var aF=aB+(aE-aB)*aD;if(aC==1){return B.roundPixelValue(aF)}else{if(aC==2){return B.roundOpacityValue(aF)}}return aF};var aw=function(aC,aB,aD){if(aC===false||aB===false){return false}if(aC!=null&&aC.length==4&&aB!=null&&aB.length==4&&!au(aC,aB)){return[Math.max(Math.min(Math.floor(aC[0]+(aB[0]-aC[0])*aD),255),0),Math.max(Math.min(Math.floor(aC[1]+(aB[1]-aC[1])*aD),255),0),Math.max(Math.min(Math.floor(aC[2]+(aB[2]-aC[2])*aD),255),0),aC[3]+(aB[3]-aC[3])*aD]}return aC};var au=function(aC,aB){if(aC!=null&&aB!=null){if(aC===aB){return true}if(aC.length==4&&aB.length==4){return aC[0]===aB[0]&&aC[1]===aB[1]&&aC[2]===aB[2]&&aC[3]===aB[3]}}return false};var ah=function(aC,aB){if(aC!=null&&aB!=null){if(aC===aB){return true
}if(aC.left===aB.left&&aC.top===aB.top&&aC.width===aB.width&&aC.height===aB.height&&aC.opacity===aB.opacity&&aC.visible===aB.visible&&aC.fontSize===aB.fontSize){if(aC.color!==aB.color&&!au(aC.color,aB.color)){return false}if(aC.backColor!==aB.backColor&&!au(aC.backColor,aB.backColor)){return false}if(aa.useTransformations()||ay(aC.transform,aB.transform)){if(aC.transform!==aB.transform){return af(aC.transform,aB.transform)}}return true}}return false};var ad=function(aC,aB){if(aC!=null&&aB!=null){if(aC===aB){return true}if(am(aC.left,aB.left)>0&&am(aC.top,aB.top)>0&&am(aC.width,aB.width)>0&&am(aC.height,aB.height)>0&&am(aC.opacity,aB.opacity)>0&&am(aC.visible,aB.visible)>0&&am(aC.fontSize,aB.fontSize)>0&&am(aC.color,aB.color)>0&&am(aC.backColor,aB.backColor)>0){if(aa.useTransformations()||ay(aC.transform,aB.transform)){if(aC.transform!==aB.transform){return ak(aC.transform,aB.transform)}}return true}}return false};var ag=function(aB){return aB!=null&&aB.important===true};var ay=function(aB,aC){return ag(aB)||ag(aC)
};var af=function(aB,aC){if(aB!=null&&aC!=null){if(aB===aC){return true}if(aB!==false&&aC!==false){return aB.translateX===aC.translateX&&aB.translateY===aC.translateY&&aB.translateZ===aC.translateZ&&aB.scale===aC.scale&&aB.scaleX===aC.scaleX&&aB.scaleY===aC.scaleY&&aB.scaleZ===aC.scaleZ&&aB.skewX===aC.skewX&&aB.skewY===aC.skewY&&aB.rotate===aC.rotate&&aB.rotateX===aC.rotateX&&aB.rotateY===aC.rotateY&&aB.rotateZ===aC.rotateZ}}return false};var ak=function(aB,aC){if(aB!=null&&aC!=null){if(aB===aC){return true}if(aB!==false&&aC!==false){return am(aB.translateX,aC.translateX)>0&&am(aB.translateY,aC.translateY)>0&&am(aB.translateZ,aC.translateZ)>0&&am(aB.scale,aC.scale)>0&&am(aB.scaleX,aC.scaleX)>0&&am(aB.scaleY,aC.scaleY)>0&&am(aB.scaleZ,aC.scaleZ)>0&&am(aB.skewX,aC.skewX)>0&&am(aB.skewY,aC.skewY)>0&&am(aB.rotate,aC.rotate)>0&&am(aB.rotateX,aC.rotateX)>0&&am(aB.rotateY,aC.rotateY)>0&&am(aB.rotateZ,aC.rotateZ)>0}}return false};var ao=function(aB,aC){if(aB!=null&&aC!=null&&aB!==aC&&!ak(aB,aC)){if(aB===false||aC===false){return false
}if(!aj(aC)){return aB}var aD={};if(aB.important===true||aC.important===true){aD.important=true}if(aB.translateX!==undefined){aD.translateX=aB.translateX}else{if(aC.translateX!==undefined){aD.translateX=aC.translateX}}if(aB.translateY!==undefined){aD.translateY=aB.translateY}else{if(aC.translateY!==undefined){aD.translateY=aC.translateY}}if(aB.translateZ!==undefined){aD.translateZ=aB.translateZ}else{if(aC.translateZ!==undefined){aD.translateZ=aC.translateZ}}if(aB.scale!==undefined){aD.scale=aB.scale}else{if(aC.scale!==undefined){aD.scale=aC.scale}}if(aB.scaleX!==undefined){aD.scaleX=aB.scaleX}else{if(aC.scaleX!==undefined){aD.scaleX=aC.scaleX}}if(aB.scaleY!==undefined){aD.scaleY=aB.scaleY}else{if(aC.scaleY!==undefined){aD.scaleY=aC.scaleY}}if(aB.scaleZ!==undefined){aD.scaleZ=aB.scaleZ}else{if(aC.scaleZ!==undefined){aD.scaleZ=aC.scaleZ}}if(aB.skewX!==undefined){aD.skewX=aB.skewX}else{if(aC.skewX!==undefined){aD.skewX=aC.skewX}}if(aB.skewY!==undefined){aD.skewY=aB.skewY}else{if(aC.skewY!==undefined){aD.skewY=aC.skewY
}}if(aB.rotate!==undefined){aD.rotate=aB.rotate}else{if(aC.rotate!==undefined){aD.rotate=aC.rotate}}if(aB.rotateX!==undefined){aD.rotateX=aB.rotateX}else{if(aC.rotateX!==undefined){aD.rotateX=aC.rotateX}}if(aB.rotateY!==undefined){aD.rotateY=aB.rotateY}else{if(aC.rotateY!==undefined){aD.rotateY=aC.rotateY}}if(aB.rotateZ!==undefined){aD.rotateZ=aB.rotateZ}else{if(aC.rotateZ!==undefined){aD.rotateZ=aC.rotateZ}}return aD}return aB};var U=function(aB,aC,aD){if(aB!=null&&aC!=null&&aB!==aC&&!af(aB,aC)){if(aB===false||aC===false){return false}if(!aj(aC)){return aB}var aE={};if(aB.important===true||aC.important===true){aE.important=true}if(aB.translateX!==undefined&&aC.translateX!==undefined){aE.translateX=W(aB.translateX,aC.translateX,aD,1)}if(aB.translateY!==undefined&&aC.translateY!==undefined){aE.translateY=W(aB.translateY,aC.translateY,aD,1)}if(aB.translateZ!==undefined&&aC.translateZ!==undefined){aE.translateZ=W(aB.translateZ,aC.translateZ,aD,1)}if(aB.scale!==undefined&&aC.scale!==undefined){aE.scale=W(aB.scale,aC.scale,aD,0)
}if(aB.scaleX!==undefined&&aC.scaleX!==undefined){aE.scaleX=W(aB.scaleX,aC.scaleX,aD,0)}if(aB.scaleY!==undefined&&aC.scaleY!==undefined){aE.scaleY=W(aB.scaleY,aC.scaleY,aD,0)}if(aB.scaleZ!==undefined&&aC.scaleZ!==undefined){aE.scaleZ=W(aB.scaleZ,aC.scaleZ,aD,0)}if(aB.skewX!==undefined&&aC.skewX!==undefined){aE.skewX=W(aB.skewX,aC.skewX,aD,0)}if(aB.skewY!==undefined&&aC.skewY!==undefined){aE.skewY=W(aB.skewY,aC.skewY,aD,0)}if(aB.rotate!==undefined&&aC.rotate!==undefined){aE.rotate=W(aB.rotate,aC.rotate,aD,0)}if(aB.rotateX!==undefined&&aC.rotateX!==undefined){aE.rotateX=W(aB.rotateX,aC.rotateX,aD,0)}if(aB.rotateY!==undefined&&aC.rotateY!==undefined){aE.rotateY=W(aB.rotateY,aC.rotateY,aD,0)}if(aB.rotateZ!==undefined&&aC.rotateZ!==undefined){aE.rotateZ=W(aB.rotateZ,aC.rotateZ,aD,0)}return aE}return aB};var ax=function(aD,aC){if(aD!=null&&aC!=null&&aD!==aC&&!ad(aD,aC)){if(!aj(aC)){return aD}var aB={};if(aD.zIndex!==undefined){aB.zIndex=aD.zIndex}if(aD.postZIndex!==undefined){aB.postZIndex=aD.postZIndex
}if(aD.action!==undefined){aB.action=aD.action}if(aD.preAction!==undefined){aB.preAction=aD.preAction}if(aD.postAction!==undefined){aB.postAction=aD.postAction}if(aD.left!==undefined){aB.left=aD.left}else{if(aC.left!==undefined){aB.left=aC.left}}if(aD.top!==undefined){aB.top=aD.top}else{if(aC.top!==undefined){aB.top=aC.top}}if(aD.width!==undefined){aB.width=aD.width}else{if(aC.width!==undefined){aB.width=aC.width}}if(aD.height!==undefined){aB.height=aD.height}else{if(aC.height!==undefined){aB.height=aC.height}}if(aD.opacity!==undefined){aB.opacity=aD.opacity}else{if(aC.opacity!==undefined){aB.opacity=aC.opacity}}if(aD.visible!==undefined){aB.visible=aD.visible}else{if(aC.visible!==undefined){aB.visible=aC.visible}}if(aD.fontSize!==undefined){aB.fontSize=aD.fontSize}else{if(aC.fontSize!==undefined){aB.fontSize=aC.fontSize}}if(aD.color!==undefined){aB.color=aD.color}else{if(aC.color!==undefined){aB.color=aC.color}}if(aD.backColor!==undefined){aB.backColor=aD.backColor}else{if(aC.backColor!==undefined){aB.backColor=aC.backColor
}}if(aa.useTransformations()){if(aD.baseWidth!==undefined){aB.baseWidth=aD.baseWidth}if(aD.baseHeight!==undefined){aB.baseHeight=aD.baseHeight}}if(aa.useTransformations()||ay(aD.transform,aC.transform)){if(aD.transform!==undefined&&aC.transform!==undefined){aB.transform=ao(aD.transform,aC.transform)}else{if(aD.transform!==undefined){aB.transform=aD.transform}else{if(aC.transform!==undefined){aB.transform=aC.transform}}}}return aB}return aD};var an=function(aE,aC,aD){if(aE!=null&&aC!=null&&aE!==aC&&!ah(aE,aC)){if(!aj(aC)){return aE}var aB={};if(aE.left!==undefined&&aC.left!==undefined){aB.left=W(aE.left,aC.left,aD,1)}if(aE.top!==undefined&&aC.top!==undefined){aB.top=W(aE.top,aC.top,aD,1)}if(aE.width!==undefined&&aC.width!==undefined){aB.width=W(aE.width,aC.width,aD,1)}if(aE.height!==undefined&&aC.height!==undefined){aB.height=W(aE.height,aC.height,aD,1)}if(aE.opacity!==undefined&&aC.opacity!==undefined){aB.opacity=W(aE.opacity,aC.opacity,aD,2)}if(aE.visible!==undefined&&aC.visible!==undefined){aB.visible=aE.visible||aC.visible
}if(aE.fontSize!==undefined&&aC.fontSize!==undefined){aB.fontSize=W(aE.fontSize,aC.fontSize,aD,1)}if(aE.color!==undefined&&aC.color!==undefined){aB.color=aw(aE.color,aC.color,aD)}if(aE.backColor!==undefined&&aC.backColor!==undefined){aB.backColor=aw(aE.backColor,aC.backColor,aD)}if(aa.useTransformations()){if(aE.baseWidth!==undefined){aB.baseWidth=aE.baseWidth}if(aE.baseHeight!==undefined){aB.baseHeight=aE.baseHeight}}if(aa.useTransformations()||ay(aE.transform,aC.transform)){if(aE.transform!==undefined&&aC.transform!==undefined){aB.transform=U(aE.transform,aC.transform,aD)}}return aB}return aE};var al=function(aB,aC){if(aB!=null){if(aB.left!==undefined&&aB.left!==false){aB.left=B.getScaledValue(aB.left,aC)}if(aB.top!==undefined&&aB.top!==false){aB.top=B.getScaledValue(aB.top,aC)}if(aB.width!==undefined&&aB.width!==false){aB.width=B.getScaledValue(aB.width,aC)}if(aB.height!==undefined&&aB.height!==false){aB.height=B.getScaledValue(aB.height,aC)}if(aB.fontSize!==undefined&&aB.fontSize!==false){aB.fontSize=B.getScaledValue(aB.fontSize,aC)
}if(aB.baseWidth!==undefined&&aB.baseWidth!==false){aB.baseWidth=B.getScaledValue(aB.baseWidth,aC)}if(aB.baseHeight!==undefined&&aB.baseHeight!==false){aB.baseHeight=B.getScaledValue(aB.baseHeight,aC)}if(aB.transform!=null&&aB.transform!==false){if(aB.transform.translateX!==undefined&&aB.transform.translateX!==false){aB.transform.translateX=B.getScaledValue(aB.translateX,aC)}if(aB.transform.translateY!==undefined&&aB.transform.translateY!==false){aB.transform.translateY=B.getScaledValue(aB.translateY,aC)}if(aB.transform.translateZ!==undefined&&aB.transform.translateZ!==false){aB.transform.translateZ=B.getScaledValue(aB.translateZ,aC)}}}};var av=function(aB,aC){if(aB!=null){var aD=aa.useTransformations();var aF=ay(aB.transform,aC!=null?aC.transform:null);if(aD&&aB.transform===false){return null}var aE={};if((aD||aF)&&aB.transform!=null){var aH=aB.transform;var aG=aC!=null?aC.transform:null;if(aH.translateX!==undefined){if(aG==null||aG.translateX!==aH.translateX){aE.translateX=aB.translateX===false?"":aH.translateX
}}if(aH.translateY!==undefined){if(aG==null||aG.translateY!==aH.translateY){aE.translateY=aB.translateY===false?"":aH.translateY}}if(aH.translateZ!==undefined){if(aG==null||aG.translateZ!==aH.translateZ){aE.translateZ=aB.translateZ===false?"":aH.translateZ}}if(aH.scale!==undefined){if(aG==null||aG.scale!==aH.scale){aE.scale=aB.scale===false?"":aH.scale}}if(aH.scaleX!==undefined){if(aG==null||aG.scaleX!==aH.scaleX){aE.scaleX=aB.scaleX===false?"":aH.scaleX}}if(aH.scaleY!==undefined){if(aG==null||aG.scaleY!==aH.scaleY){aE.scaleY=aB.scaleY===false?"":aH.scaleY}}if(aH.scaleZ!==undefined){if(aG==null||aG.scaleZ!==aH.scaleZ){aE.scaleZ=aB.scaleZ===false?"":aH.scaleZ}}if(aH.skewX!==undefined){if(aG==null||aG.skewX!==aH.skewX){aE.skewX=aB.skewX===false?"":aH.skewX}}if(aH.skewY!==undefined){if(aG==null||aG.skewY!==aH.skewY){aE.skewY=aB.skewY===false?"":aH.skewY}}if(aH.rotate!==undefined){if(aG==null||aG.rotate!==aH.rotate){aE.rotate=aB.rotate===false?"":aH.rotate}}if(aH.rotateX!==undefined){if(aG==null||aG.rotateX!==aH.rotateX){aE.rotateX=aB.rotateX===false?"":aH.rotateX
}}if(aH.rotateY!==undefined){if(aG==null||aG.rotateY!==aH.rotateY){aE.rotateY=aB.rotateY===false?"":aH.rotateY}}if(aH.rotateZ!==undefined){if(aG==null||aG.rotateZ!==aH.rotateZ){aE.rotateZ=aB.rotateZ===false?"":aH.rotateZ}}}else{if(aB.left!==undefined){if(aC==null||aC.left!==aB.left){if(aD){aE.translateX=aB.left===false?"":aB.left}else{aE.left=aB.left===false?"":aB.left}}}if(aB.top!==undefined){if(aC==null||aC.top!==aB.top){if(aD){aE.translateY=aB.top===false?"":aB.top}else{aE.top=aB.top===false?"":aB.top}}}if(aB.width!==undefined){if(aC==null||aC.width!==aB.width){if(aD){if(aB.baseWidth!==undefined&&aB.baseWidth!==false){aE.scaleX=aB.width===false?"":aB.width/aB.baseWidth}else{aE.scaleX=""}}else{aE.width=aB.width===false?"":aB.width}}}if(aB.height!==undefined){if(aC==null||aC.height!==aB.height){if(aD){if(aB.baseHeight!==undefined&&aB.baseHeight!==false){aE.scaleY=aB.height===false?"":aB.height/aB.baseHeight}else{aE.scaleY=""}}else{aE.height=aB.height===false?"":aB.height}}}}if(aB.opacity!==undefined){if(aC==null||aC.opacity!==aB.opacity){aE.opacity=aB.opacity===false?"":aB.opacity
}}if(aB.fontSize!==undefined){if(aC==null||aC.fontSize!==aB.fontSize){aE.fontSize=aB.fontSize===false?"":aB.fontSize}}if(aB.color!==undefined){if(aC==null||!au(aC.color,aB.color)){aE.color=aB.color===false?"":A.createColor(aB.color)}}if(aB.backColor!==undefined){if(aC==null||!au(aC.backColor,aB.backColor)){aE.backgroundColor=aB.backColor===false?"":A.createColor(aB.backColor)}}return aE}return null};var Z=function(aB){if(aB!=null&&a.isNum(aB.duration)){return aB.duration*1}return n.ANIMATION_DURATION};var ae=function(aB){if(aB!=null&&a.isFullStr(aB.ease)){return aB.ease}return n.ANIMATION_EASE};var aA=function(aB){if(aB!=null){if(aB.animationCounter==null){aB.isAnimating=false;aB.animationCounter=0}aB.animationCounter++;if(!aB.isAnimating){aB.isAnimating=true;if(typeof aB.animationsStarted=="function"){aB.animationsStarted()}}}ac++;aa.isAnimating=true};var Y=function(aB){if(aB!=null&&aB.animationCounter!=null){aB.animationCounter--;if(aB.animationCounter<=0){aB.animationCounter=0;if(aB.isAnimating){aB.isAnimating=false;
if(typeof aB.animationsReady=="function"){aB.animationsReady()}if(typeof aB.animationsCompleted=="function"){aB.animationsCompleted()}}}}ac--;if(ac<=0){ac=0;aa.isAnimating=false;if(az!=null){var aD=az;az=null;if(aD.length>0){for(var aC=0;aC<aD.length;aC++){aD[aC]()}}}}};var ar=function(aF,aD,aC,aE,aB,aG){if(aF!=null){if(aD){if(aG==null||aG.visible===false){aF.css({display:"none"})}}if(aj(aC)){aF.css(aC)}if(aE!=null){if(aE.zIndex!=null){if(aB==null||aB.zIndex!==aE.zIndex){if(aG==null||aG.zIndex===aE.zIndex){aF.css("z-index",aE.zIndex)}}}if(typeof aE.action=="function"){aE.action(aF,aE,aB,aG)}}}};var at=function(aE,aC,aB,aD,aF){if(aE!=null){if(aC){if(aF==null||aF.visible===false){aE.css({display:"none"})}}if(aj(aB)){aE.css(aB)}if(aD!=null){if(aD.postZIndex!=null&&aD.zIndex!==aD.postZIndex){if(aF==null||aF.postZIndex===aD.postZIndex){aE.css("z-index",aD.postZIndex);aD.zIndex=aD.postZIndex}}if(typeof aD.postAction=="function"){aD.postAction(aE,aD,aF)}}}};var ai=function(aB){if(aB!=null&&aB.transformClass!==true&&aB.transformClass!==false){if(a.isFullStr(aB.transformClass)){aa.putClass(aB,aB.transformClass)
}else{aa.putClass(aB,aa.use3d()?o.RENDERER.CSS.CLASS_TRANSFORM_3D:o.RENDERER.CSS.CLASS_TRANSFORM)}aB.transformClass=true}};var V=function(aB){if(aB!=null&&aB.transformOrigin!==true&&aB.transformOrigin!==false){if(a.isFullStr(aB.transformOrigin)){aB.css({transformOrigin:aB.transformOrigin})}else{aB.css({transformOrigin:"0 0"})}aB.transformOrigin=true}};var ab=function(aB){if(aB!=null&&aB.transformPerspective!==true&&aB.transformPerspective!==false){if(a.isNum(aB.transformPerspective)){aB.css({perspective:aB.transformPerspective*1})}else{aB.css({perspective:Math.floor(n.SCREEN_WIDTH*0.5)})}aB.transformPerspective=true}};var ap=function(aE,aD,aB,aC){if(aE!=null&&aD!=null){if(aa.useTransformations()||ay(aB!=null?aB.transform:null,aC!=null?aC.transform:null)){if(aD.translateX!=null||aD.translateY!=null||aD.translateZ!=null||aD.scale!=null||aD.scaleX!=null||aD.scaleY!=null||aD.scaleZ!=null||aD.skewX!=null||aD.skewY!=null||aD.rotate!=null||aD.rotateX!=null||aD.rotateY!=null||aD.rotateZ!=null){ai(aE)
}if(aD.skewX!=null||aD.skewY!=null||aD.rotate!=null||aD.rotateX!=null||aD.rotateY!=null||aD.rotateZ!=null||aD.scale!=null||aD.scaleX!=null||aD.scaleY!=null||aD.scaleZ!=null){V(aE)}if(aD.rotateX!=null||aD.rotateY!=null||aD.rotateZ!=null){ab(aE)}}}};var aq=function(aF,aE,aL,aH,aN,aQ){var aD=true;if(aF!=null&&aF.length>0&&aj(aL)){var aG=ax(aL,aF.currentState);var aB=aj(aE);if(aB||!ah(aF.currentState,aG)){var aC=aa.useAnimations()&&aH!==false;var aJ=false;var aK=false;if(aF.currentState!=null){if(aF.currentState.opacity===0&&aG.opacity===0&&(aE==null||aE.opacity==null||aE.opacity===0)){aC=false}if(aF.currentState.visible===false&&aG.visible===false&&(aE==null||aE.visible==null||aE.visible===false)){aC=false}}if(!aC){aB=false}if(aB||!ah(aF.currentState,aG)){var aO=av(aG,aB?aE:aF.currentState);if(aO!=null){ap(aF,aO,aG,aB?aE:aF.currentState);if(aB){if(aE.zIndex!=null&&(aF.currentState==null||aF.currentState.zIndex!==aE.zIndex)){aF.css("z-index",aE.zIndex)}if(typeof aE.action=="function"){aE.action(aF,aE,aG,aH)
}if(aE.visible===true&&(aF.currentState==null||aF.currentState.visible!==true)){aJ=true}}if(aG.visible===true&&(aF.currentState==null||aF.currentState.visible!==true)){aJ=true}if(aG.visible===false&&(aJ||aF.currentState==null||aF.currentState.visible!==false)){aK=true}if(aJ){aF.css({display:""});if(aC&&!aK&&!aj(aO)){aC=false}}if(aC){var aP=Z(aH);var aM=ae(aH);var aI=av(aE,aF.currentState);aD=false;aA(aN);if(aj(aI)){aF.css(aI)}if(aj(aO)){if(aa.useTransitions()){aF.transition(aO,aP,aM,function(){ar(aF,aK,null,aG,aE,aF.currentState);Y(aN);if(typeof aQ=="function"){aQ()}})}else{aF.animate(aO,aP,aM,function(){ar(aF,aK,null,aG,aE,aF.currentState);Y(aN);if(typeof aQ=="function"){aQ()}})}}else{aF.delay(aP+(aa.useTransitions()?i.transit.transitionEndDelay:0)).queue(function(){ar(aF,aK,null,aG,aE,aF.currentState);Y(aN);if(typeof aQ=="function"){aQ()}aF.dequeue()})}}else{ar(aF,aK,aO,aG,null,null)}aF.fromState=aB!=null?aE:aF.currentState;aF.currentState=aG}}}}if(aD&&typeof aQ=="function"){aQ()}};var X=function(aD,aG,aF,aE,aN){var aC=true;
if(aD!=null&&aD.length>0&&aj(aG)){var aL=ax(aG,aD.currentState);if(!ah(aD.currentState,aL)){var aB=aa.useAnimations()&&aF!==false;var aH=false;var aI=false;if(aD.currentState!=null){if(aD.currentState.opacity===0&&aL.opacity===0){aB=false}if(aD.currentState.visible===false&&aL.visible===false){aB=false}}var aJ=av(aL,aD.currentState);if(aJ!=null){ap(aD,aJ,aL,aD.currentState);if(aL.zIndex!=null&&(aD.currentState==null||aD.currentState.zIndex!==aL.zIndex)){aD.css("z-index",aL.zIndex)}if(typeof aL.preAction=="function"){aL.preAction(aD,aL,aF)}if(aL.visible===true&&(aD.currentState==null||aD.currentState.visible!==true)){aH=true}if(aL.visible===false&&(aD.currentState==null||aD.currentState.visible!==false)){aI=true}if(aH){aD.css({display:""});if(aB&&!aI&&!aj(aJ)){aB=false}}if(aB){var aM=Z(aF);var aK=ae(aF);aC=false;aA(aE);if(aj(aJ)){if(aa.useTransitions()){aD.transition(aJ,aM,aK,function(){at(aD,aI,null,aL,aD.currentState);Y(aE);if(typeof aN=="function"){aN()}})}else{aD.animate(aJ,aM,aK,function(){at(aD,aI,null,aL,aD.currentState);
Y(aE);if(typeof aN=="function"){aN()}})}}else{aD.delay(aM+(aa.useTransitions()?i.transit.transitionEndDelay:0)).queue(function(){at(aD,aI,null,aL,aD.currentState);Y(aE);if(typeof aN=="function"){aN()}aD.dequeue()})}}else{at(aD,aI,aJ,aL,null)}aD.fromState=aD.currentState;aD.currentState=aL}}}if(aC&&typeof aN=="function"){aN()}};this.isAnimating=false;this.useAnimations=function(){return n.ANIMATE>0};this.useTransformations=function(){return i.transit!=null&&n.TRANSFORM>0};this.useTransitions=function(){return i.transit!=null&&n.ANIMATE==2};this.use3d=function(){return i.transit!=null&&n.TRANSFORM==2};this.setup=function(){if(this.useTransformations()){i.transit.use3d=this.use3d()}};this.onReady=function(aB){if(typeof aB=="function"){if(this.isAnimating){if(az==null){az=[]}az.push(aB)}else{aB()}}};this.transfer=function(aD,aB,aC){return an(aD,aB,aC)};this.scale=function(aB,aC){return al(aB,aC)};this.combine=function(aC,aB){return ax(aC,aB)};this.render=function(aE,aB,aC,aD,aF){X(aE,aB,aC,aD,aF)
};this.renderFromTo=function(aF,aC,aG,aD,aE,aB){aq(aF,aC,aG,aD,aE,aB)};this.show=function(aD,aB,aC,aE){X(aD,o.RENDERER.STATE.SHOW,aB!=null?aB:false,aC,aE)};this.hide=function(aD,aB,aC,aE){X(aD,o.RENDERER.STATE.HIDE,aB!=null?aB:false,aC,aE)};this.toggle=function(aD,aB,aC,aE){if(aD!=null&&ah(aD.currentState,o.RENDERER.STATE.SHOW)){this.hide(aD,aB,aC,aE)}else{this.show(aD,aB,aC,aE)}};this.fadeIn=function(aD,aB,aC,aE){if(aD!=null&&ah(aD.currentState,o.RENDERER.STATE.FADE_IN_TO)){if(typeof aE=="function"){aE()}}else{aq(aD,o.RENDERER.STATE.FADE_IN_FROM,o.RENDERER.STATE.FADE_IN_TO,aB,aC,aE)}};this.fadeOut=function(aD,aB,aC,aE){if(aD!=null&&ah(aD.currentState,o.RENDERER.STATE.FADE_OUT_TO)){if(typeof aE=="function"){aE()}}else{aq(aD,o.RENDERER.STATE.FADE_OUT_FROM,o.RENDERER.STATE.FADE_OUT_TO,aB,aC,aE)}};this.fadeToggle=function(aD,aB,aC,aE){if(aD!=null&&ah(aD.currentState,o.RENDERER.STATE.FADE_IN_TO)){this.fadeOut(aD,aB,aC,aE)}else{this.fadeIn(aD,aB,aC,aE)}};this.delay=function(aE,aB,aF){if(aE!=null&&aE.length>0){var aD=aa.useAnimations()&&aB!==false;
if(aD){var aC=Z(aB);aE.delay(aC+(aa.useTransitions()?i.transit.transitionEndDelay:0)).queue(function(){if(typeof aF=="function"){aF()}aE.dequeue()})}else{if(typeof aF=="function"){aF()}}}else{if(typeof aF=="function"){aF()}}};this.applyClass=function(aC,aB){if(aC!=null&&aC.currentClass!=aB){this.removeClass(aC,aC.currentClass);this.putClass(aC,aB);aC.currentClass=aB}};this.applySubclass=function(aC,aB){if(aC!=null&&aC.currentSubclass!=aB){this.removeClass(aC,aC.currentSubclass);this.putClass(aC,aB);aC.currentSubclass=aB}};this.putClass=function(aC,aB){if(aC!=null&&a.isFullStr(aB)){aC.addClass(aB)}};this.removeClass=function(aC,aB){if(aC!=null&&a.isFullStr(aB)){aC.removeClass(aB)}};this.replaceClass=function(aC,aD,aB){if(aC!=null&&a.isFullStr(aD)&&a.isFullStr(aB)){this.removeClass(aC,aD);this.putClass(aC,aB)}};this.replaceClasses=function(aC,aB){if(a.isFullStr(aC)){if(a.isFullStr(aB)){i("."+aC).removeClass(aC).addClass(aB)}else{i("."+aC).removeClass(aC)}}};this.addClasses=function(aC,aB){if(a.isFullStr(aC)&&a.isFullStr(aB)){i("."+aC).addClass(aB)
}};this.removeClasses=function(aB,aC){if(a.isFullStr(aB)&&a.isFullStr(aC)){i("."+aB).removeClass(aC)}};this.getTransformZeroClass=function(){if(this.useTransformations()){return this.use3d()?o.RENDERER.CSS.CLASS_TRANSFORM_3D_ZERO:o.RENDERER.CSS.CLASS_TRANSFORM_ZERO}return null};this.setupTransformZero=function(aB){this.putClass(aB,this.getTransformZeroClass())}};var z=new function(){this.getElement=function(V){if(V!=null&&V.x!=null&&V.y!=null){var U=document.elementFromPoint(V.x,V.y);if(U!=null){return i(U)}}return null};this.getOffsetPosition=function(U,W){if(U!=null&&U.length>0&&W!=null){var V=U.offset();return{x:W.x-Math.round(V.left),y:W.y-Math.round(V.top)}}return null};this.belongsToId=function(U,V){if(U!=null&&U.length>0&&a.isFullStr(V)){if(TVXSelectorTools.getControlId(U)==V){return true}return U.parents("#"+V).length>0}return false};this.belongsToClass=function(V,U){if(V!=null&&V.length>0&&a.isFullStr(U)){if(V.hasClass(U)){return true}return V.parents("."+U).length>0}return false
};this.belongsToClasses=function(aa,V){if(aa!=null&&aa.length>0&&a.isFullStr(V)){if(V.indexOf(" ")>0){var Z=V.split(" ");var Y="";var U=0;for(var W=0;W<Z.length;W++){var X=Z[W];Y+="."+X;if(aa.hasClass(X)){U++}}if(U==Z.length){return true}return aa.parents(Y).length>0}else{return this.belongsToClass(aa,V)}}return false};this.isHidden=function(V){if(V!=null&&V.length>0){if(V.css("display")=="none"){return true}var U=false;V.parents().each(function(){if(!U){U=i(this).css("display")=="none"}});return U}return false}};var y=new function(){var X=function(Z,aa){if(Z===false){return false}if(aa!=null&&aa.currentState!=null){if(aa.currentState.visible===false||aa.currentState.opacity===0){return false}}return true};var U=function(aa,Z,ab,ac){if(aa!=null){aa.showing=true;l.onReady(function(){if(aa.showing){aa.showing=false;l.fadeOut(aa,false);if(typeof aa.loaded=="function"){aa.loaded()}l.fadeIn(aa,X(Z,ab));if(typeof ac=="function"){ac()}}})}};var W=function(Z){if(Z!=null&&Z.loadingUrl!=null){Z.loadingUrl=null
}};var Y=function(aa,Z,ab,ac){if(aa!=null){if(aa.loading!==true){aa.loading=true;aa.showing=false;aa.bind("load",function(){aa.unbind("load");if(aa.loading){aa.loading=false;U(aa,Z,ab,ac)}})}}};var V=function(aa,ab,Z,ac){W(aa);if(aa!=null){if(aa.loading===true){aa.loading=false;aa.unbind("load")}if(aa.showing===true){aa.showing=false}if(ab){l.fadeOut(aa,X(Z,ac))}}};this.setupFallback=function(Z,aa,ab){if(Z!=null){Z.unbind("error");Z.bind("error",function(){if(a.isFullStr(aa)){if(Z.attr("src")!=aa){Z.attr("src",aa);if(typeof ab=="function"){ab()}}}})}};this.controlImage=function(aa,Z,ab,ac){Y(aa,Z,ab,ac)};this.prepareImage=function(aa,ab,Z,ac){V(aa,ab,Z,ac)};this.loadImage=function(aa,ab,Z,ac,ad){if(aa!=null){if(a.isFullStr(ab)){if(aa.attr("src")==ab){W(aa);if(aa.loading!==true&&aa.showing!==true){l.fadeIn(aa,X(Z,ac))}if(typeof ad=="function"){ad()}}else{V(aa,true,false,null);aa.loadingUrl=ab;l.onReady(function(){if(aa.loadingUrl==ab){aa.loadingUrl=null;Y(aa,Z,ac,ad);if(typeof aa.prepare=="function"){aa.prepare()
}aa.attr("src",ab)}})}}else{V(aa,true,false,null);if(typeof ad=="function"){ad()}}}};this.swapImage=function(ad,ac,ab,aa,Z){if(ad!=null&&ac!=null){V(ad,false,false,null);V(ac,false,false,null);this.loadImage(ad,ab,aa,Z,function(){l.fadeOut(ac,X(aa,Z))})}}};var C=new function(){var V=function(W){if(W!=null){if(W.controls==null){W.controls={}}}};var U=function(W){if(W!=null){V(W);if(W.controls.image==null){W.controls.image=W.find("img");W.controls.image.content=null;W.controls.image.controlType=-1}}};this.setupFallback=function(X,W){if(X!=null){U(X);if(X.controls.image.length>0){y.setupFallback(X.controls.image,W)}}};this.prepareImage=function(Y,Z,X,W){if(Y!=null){U(Y);if(Y.controls.image.length>0&&(Z==null||Y.controls.image.content!=Z)){Y.controls.image.content=null;y.prepareImage(Y.controls.image,true,X,W)}}};this.updateImage=function(Y,Z,X,W){if(Y!=null){U(Y);if(Y.controls.image.length>0&&Y.controls.image.content!=Z){Y.controls.image.content=Z;y.loadImage(Y.controls.image,Z,X,W)}}};this.validateImage=function(W){if(W!=null&&W.controls!=null&&W.controls.image!=null&&W.controls.image.length>0&&W.controls.image.imageState===4&&typeof W.controls.image.loaded=="function"){W.controls.image.loaded()
}};this.applyFiller=function(W){if(W!=null){U(W);if(W.controls.image.length>0&&W.controls.image.controlType===-1){W.controls.image.imageState=0;W.controls.image.prepare=function(){this.imageState=1};if(W.controls.image.hasClass(o.COMMON.CSS.CLASS_FILLER_FIT)){W.controls.image.controlType=1}else{if(W.controls.image.hasClass(o.COMMON.CSS.CLASS_FILLER_COVER)){W.controls.image.controlType=2}else{if(W.controls.image.hasClass(o.COMMON.CSS.CLASS_FILLER_SMART)){W.controls.image.controlType=3}else{W.controls.image.controlType=0;W.controls.image.loaded=function(){this.imageState=2;if(typeof this.completed=="function"){this.completed()}}}}}if(W.controls.image.controlType>0){W.controls.image.controlState=null;W.controls.image.loaded=function(){var ab=this.parent();if(!z.isHidden(ab)){var ae=this.get(0);var ad=ab.width();var ai=ab.height();var ag=ae.naturalWidth;var ah=ae.naturalHeight;if(ad>0&&ai>0&&ag>0&&ah>0){var Z={left:null,top:null,width:null,height:null,marginLeft:null,marginTop:null};var Y=ad/ai;
var aa=ag/ah;var X=ad/ag;var af=ai/ah;var ac=0;if(this.controlType==1){ac=aa>Y?0:1}else{if(this.controlType==2){ac=aa>Y?1:0}else{if(this.controlType==3){if(aa<1){ac=aa<Y&&Y<1?0:1}else{ac=aa>Y&&Y>1?1:0}}}}if(ac==1){Z.left=50;Z.height=100;Z.marginLeft=-Math.round(af*ag*0.5)}else{Z.top=50;Z.width=100;Z.marginTop=-Math.round(X*ah*0.5)}if(this.controlState==null||this.controlState.top!==Z.top||this.controlState.left!==Z.left||this.controlState.width!==Z.width||this.controlState.height!==Z.height||this.controlState.marginLeft!==Z.marginLeft||this.controlState.marginTop!==Z.marginTop){this.controlState=Z;this.css({left:Z.left!=null?Z.left+"%":"0px",top:Z.top!=null?Z.top+"%":"0px",width:Z.width!=null?Z.width+"%":"auto",height:Z.height!=null?Z.height+"%":"auto",marginLeft:Z.marginLeft!=null?Z.marginLeft+"px":"0px",marginTop:Z.marginTop!=null?Z.marginTop+"px":"0px",visibility:"visible"})}this.imageState=3;if(typeof this.completed=="function"){this.completed()}}else{this.imageState=4}}else{this.imageState=4
}}}}}};this.initImage=function(X,Y,W){if(X!=null){if(X.controls==null||X.controls.image==null){this.applyFiller(X);this.prepareImage(X,Y,false,null);this.setupFallback(X,W)}}};this.updateItem=function(W){V(W)}};var B=new function(){this.roundPixelValue=function(U){if(U<0){return -Math.round(-U)}else{return Math.round(U)}};this.roundOpacityValue=function(U){if(U<0){return 0}else{if(U>1){return 1}else{return Math.round(U*1000)/1000}}};this.getScaledValue=function(U,V){return this.roundPixelValue(U*(V!=null?V:n.SCREEN_FACTOR))};this.scaleProperty=function(W,U,V){if(W!=null&&U!=null&&typeof W[U]=="number"){W[U]=this.getScaledValue(W[U],V)}};this.scaleState=function(U,V){l.scale(U,V)};this.createCanvas=function(W,V,U){return a.strReplace(o.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(V,n.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(U,n.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(W))};this.createIFrame=function(U,V){return a.strReplace(a.strReplace(o.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(U)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(V,"about:blank")))
};this.createColor=function(U){if(U!=null&&U.indexOf("tvx-")==0){var U=U.substr(4);if(U=="white"){return o.COMMON.COLOR.WHITE}else{if(U=="white-soft"){return o.COMMON.COLOR.WHITE_SOFT}else{if(U=="black"){return o.COMMON.COLOR.BLACK}else{if(U=="black-soft"){return o.COMMON.COLOR.BLACK_SOFT}else{if(U=="gray"){return o.COMMON.COLOR.GRAY}else{if(U=="gray-soft"){return o.COMMON.COLOR.GRAY_SOFT}else{if(U=="red"){return o.COMMON.COLOR.RED}else{if(U=="green"){return o.COMMON.COLOR.GREEN}else{if(U=="yellow"){return o.COMMON.COLOR.YELLOW}else{if(U=="blue"){return o.COMMON.COLOR.BLUE}else{if(U=="glass"){return o.COMMON.COLOR.GLASS}}}}}}}}}}}}return null};this.createIcon=function(W,Y,X,V){var U=X===false?o.COMMON.CSS.CLASS_ICON:o.COMMON.CSS.CLASS_ICON_INLINE;if(a.isFullStr(V)){U+=" "+V}if(a.isId(W)){if(a.isFullStr(Y)){return a.strReplace(o.COMMON.HTML.ICON_STYLED,"{CLASS}",U).replace("{ICON}",W).replace("{STYLE}","color:"+Y)}else{return a.strReplace(o.COMMON.HTML.ICON,"{CLASS}",U).replace("{ICON}",W)
}}return a.strReplace(o.COMMON.HTML.ICON,"{CLASS}",U).replace("{ICON}",o.COMMON.ICON.DEFAULT)};this.createText=function(Y,X,V,U){var W=V===false?o.COMMON.CSS.CLASS_TEXT:o.COMMON.CSS.CLASS_TEXT_INLINE;if(a.isFullStr(U)){W+=" "+U}if(a.isFullStr(Y)){if(a.isFullStr(X)){return a.strReplace(a.strReplace(o.COMMON.HTML.TEXT_STYLED.replace("{STYLE}","color:"+X),"{CLASS}",W),"{TEXT}",a.htmlTextEscape(Y))}else{return a.strReplace(a.strReplace(o.COMMON.HTML.TEXT,"{CLASS}",W),"{TEXT}",a.htmlTextEscape(Y))}}return a.strReplace(a.strReplace(o.COMMON.HTML.TEXT,"{CLASS}",W),"{TEXT}",a.htmlTextEscape(o.COMMON.TEXT.DEFAULT))};this.createTextStart=function(W,V,U){var X=V===false?o.COMMON.CSS.CLASS_TEXT:o.COMMON.CSS.CLASS_TEXT_INLINE;if(a.isFullStr(U)){X+=" "+U}if(a.isFullStr(W)){return a.strReplace(o.COMMON.HTML.TEXT_START_STYLED.replace("{STYLE}","color:"+W),"{CLASS}",X)}return a.strReplace(o.COMMON.HTML.TEXT_START,"{CLASS}",X)};this.createTextEnd=function(){return o.COMMON.HTML.TEXT_END}};var p=new function(){var ah=16;
var ai=32;var U="tvx:device_id";var W=/^[a-z-]+_[A-Za-z0-9]+_[0-9]+([0-9#])*$/;var ae=new s("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");var ak=new s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");var af=new s(a.strShuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"));var aj=new s("tuNiBAmqXwPd-aUIRFHn2YpVQ9gkD7zWC4jMGycJ8v65SrZ0.hO1eLfKboxEl3sT");var aa=function(ao,an){return ao!=null&&an>=0&&an<ao.length?ao.charAt(an):"0"};var ac=function(an){return an.indexOf("-")==0?"0"+an.substr(1):an};var al=function(ao,ar,an){var ap=0;for(var aq=ao.length;aq<an;aq++){ao+=aa(ar,ap++)}return ao};var ab=function(an){return al(ac(""+a.createHash(an)),ac(""+a.createHash(an,true)),ah)};var am=function(an){return a.isFullStr(an)&&W.test(an)};var ad=function(an){if(a.isFullStr(an)&&an.length<ai){return al(an+"#",ac(""+a.createHash(an))+ac(""+a.createHash(an,true)),ai)
}return an};var Z=function(an){return a.isFullStr(an)?a.base64DecodeId(aj.normalizeString(an)):null};var X=function(an){return a.isFullStr(an)?aj.transformString(a.base64EncodeId(ad(an))):null};var Y=function(){J.storage.remove(U)};var V=function(ao){var an=J.storage.getFullStr(U,null);if(!am(Z(an))){an=null}if(an==null&&ao!=null&&ao.info!=null&&ao.info.platform!=null){an=X(ao.info.platform+"_"+a.createKey(16)+"_"+K.getTimestamp());J.storage.set(U,an)}return an};var ag=function(an){if(an!=null&&an.info!=null&&an.info.platform!=null&&an.info.system!=null){if(an.info.system.macAddress!=null){return X(an.info.platform+"_"+an.info.system.macAddress)}else{if(an.info.system.deviceId!=null){return X(an.info.platform+"_"+an.info.system.deviceId)}else{if(an.info.id!=null){return X(an.info.platform+"_"+an.info.id)}}}}return V(an)};this.checkOrigin=function(an){if(a.isFullStr(an)){return an=="null"||an=="http://msx.benzac.de"||an=="https://msx.benzac.de"||an=="ms-appx://52357benzac.de.mediastationx"||an=="http://localhost"||an.indexOf("http://localhost:")==0||an.indexOf("file://")==0
}return false};this.transformString=function(an){return ae.transformString(an)};this.normalizeString=function(an){return ae.normalizeString(an)};this.createHashKey=function(an,ao){if(ao=="local"){return af.transformString(ab(an))}return ak.transformString(ab(an))};this.clearDeviceId=function(){Y()};this.getDeviceId=function(an){return ag(an)}};var b=new function(){var X=new c();var ah=null;var ae=false;var aa=null;var ad=function(ak){if(ah!=null){var ai=ah;ah=null;if(ai.length>0){for(var aj=0;aj<ai.length;aj++){ai[aj](ak)}}}};var W=function(ai){if(ah==null){ah=[]}ah.push(ai)};var ab=function(aj,ai){if(a.isFullStr(ai)){if(a.isFullStr(aj)){return ai==aj}return false}return true};var Y=function(ai){return ai!=null&&ai.info!=null&&ai.info.framework!=null?a.strFullCheck(ai.info.framework.name,null):null};var Z=function(ai){return ai!=null&&ai.info!=null&&ai.info.framework!=null?a.strFullCheck(ai.info.framework.version,null):null};var V=function(ai){return ai!=null&&ai.info!=null&&ai.info.application!=null?a.strFullCheck(ai.info.application.name,null):null
};var ac=function(ai){return ai!=null&&ai.info!=null&&ai.info.application!=null?a.strFullCheck(ai.info.application.version,null):null};var U=function(ai){return ai!=null&&ai.info!=null&&ai.info.content!=null?a.strFullCheck(ai.info.content.name,null):null};var ag=function(ai){return ai!=null&&ai.info!=null&&ai.info.content!=null?a.strFullCheck(ai.info.content.version,null):null};var af=function(){X.start();X.start();window.addEventListener("load",function(){X.stop()});J.storage.onReady(function(){X.stop()})};this.createCanvas=function(ak,aj,ai){return a.strReplace(o.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(aj,n.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(ai,n.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(ak))};this.createIFrame=function(ai,aj){return a.strReplace(a.strReplace(o.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(ai)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(aj,"about:blank")))};this.isReady=function(){return !X.isBusy()};this.onReady=function(ai){X.onReady(ai)};this.startInitService=function(){X.start()
};this.stopInitService=function(){X.stop()};this.areSettingsValidated=function(){return ae};this.invalidateSettings=function(){ae=false;aa=null};this.validateSettings=function(aq){ae=true;aa=aq;var az=null;var al=null;var aC=null;var aD=null;var at=null;var aK=null;var aJ=null;var aA=null;var aF=null;var am=null;var ai=null;var ao=null;var aG=null;var au=null;var ar=null;var aw=null;var aE=null;var aH=null;var ak=null;var aB=null;var aj=null;var ax=null;var av=null;var ay=null;var ap=null;var an=null;var aI=null;if(aq!=null&&aq.info!=null){aJ=aq.info.platform;aA=aq.info.id;if(aq.info.time!=null){az=aq.info.time.offset;al=aq.info.time.zoneOffset}if(aq.info.screen!=null){aC=aq.info.screen.width;aD=aq.info.screen.height;at=aq.info.screen.factor;aK=aq.info.screen.zoomFactor}if(aq.info.framework!=null&&aq.info.framework.settings!=null){aF=aq.info.framework.settings.animate;am=aq.info.framework.settings.transform;ai=aq.info.framework.settings.input;ao=aq.info.framework.settings.remote;aG=aq.info.framework.settings.layout;
au=aq.info.framework.settings.scale;ar=aq.info.framework.settings.zoom;aw=aq.info.framework.settings.center;aE=aq.info.framework.settings.background;aH=aq.info.framework.settings.leave;ak=aq.info.framework.settings.exit;aB=aq.info.framework.settings.back;aj=aq.info.framework.settings.volume;ax=aq.info.framework.settings.busy;av=aq.info.framework.settings.speed;ay=aq.info.framework.settings.playback;ap=aq.info.framework.settings.fullscreen;an=aq.info.framework.settings.suspend;aI=aq.info.framework.settings.secure}}n.TIME_OFFSET=a.strToNum(az,n.TIME_OFFSET);n.TIME_ZONE_OFFSET=a.strToNum(al,n.TIME_ZONE_OFFSET);n.SCREEN_WIDTH=a.strToNum(aC,n.SCREEN_WIDTH);n.SCREEN_HEIGHT=a.strToNum(aD,n.SCREEN_HEIGHT);n.SCREEN_FACTOR=a.strToNum(at,n.SCREEN_FACTOR);n.ZOOM_FACTOR=a.strToNum(aK,n.ZOOM_FACTOR);n.PLATFORM=a.strFullCheck(aJ,n.PLATFORM);n.ID=a.strFullCheck(aA,n.ID);n.ANIMATE=a.strToNum(aF,n.ANIMATE);n.TRANSFORM=a.strToNum(am,n.TRANSFORM);n.INPUT=a.strToNum(ai,n.INPUT);n.REMOTE=a.strToNum(ao,n.REMOTE);
n.LAYOUT=a.strFullCheck(aG,n.LAYOUT);n.SCALE=a.strFullCheck(au,n.SCALE);n.ZOOM=a.strFullCheck(ar,n.ZOOM);n.CENTER=a.strToNum(aw,n.CENTER);n.BACKGROUND=a.strToNum(aE,n.BACKGROUND);n.LEAVE=a.strToNum(aH,n.LEAVE);n.EXIT=a.strToNum(ak,n.EXIT);n.BACK=a.strToNum(aB,n.BACK);n.VOLUME=a.strToNum(aj,n.VOLUME);n.BUSY=a.strToNum(ax,n.BUSY);n.SPEED=a.strToNum(av,n.SPEED);n.PLAYBACK=a.strToNum(ay,n.PLAYBACK);n.FULLSCREEN=a.strToNum(ap,n.FULLSCREEN);n.SUSPEND=a.strToNum(an,n.SUSPEND);n.SECURE=a.strToNum(aI,n.SECURE);ad(aq)};this.onValidatedSettings=function(ai){if(typeof ai=="function"){if(ae){ai(aa)}else{W(ai)}}};this.handleSettingsEvent=function(aj){if(aj!=null&&a.isFullStr(aj.event)&&aj.event.indexOf("settings:")==0){var ai=aj.event.substr(9);if(ai=="animate"){n.ANIMATE=a.strToNum(aj.value,n.ANIMATE)}else{if(ai=="transform"){n.TRANSFORM=a.strToNum(aj.value,n.TRANSFORM)}else{if(ai=="input"){n.INPUT=a.strToNum(aj.value,n.INPUT)}else{if(ai=="remote"){n.REMOTE=a.strToNum(aj.value,n.REMOTE)}else{if(ai=="layout"){n.LAYOUT=a.strToNum(aj.value,n.LAYOUT)
}else{if(ai=="scale"){n.SCALE=a.strFullCheck(aj.value,n.SCALE)}else{if(ai=="zoom"){n.ZOOM=a.strFullCheck(aj.value,n.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(ai){return a.strFullCheck(Y(ai),"-")+" "+a.strFullCheck(Z(ai),"-")};this.getApplicationInfo=function(ai){return a.strFullCheck(V(ai),"-")+" "+a.strFullCheck(ac(ai),"-")};this.getContentInfo=function(ai){return a.strFullCheck(U(ai),"-")+" "+a.strFullCheck(ag(ai),"-")};this.checkFramework=function(ak,aj,ai){return a.checkVersion(Z(ak),aj)&&ab(Y(ak),ai)};this.checkApplication=function(ak,aj,ai){return a.checkVersion(ac(ak),aj)&&ab(V(ak),ai)};this.checkContent=function(ak,aj,ai){return a.checkVersion(ag(ak),aj)&&ab(U(ak),ai)};this.isSameContentState=function(aj,ai){return aj!=null&&ai!=null&&aj.start===ai.start&&aj.restored===ai.restored&&aj.menuId===ai.menuId&&aj.menuFlag===ai.menuFlag&&aj.menuFocus===ai.menuFocus&&aj.menuIndex===ai.menuIndex&&aj.menuSize===ai.menuSize&&aj.contentId===ai.contentId&&aj.contentFlag===ai.contentFlag&&aj.contentFocus===ai.contentFocus&&aj.contentIndex===ai.contentIndex&&aj.contentSize===ai.contentSize&&aj.contentVisible===ai.contentVisible&&aj.panelId===ai.panelId&&aj.panelFlag===ai.panelFlag&&aj.panelFocus===ai.panelFocus&&aj.panelIndex===ai.panelIndex&&aj.panelSize===ai.panelSize&&aj.panelVisible===ai.panelVisible&&aj.videoVisible===ai.videoVisible&&aj.videoActive===ai.videoActive&&aj.playerVisible===ai.playerVisible&&aj.slideshowVisible===ai.slideshowVisible&&aj.volumeVisible===ai.volumeVisible&&aj.logVisible===ai.logVisible
};this.createChangedContentState=function(aj,ai){return ai!=null?{init:ai.init,initChanged:aj==null||aj.init!==ai.init,start:ai.start,startChanged:aj==null||aj.start!==ai.start,restored:ai.restored,restoredChanged:aj==null||aj.restored!==ai.restored,menuId:ai.menuId,menuIdChanged:aj==null||aj.menuId!==ai.menuId,menuFlag:ai.menuFlag,menuFlagChanged:aj==null||aj.menuFlag!==ai.menuFlag,menuFocus:ai.menuFocus,menuFocusChanged:aj==null||aj.menuFocus!==ai.menuFocus,menuIndex:ai.menuIndex,menuIndexChanged:aj==null||aj.menuIndex!==ai.menuIndex,menuSize:ai.menuSize,menuSizeChanged:aj==null||aj.menuSize!==ai.menuSize,contentId:ai.contentId,contentIdChanged:aj==null||aj.contentId!==ai.contentId,contentFlag:ai.contentFlag,contentFlagChanged:aj==null||aj.contentFlag!==ai.contentFlag,contentFocus:ai.contentFocus,contentFocusChanged:aj==null||aj.contentFocus!==ai.contentFocus,contentIndex:ai.contentIndex,contentIndexChanged:aj==null||aj.contentIndex!==ai.contentIndex,contentSize:ai.contentSize,contentSizeChanged:aj==null||aj.contentSize!==ai.contentSize,contentVisible:ai.contentVisible,contentVisibleChanged:aj==null||aj.contentVisible!==ai.contentVisible,panelId:ai.panelId,panelIdChanged:aj==null||aj.panelId!==ai.panelId,panelFlag:ai.panelFlag,panelFlagChanged:aj==null||aj.panelFlag!==ai.panelFlag,panelFocus:ai.panelFocus,panelFocusChanged:aj==null||aj.panelFocus!==ai.panelFocus,panelIndex:ai.panelIndex,panelIndexChanged:aj==null||aj.panelIndex!==ai.panelIndex,panelSize:ai.panelSize,panelSizeChanged:aj==null||aj.panelSize!==ai.panelSize,panelVisible:ai.panelVisible,panelVisibleChanged:aj==null||aj.panelVisible!==ai.panelVisible,videoVisible:ai.videoVisible,videoVisibleChanged:aj==null||aj.videoVisible!==ai.videoVisible,videoActive:ai.videoActive,videoActiveChanged:aj==null||aj.videoActive!==ai.videoActive,playerVisible:ai.playerVisible,playerVisibleChanged:aj==null||aj.playerVisible!==ai.playerVisible,slideshowVisible:ai.slideshowVisible,slideshowVisibleChanged:aj==null||aj.slideshowVisible!==ai.slideshowVisible,volumeVisible:ai.volumeVisible,volumeVisibleChanged:aj==null||aj.volumeVisible!==ai.volumeVisible,logVisible:ai.logVisible,logVisibleChanged:aj==null||aj.logVisible!==ai.logVisible}:aj
};af()};var P=new function(){var ba="videoPlugin";var a9="vrq";var a6=100;var ar=30000;var aX=new s("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var a4=null;var am=false;var bb=null;var az=false;var ae=false;var U=false;var ai=false;var ac=null;var aR=new k();var ap=new r(1000);var aW=new r(1000);var a0=false;var au={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:n.SCREEN_WIDTH,height:n.SCREEN_HEIGHT};var aF=function(bm){return(bm!=null&&bm.webkitSupportsFullscreen===true)||document.fullscreenEnabled===true||document.msFullscreenEnabled===true||document.mozFullScreenEnabled===true||document.webkitFullscreenEnabled===true};var ah=function(bm){return(bm!=null&&bm.webkitDisplayingFullscreen===true)||document.fullScreenElement!=null||document.msFullscreenElement!=null||document.mozFullScreen===true||document.webkitIsFullScreen===true};
var aw=function(bm){if(bm!=null&&aF(bm)){try{if(typeof bm.webkitEnterFullScreen=="function"){bm.webkitEnterFullScreen();return true}else{if(typeof bm.requestFullscreen=="function"){bm.requestFullscreen();return true}else{if(typeof bm.msRequestFullscreen=="function"){bm.msRequestFullscreen();return true}else{if(typeof bm.mozRequestFullScreen=="function"){bm.mozRequestFullScreen();return true}else{if(typeof bm.webkitRequestFullscreen=="function"){bm.webkitRequestFullscreen();return true}}}}}}catch(bn){aP("Request fullscreen failed",bn)}}return false};var a7=function(bm){if(ah(bm)){try{if(bm!=null&&typeof bm.webkitExitFullScreen=="function"){bm.webkitExitFullScreen();return true}else{if(typeof document.exitFullscreen=="function"){document.exitFullscreen();return true}else{if(typeof document.msExitFullscreen=="function"){document.msExitFullscreen();return true}else{if(typeof document.mozCancelFullScreen=="function"){document.mozCancelFullScreen();return true}else{if(typeof document.webkitExitFullscreen=="function"){document.webkitExitFullscreen();
return true}}}}}}catch(bn){aP("Exit fullscreen failed",bn)}}return false};var aT=function(bm){a4=new s(bm)};var aG=function(bm){if(az){if(bm=="local"){return a4!=null?a4.createSteam():null}return aX.createSteam()}return null};var aO=function(bm,bn){if(az){if(bn=="local"){return a4!=null?a4.resolveToken(bm):null}return aX.resolveToken(bm)}return null};var ab=function(bm,bn){if(az){if(bn=="local"){return a4!=null?a4.transformString(bm):null}else{if(bn=="global"){return aX.transformString(bm)}else{if(bn=="shared"){return p.transformString(a4!=null?a4.transformString(bm):bm)}}}return aX.transformString(a4!=null?a4.transformString(bm):bm)}return null};var aU=function(bm,bn){if(az){if(bn=="local"){return a4!=null?a4.normalizeString(bm):null}else{if(bn=="global"){return aX.normalizeString(bm)}else{if(bn=="shared"){return a4!=null?a4.normalizeString(p.normalizeString(bm)):p.normalizeString(bm)}}}return a4!=null?a4.normalizeString(aX.normalizeString(bm)):aX.normalizeString(bm)}return null};var a5=function(bm){if(a.isNum(bm)){bm=a.strToNum(bm,0);
if(isFinite(bm)){return bm}}return 0};var aa=function(){if(au.position==0||au.duration==0){try{var bm=false;if(au.position==0){au.position=a5(ac.getPosition());bm=au.position>0}if(au.duration==0){au.duration=a5(ac.getDuration());bm=au.duration>0}if(au.position>0&&au.duration>0){aK()}if(bm){Z()}}catch(bn){aP("Start failed",bn);aK()}}else{aK()}};var aK=function(){am=true;aN()};var a1=function(){aN();if(az&&!am&&ac!=null&&typeof ac.getPosition=="function"&&typeof ac.getDuration=="function"){bb=setInterval(aa,a6)}};var aN=function(){if(bb!=null){clearInterval(bb);bb=null}};var a2=0;var aL={};var ao=function(bo){a2++;var bm=a9+a2+"_"+K.getTimestamp();var bn={timeout:new r(ar),callback:bo};aL[bm]=bn;bn.timeout.start(function(){bf(bm,{error:"Request timed out"})});return bm};var bf=function(bm,bo){if(bm!=null){var bn=aL[bm];if(bn!=null){bn.timeout.stop();delete aL[bm];af(bn.callback,bo)}}};var af=function(bo,bm){if(typeof bo=="function"){try{bo(bm)}catch(bn){aP("Callback error",bn)}}};var Y=new j();
var aS=new r(500);var ay=null;var av=null;var W=function(bm){if(bm!=null){if(b.isSameContentState(ay,bm)){if(!b.isSameContentState(av,bm)){if(av==null){bm.init=true}av=b.createChangedContentState(av,bm);Y.notifyObservers(av)}}else{ay=bm}}aE()};var a3=function(){if(az){aq("info:content",function(bm){W(bm.info!=null&&bm.info.content!=null?bm.info.content.state:null)})}else{aE()}};var aE=function(bm){if(Y.hasObservers()){if(a.isFullStr(bm)&&av!=null){Y.notifyObserver(bm,av)}aS.start(a3)}else{ay=null;av=null;aS.stop()}};var Z=function(){aj(au)};var at=function(){aR.addHook(ba,X)};var bl=function(){if(au.state==I.STOPPED){aR.stop()}else{aR.start()}};var ag=function(bm,bn){if(a.isFullStr(bm)){aj({action:bm,data:bn!=null?bn:null})}};var aC=function(bn,bm){if(a.isFullStr(bn)){if(bm!==false){ag("logger:debug:"+bn)}}};var bh=function(bn,bm,bo){if(a.isFullStr(bn)){if(bm!==false){ag("logger:success:"+bn,{show:bo!==false})}else{if(bo!==false){ag("success:"+bn)}}}};var bk=function(bn,bm,bo){if(a.isFullStr(bn)){if(bm!==false){ag("logger:info:"+bn,{show:bo!==false})
}else{if(bo!==false){ag("info:"+bn)}}}};var bd=function(bn,bm,bo){if(a.isFullStr(bn)){if(bm!==false){ag("logger:warn:"+bn,{show:bo!==false})}else{if(bo!==false){ag("warn:"+bn)}}}};var bi=function(bn,bm,bo){if(a.isFullStr(bn)){if(bm!==false){ag("logger:error:"+bn,{show:bo!==false})}else{if(bo!==false){ag("error:"+bn)}}}};var an=function(bm,bn){if(a.isFullStr(bm)&&bn!=null){if(typeof bn=="object"){ag(bm+":data",bn)}else{ag(bm+":"+bn)}}};var aQ=function(bm){an("menu",bm)};var aZ=function(bm){an("content",bm)};var aH=function(bm){an("panel",bm)};var aq=function(bm,bo,bn){if(a.isFullStr(bm)){if(bn==null){bn={}}bn.requestId=ao(bo);bn.dataId=bm;ag("player:commit:"+bm,bn)}else{af(bo,{error:"Data ID is invalid: '"+bm+"'"})}};var aP=function(bm,bn){if(bm!=null&&bn!=null){if(bn.name!=null&&bn.message!=null){bi("Plugin: "+bm+": "+bn.name+": "+bn.message)}else{bi("Plugin: "+bm+": "+bn)}if(ac!=null&&typeof ac.onError=="function"){try{ac.onError(bm,bn)}catch(bo){}}}};var ax=function(bm){if(au.state!=I.PLAYING||bm===true){au.state=I.PLAYING;
if(az&&ac!=null&&typeof ac.play=="function"){try{ac.play()}catch(bn){aP("Play failed",bn)}}}};var be=function(bm){if(au.state!=I.PAUSED||bm===true){au.state=I.PAUSED;if(az&&ac!=null&&typeof ac.pause=="function"){try{ac.pause()}catch(bn){aP("Pause failed",bn)}}}};var al=function(bm){if(au.state!=I.STOPPED||bm===true){au.state=I.STOPPED;if(az&&ac!=null&&typeof ac.stop=="function"){try{ac.stop()}catch(bn){aP("Stop failed",bn)}}}};var aB=function(bm,bn){if(bm==I.PLAYING){ax(bn)}else{if(bm==I.PAUSED){be(bn)}else{if(bm==I.STOPPED){al(bn)}}}};var X=function(){if(az&&ac!=null&&!ap.isBusy()&&typeof ac.getUpdateData=="function"){try{var bn=ac.getUpdateData();if(bn!=null){var bo=false;if(a.isNum(bn.state)){bo=true;au.state=a.strToNum(bn.state,au.state)}if(a.isNum(bn.position)){bo=true;au.position=a.strToNum(bn.position,au.position);if(!isFinite(au.position)){au.position=0}}if(a.isNum(bn.duration)){bo=true;au.duration=a.strToNum(bn.duration,au.duration);if(!isFinite(au.duration)){au.duration=0}}if(a.isNum(bn.speed)){bo=true;
au.speed=a.strToNum(bn.speed,au.speed)}if(a.isBool(bn.ended)){bo=true;au.ended=a.strToBool(bn.ended,au.ended)}if(a.isNum(bn.volume)){bo=true;au.volume=a.strToNum(bn.volume,au.volume)}if(a.isBool(bn.muted)){bo=true;au.muted=a.strToBool(bn.muted,au.muted)}if(bo){Z();bl()}}}catch(bm){aP("Update failed",bm)}}};var bg=function(bo,bm){ai=false;if(au.position!=bo||bo==0||bm===true){au.position=bo;if(az&&ac!=null&&typeof ac.setPosition=="function"){try{ac.setPosition(bo);if(!ai){ap.start()}}catch(bn){aP("Set position failed",bn)}}}};var aI=function(bm,bo){if(au.volume!=bm||bo===true){au.volume=bm;if(az&&ac!=null&&typeof ac.setVolume=="function"){try{ac.setVolume(bm)}catch(bn){aP("Set volume failed",bn)}}}};var ad=function(bm,bn){if(au.muted!=bm||bn===true){au.muted=bm;if(az&&ac!=null&&typeof ac.setMuted=="function"){try{ac.setMuted(bm)}catch(bo){aP("Set muted failed",bo)}}}};var aD=function(bm,bn){if(au.speed!=bm||bn===true){au.speed=bm;if(az&&ac!=null&&typeof ac.setSpeed=="function"){try{ac.setSpeed(bm)
}catch(bo){aP("Set speed failed",bo)}}}};var aM=function(bn,bm,bo){if(au.width!=bn||au.height!=bm||bo===true){au.width=bn;au.height=bm;if(az&&ac!=null&&typeof ac.setSize=="function"){try{ac.setSize(bn,bm)}catch(bp){aP("Set size failed",bp)}}}};var ak=function(bm,bn){ag("response:"+bm,bn)};var aV=function(bm,bn){bf(bm,bn)};var bc=function(bn,bm,bp){if(typeof ac.handleRequest=="function"){try{ac.handleRequest(bm,bp,function(bq){ak(bn,bq)})}catch(bo){aP("Handle request failed",bo);ak(bn)}}else{ak(bn)}};var aJ=function(bn){if(az&&bn!=null&&ac!=null){if(typeof ac.handleEvent=="function"){try{ac.handleEvent(bn)}catch(bm){aP("Handle event failed",bm)}}}};var V=function(bq){if(az&&bq!=null&&ac!=null){if(a.isFullStr(bq.requestId)&&a.isFullStr(bq.dataId)){bc(bq.requestId,bq.dataId,bq.data)}else{if(bq.data!=null&&a.isFullStr(bq.data.requestId)&&a.isFullStr(bq.data.dataId)){var bn={};var bp=bq.data.dataId;var bm=bp.indexOf(":");if(bm>0){bp=bp.substr(0,bm)}bn[bp]=bq[bp]!=null?bq[bp]:null;bn.error=a.strFullCheck(bq.error,null);
aV(bq.data.requestId,bn)}else{if(typeof ac.handleData=="function"){try{ac.handleData(bq)}catch(bo){aP("Handle data failed",bo)}}}}}};var a8=function(bm){if(!U||bm===true){U=true;if(ac!=null&&typeof ac.init=="function"){try{ac.init()}catch(bn){aP("Call init failed",bn)}}}};var aY=function(bm){if(!az||bm===true){az=true;if(ac!=null&&typeof ac.ready=="function"){try{ac.ready()}catch(bn){aP("Call ready failed",bn)}}}};var aA=function(){az=false;window.addEventListener("message",function(bm){if(p.checkOrigin(bm.origin)){bj(bm.data)}},false);ag("plugin:init")};var bj=function(bm){if(U&&bm!=null&&bm.type===ba){if(bm.init===1&&az){return}if(a.isNum(bm.state)){aB(a.strToNum(bm.state,au.state))}if(a.isNum(bm.position)){bg(a.strToNum(bm.position,au.position))}if(a.isNum(bm.speed)){aD(a.strToNum(bm.speed,au.speed))}if(a.isNum(bm.volume)){ad(false);aI(a.strToNum(bm.volume,au.volume))}if(a.isBool(bm.muted)){ad(a.strToBool(bm.muted,au.muted))}if(a.isNum(bm.width)&&a.isNum(bm.height)){aM(a.strToNum(bm.width,au.width),a.strToNum(bm.height,au.height))
}if(bm.init===1){aY()}else{if(bm.data!=null){if(a.isFullStr(bm.data.event)){aJ(bm.data)}else{V(bm.data)}}}}};var aj=function(bn){if(window.parent!=null&&bn!=null){bn.type=ba;bn.sender="plugin";bn.target="app";try{window.parent.postMessage(bn,"*")}catch(bm){if(window.console!=null){console.error("Post message failed",bm)}}}};this.setupPlayer=function(bm){ac=bm;if(U){a8(true)}if(az){aY(true)}};this.setSeekDelay=function(bm){ap.delay=a.strToNum(bm,ap.delay)};this.getSeekDelay=function(){return ap.delay};this.setLoadingDelay=function(bm){aW.delay=a.strToNum(bm,aW.delay)};this.getLoadingDelay=function(){return aW.delay};this.isFullscreenEnabled=function(bm){return aF(bm)};this.isFullscreenActive=function(bm){return ah(bm)};this.requestFullscreen=function(bm){return aw(bm)};this.exitFullscreen=function(bm){return a7(bm)};this.setState=function(bm,bn){if(az){au.state=a.strToNum(bm,au.state);if(bn===true){Z()}bl()}};this.getState=function(){return au.state};this.applyState=function(){if(az){aB(au.state,true)
}};this.setPosition=function(bn,bm){if(az){ai=true;au.position=a.strToNum(bn,au.position);if(!isFinite(au.position)){au.position=0}ap.stop();if(bm===true){Z();bl()}}};this.getPosition=function(){return au.position};this.applyPosition=function(){if(az){bg(au.position,true)}};this.setDuration=function(bm,bn){if(az){au.duration=a.strToNum(bm,au.duration);if(!isFinite(au.duration)){au.duration=0}if(bn===true){Z();bl()}}};this.getDuration=function(){return au.duration};this.setSpeed=function(bm,bn){if(az){au.speed=a.strToNum(bm,au.speed);if(bn===true){Z();bl()}}};this.getSpeed=function(){return au.speed};this.applySpeed=function(){if(az){aD(au.speed,true)}};this.setEnded=function(bm,bn){if(az){au.ended=a.strToBool(bm,au.ended);if(bn===true){Z();bl()}}};this.hasEnded=function(){return au.ended};this.setVolume=function(bn,bm){if(az){au.volume=a.strToNum(bn,au.volume);if(bm===true){Z();bl()}}};this.getVolume=function(){return au.volume};this.setMuted=function(bm,bn){if(az){au.muted=a.strToBool(bm,au.muted);
if(bn===true){Z();bl()}}};this.isMuted=function(){return au.muted};this.applyVolume=function(){if(az){aI(au.volume,true);ad(au.muted,true)}};this.getWidth=function(){return au.width};this.getHeight=function(){return au.height};this.applySize=function(){if(az){aM(au.width,au.height,true)}};this.executeAction=function(bm,bn){if(az){ag(bm,bn)}};this.debug=function(bn,bm){if(az){aC(bn,bm)}};this.success=function(bn,bm,bo){if(az){bh(bn,bm,bo)}};this.info=function(bn,bm,bo){if(az){bk(bn,bm,bo)}};this.warn=function(bn,bm,bo){if(az){bd(bn,bm,bo)}};this.error=function(bn,bm,bo){if(az){bi(bn,bm,bo)}};this.showMenu=function(bm){if(az){aQ(bm)}};this.showContent=function(bm){if(az){aZ(bm)}};this.showPanel=function(bm){if(az){aH(bm)}};this.showPlayer=function(bm){if(az){if(a.isFullStr(bm)){ag("player:show:"+bm)}else{ag("player:show")}}};this.showAction=function(){if(az){ag("player:action")}};this.hidePlayer=function(){if(az){ag("player:hide")}};this.setupContentLabel=function(bm){if(az){ag("player:label:content:"+a.strFullCheck(bm,"default"))
}};this.setupExtensionLabel=function(bm){if(az){ag("player:label:extension:"+a.strFullCheck(bm,"default"))}};this.setupPositionLabel=function(bm){if(az){ag("player:label:position:"+a.strFullCheck(bm,"default"))}};this.setupDurationLabel=function(bm){if(az){ag("player:label:duration:"+a.strFullCheck(bm,"default"))}};this.setupSpeedLabel=function(bm){if(az){ag("player:label:speed:"+a.strFullCheck(bm,"default"))}};this.setupInfoText=function(bm){if(az){ag("player:info:text:"+a.strFullCheck(bm,"default"))}};this.setupInfoImage=function(bm){if(az){ag("player:info:image:"+a.strFullCheck(bm,"default"))}};this.setupInfoOverlay=function(bm){if(az){ag("player:info:overlay:"+a.strFullCheck(bm,"default"))}};this.setupInfoSize=function(bm){if(az){ag("player:info:size:"+a.strFullCheck(bm,"default"))}};this.setupControlAction=function(bm){if(az){ag("player:control:action:"+a.strFullCheck(bm,"default"))}};this.setupButton=function(bm,bn){if(az&&a.isId(bm)){ag("player:button:"+bm+":setup",bn)}};this.enableButton=function(bm){if(az&&a.isId(bm)){ag("player:button:"+bm+":enable")
}};this.disableButton=function(bm){if(az&&a.isId(bm)){ag("player:button:"+bm+":disable")}};this.focusButton=function(bm){if(az&&a.isId(bm)){ag("player:button:"+bm+":focus")}};this.setupProgressPosition=function(bm){if(az){ag("player:progress:position:"+a.strToNum(bm,-1))}};this.setupProgressDuration=function(bm){if(az){ag("player:progress:duration:"+a.strToNum(bm,-1))}};this.setupProgressColor=function(bm){if(az){ag("player:progress:color:"+a.strFullCheck(bm,"default"))}};this.setupProgressType=function(bm){if(az){ag("player:progress:type:"+a.strFullCheck(bm,"default"))}};this.enableProgressMarker=function(){if(az){ag("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(az){ag("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(az){ag("player:progress:marker:invalidate")}};this.setupBackground=function(bm){if(az){ag("player:background:"+a.strFullCheck(bm,"default"))}};this.setupTrigger=function(bm,bn,bo){if(az&&a.isFullStr(bm)&&a.isFullStr(bn)){if(bo===true){ag("trigger:"+bm+":shot:"+bn)
}else{ag("trigger:"+bm+":"+bn)}}};this.clearTrigger=function(bm){if(az&&a.isFullStr(bm)){ag("trigger:"+bm+":none")}};this.refreshPlayer=function(){if(az){ag("player:refresh")}};this.resetPlayer=function(){if(az){ag("player:reset")}};this.cancelResume=function(){if(az){ag("resume:cancel")}};this.requestData=function(bm,bo,bn){if(az){aq(bm,bo,bn)}else{af(bo,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(bm,bo,bn){if(a.isFullStr(bm)){this.requestData("response:request:interaction:"+bm,bo,bn!=null?{requestData:bn}:null)}else{af(bo,{error:"Data ID is invalid: '"+bm+"'"})}};this.validateSettings=function(bm){b.invalidateSettings();this.requestData("info",function(bn){b.validateSettings(bn);af(bm,bn)})};this.onValidatedSettings=function(bm){if(!b.areSettingsValidated()&&!a0){a0=true;this.validateSettings(function(){a0=false})}b.onValidatedSettings(bm)};this.triggerEvent=function(bm,bn){if(az&&a.isFullStr(bm)){ag("event:"+bm,bn)}};this.setupSteam=function(bm){aT(bm)};this.createSteam=function(bm){return aG(bm)
};this.resolveToken=function(bm,bn){return aO(bm,bn)};this.transformString=function(bm,bn){return ab(bm,bn)};this.normalizeString=function(bm,bn){return aU(bm,bn)};this.transformStringAsync=function(bo,bp,bn){var bm=ab(bo,bp);if(a.isFullStr(bm)){this.requestData("string:transform:"+bm,function(bq){af(bn,{string:a.strFullCheck(bq.string,null)})})}else{af(bn,{string:null})}};this.normalizeStringAsync=function(bn,bo,bm){if(a.isFullStr(bn)){this.requestData("string:normalize:"+bn,function(bp){af(bm,{string:aU(bp.string,bo)})})}else{af(bm,{string:null})}};this.createHashKey=function(bm,bn){return p.createHashKey(bm,bn)};this.clearDeviceId=function(){p.clearDeviceId()};this.getDeviceId=function(bm){return p.getDeviceId(bm)};this.requestDeviceId=function(bm){this.requestData("info:extended",function(bn){if(bn.error!=null){af(bm,{error:bn.error})}else{af(bm,{deviceId:p.getDeviceId(bn)})}})};this.hasContentObservers=function(){return Y.hasObservers()};this.addContentObserver=function(bm,bn){Y.addObserver(bm,bn);
aE(bm)};this.removeContentObserver=function(bm){Y.removeObserver(bm);aE()};this.clearContentObservers=function(){Y.clear();aE()};this.init=function(){if(!U){aA();at();a8()}};this.commit=function(){if(az){Z();bl()}};this.isInitialized=function(){return U};this.isReady=function(){return az};this.startPlayback=function(bm){if(az){aB(I.PLAYING,true);Z();bl();if(bm===true){a1()}}};this.stopPlayback=function(){if(az){this.setEnded(true);aN()}};this.cancelPlayback=function(){if(az){ag("player:eject")}};this.startLoading=function(bm){if(az){if(ae){ag("player:busy:start:player")}else{if(!aW.isBusy()||bm!==false){aW.start(function(){ae=true;ag("player:busy:start:player")})}}}};this.stopLoading=function(){if(az){aW.stop();if(ae){ae=false;ag("player:busy:stop:player")}}};this.executeHandler=function(bm,bo){if(typeof bm=="function"){try{if(bo!=null){af(bo,bm())}else{bm()}}catch(bn){aP("Execute handler failed",bn);if(bo!=null){af(bo,null)}}}}};var H=new function(){var X="interactionPlugin";var aC="irq";
var ar=10;var aU=30000;var aj=new s("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");var ac=null;var ab=false;var aE=new r(1000);var aM=false;var au=false;var an=null;var aL=false;var aQ=null;var ak=function(aY){ac=new s(aY)};var av=function(aY){if(aM){if(aY=="local"){return ac!=null?ac.createSteam():null}return aj.createSteam()}return null};var V=function(aY,aZ){if(aM){if(aZ=="local"){return ac!=null?ac.resolveToken(aY):null}return aj.resolveToken(aY)}return null};var aF=function(aY,aZ){if(aM){if(aZ=="local"){return ac!=null?ac.transformString(aY):null}else{if(aZ=="global"){return aj.transformString(aY)}else{if(aZ=="shared"){return p.transformString(ac!=null?ac.transformString(aY):aY)}}}return aj.transformString(ac!=null?ac.transformString(aY):aY)}return null};var ai=function(aY,aZ){if(aM){if(aZ=="local"){return ac!=null?ac.normalizeString(aY):null}else{if(aZ=="global"){return aj.normalizeString(aY)
}else{if(aZ=="shared"){return ac!=null?ac.normalizeString(p.normalizeString(aY)):p.normalizeString(aY)}}}return ac!=null?ac.normalizeString(aj.normalizeString(aY)):aj.normalizeString(aY)}return null};var aV=0;var aP={};var ax=function(a0){aV++;var aY=aC+aV+"_"+K.getTimestamp();var aZ={timeout:new r(aU),callback:a0};aP[aY]=aZ;aZ.timeout.start(function(){az(aY,{error:"Request timed out"})});return aY};var az=function(aY,a0){if(aY!=null){var aZ=aP[aY];if(aZ!=null){aZ.timeout.stop();delete aP[aY];af(aZ.callback,a0)}}};var af=function(a0,aY){if(typeof a0=="function"){try{a0(aY)}catch(aZ){ap("Callback error",aZ)}}};var aT=new j();var ao=new r(500);var aA=null;var aH=null;var al=function(aY){if(aY!=null){if(b.isSameContentState(aA,aY)){if(!b.isSameContentState(aH,aY)){if(aH==null){aY.init=true}aH=b.createChangedContentState(aH,aY);aT.notifyObservers(aH)}}else{aA=aY}}am()};var aK=function(){if(aM){aw("info:content",function(aY){al(aY.info!=null&&aY.info.content!=null?aY.info.content.state:null)
})}else{am()}};var am=function(aY){if(aT.hasObservers()){if(a.isFullStr(aY)&&aH!=null){aT.notifyObserver(aY,aH)}ao.start(aK)}else{aA=null;aH=null;ao.stop()}};var ad=function(aY,aZ){if(a.isFullStr(aY)){ag({action:aY,data:aZ!=null?aZ:null})}};var aG=function(aZ,aY){if(a.isFullStr(aZ)){if(aY!==false){ad("logger:debug:"+aZ)}}};var aD=function(aZ,aY,a0){if(a.isFullStr(aZ)){if(aY!==false){ad("logger:success:"+aZ,{show:a0!==false})}else{if(a0!==false){ad("success:"+aZ)}}}};var aX=function(aZ,aY,a0){if(a.isFullStr(aZ)){if(aY!==false){ad("logger:info:"+aZ,{show:a0!==false})}else{if(a0!==false){ad("info:"+aZ)}}}};var aq=function(aZ,aY,a0){if(a.isFullStr(aZ)){if(aY!==false){ad("logger:warn:"+aZ,{show:a0!==false})}else{if(a0!==false){ad("warn:"+aZ)}}}};var ay=function(aZ,aY,a0){if(a.isFullStr(aZ)){if(aY!==false){ad("logger:error:"+aZ,{show:a0!==false})}else{if(a0!==false){ad("error:"+aZ)}}}};var Z=function(aY,aZ){if(a.isFullStr(aY)&&aZ!=null){if(typeof aZ=="object"){ad(aY+":data",aZ)}else{ad(aY+":"+aZ)
}}};var aO=function(aY){Z("menu",aY)};var ah=function(aY){Z("content",aY)};var ae=function(aY){Z("panel",aY)};var aw=function(aY,a0,aZ){if(a.isFullStr(aY)){if(aZ==null){aZ={}}aZ.requestId=ax(a0);aZ.dataId=aY;ad("interaction:commit:"+aY,aZ)}else{af(a0,{error:"Data ID is invalid: '"+aY+"'"})}};var ap=function(aY,aZ){if(aY!=null&&aZ!=null){if(aZ.name!=null&&aZ.message!=null){ay("Interaction: "+aY+": "+aZ.name+": "+aZ.message)}else{ay("Interaction: "+aY+": "+aZ)}if(an!=null&&typeof an.onError=="function"){try{an.onError(aY,aZ)}catch(a0){}}}};var aJ=function(aY,aZ){ad("response:"+aY,aZ)};var at=function(aY,aZ){az(aY,aZ)};var U=function(aZ,aY,a1){if(typeof an.handleRequest=="function"){try{an.handleRequest(aY,a1,function(a2){aJ(aZ,a2)})}catch(a0){ap("Handle request failed",a0);aJ(aZ)}}else{aJ(aZ)}};var aW=function(aZ){if(aM&&aZ!=null&&an!=null){if(typeof an.handleEvent=="function"){try{an.handleEvent(aZ)}catch(aY){ap("Handle event failed",aY)}}}};var aB=function(a2){if(aM&&a2!=null&&an!=null){if(a.isFullStr(a2.requestId)&&a.isFullStr(a2.dataId)){U(a2.requestId,a2.dataId,a2.data)
}else{if(a2.data!=null&&a.isFullStr(a2.data.requestId)&&a.isFullStr(a2.data.dataId)){var aZ={};var a1=a2.data.dataId;var aY=a1.indexOf(":");if(aY>0){a1=a1.substr(0,aY)}aZ[a1]=a2[a1]!=null?a2[a1]:null;aZ.error=a.strFullCheck(a2.error,null);at(a2.data.requestId,aZ)}else{if(typeof an.handleData=="function"){try{an.handleData(a2)}catch(a0){ap("Handle data failed",a0)}}}}}};var aR=function(aY){aQ=aY!=null&&aY.length>0?aY:null};var aa=function(){if(aQ!=null&&aQ.length>0){for(var aY=0;aY<aQ.length;aY++){aB(aQ[aY])}}aQ=null};var aS=function(aY){if(aM&&aY!=null){if(aQ==null){aQ=[]}if(aQ.length>=ar){aQ.shift()}aQ.push(aY)}};var Y=function(aY){if(!au||aY===true){au=true;if(an!=null&&typeof an.init=="function"){try{an.init()}catch(aZ){ap("Call init failed",aZ)}}}};var aN=function(aY){if(!aM||aY===true){aM=true;if(an!=null&&typeof an.ready=="function"){try{an.ready()}catch(aZ){ap("Call ready failed",aZ)}}if(an!=null){aa()}}};var aI=function(){aM=false;window.addEventListener("message",function(aY){if(p.checkOrigin(aY.origin)){W(aY.data)
}},false);ad("interaction:init")};var W=function(aY){if(au&&aY!=null&&aY.type===X){if(aY.init===1&&aM){return}if(aY.init===1){aR(aY.data);aN()}else{if(aY.data!=null){if(a.isFullStr(aY.data.event)){aW(aY.data)}else{if(an!=null){aB(aY.data)}else{aS(aY.data)}}}}}};var ag=function(aZ){if(window.parent!=null&&aZ!=null){aZ.type=X;aZ.sender="plugin";aZ.target="app";try{window.parent.postMessage(aZ,"*")}catch(aY){if(window.console!=null){console.error("Post message failed",aY)}}}};this.setupHandler=function(aY){an=aY;if(au){Y(true)}if(aM){aN(true)}};this.setLoadingDelay=function(aY){aE.delay=a.strToNum(aY,aE.delay)};this.getLoadingDelay=function(){return aE.delay};this.executeAction=function(aY,aZ){if(aM){ad(aY,aZ)}};this.debug=function(aZ,aY){if(aM){aG(aZ,aY)}};this.success=function(aZ,aY,a0){if(aM){aD(aZ,aY,a0)}};this.info=function(aZ,aY,a0){if(aM){aX(aZ,aY,a0)}};this.warn=function(aZ,aY,a0){if(aM){aq(aZ,aY,a0)}};this.error=function(aZ,aY,a0){if(aM){ay(aZ,aY,a0)}};this.showMenu=function(aY){if(aM){aO(aY)
}};this.showContent=function(aY){if(aM){ah(aY)}};this.showPanel=function(aY){if(aM){ae(aY)}};this.requestData=function(aY,a0,aZ){if(aM){aw(aY,a0,aZ)}else{af(a0,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(aY,a0,aZ){if(a.isFullStr(aY)){this.requestData("response:request:player:"+aY,a0,aZ!=null?{requestData:aZ}:null)}else{af(a0,{error:"Data ID is invalid: '"+aY+"'"})}};this.validateSettings=function(aY){b.invalidateSettings();this.requestData("info",function(aZ){b.validateSettings(aZ);af(aY,aZ)})};this.onValidatedSettings=function(aY){if(!b.areSettingsValidated()&&!aL){aL=true;this.validateSettings(function(){aL=false})}b.onValidatedSettings(aY)};this.triggerEvent=function(aY,aZ){if(aM&&a.isFullStr(aY)){ad("event:"+aY,aZ)}};this.setupSteam=function(aY){ak(aY)};this.createSteam=function(aY){return av(aY)};this.resolveToken=function(aY,aZ){return V(aY,aZ)};this.transformString=function(aY,aZ){return aF(aY,aZ)};this.normalizeString=function(aY,aZ){return ai(aY,aZ)};this.transformStringAsync=function(a0,a1,aZ){var aY=aF(a0,a1);
if(a.isFullStr(aY)){this.requestData("string:transform:"+aY,function(a2){af(aZ,{string:a.strFullCheck(a2.string,null)})})}else{af(aZ,{string:null})}};this.normalizeStringAsync=function(aZ,a0,aY){if(a.isFullStr(aZ)){this.requestData("string:normalize:"+aZ,function(a1){af(aY,{string:ai(a1.string,a0)})})}else{af(aY,{string:null})}};this.createHashKey=function(aY,aZ){return p.createHashKey(aY,aZ)};this.clearDeviceId=function(){p.clearDeviceId()};this.getDeviceId=function(aY){return p.getDeviceId(aY)};this.requestDeviceId=function(aY){this.requestData("info:extended",function(aZ){if(aZ.error!=null){af(aY,{error:aZ.error})}else{af(aY,{deviceId:p.getDeviceId(aZ)})}})};this.hasContentObservers=function(){return aT.hasObservers()};this.addContentObserver=function(aY,aZ){aT.addObserver(aY,aZ);am(aY)};this.removeContentObserver=function(aY){aT.removeObserver(aY);am()};this.clearContentObservers=function(){aT.clear();am()};this.init=function(){if(!au){aI();Y()}};this.isInitialized=function(){return au
};this.isReady=function(){return aM};this.startLoading=function(aY){if(aM){if(ab){ad("interaction:busy:start:interaction")}else{if(!aE.isBusy()||aY!==false){aE.start(function(){ab=true;ad("interaction:busy:start:interaction")})}}}};this.stopLoading=function(){if(aM){aE.stop();if(ab){ab=false;ad("interaction:busy:stop:interaction")}}};this.executeHandler=function(aY,a0){if(typeof aY=="function"){try{if(a0!=null){af(a0,aY())}else{aY()}}catch(aZ){ap("Execute handler failed",aZ);if(a0!=null){af(a0,null)}}}}};return{Settings:n,Styles:o,Tools:a,DateTools:K,DateFormatter:Q,PropertyTools:O,VideoState:I,Action:g,Cookies:x,Storage:e,UrlParams:T,Options:f,Observers:j,EventObservers:S,Queue:G,Worker:d,Delay:r,Click:M,Ajax:m,LogLevel:w,Logger:E,Dictionary:t,Clock:k,DataLoader:D,Services:J,DataService:L,BlobService:v,RequestService:F,BusyService:c,Effects:h,AnimationController:N,ColorTools:A,Transit:q,Particles:R,Drawing:u,Renderer:l,ElementTools:z,ImageTools:y,ItemTools:C,StyleTools:B,PluginTools:b,VideoPlugin:P,InteractionPlugin:H}
}));