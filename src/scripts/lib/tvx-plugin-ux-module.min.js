/*
 * TVX Plugin UX v0.0.67 (Module)
 * (c) 2023 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define(["jquery"],b)}else{if(typeof module=="object"&&module.exports){module.exports=b(require("jquery"))}else{a.tvx=b(a.jQuery)}}}(this,function(k){var p={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.30",SUFFIX:null,DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",AFK_DELAY:8000,SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ID:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,LEAVE:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,SUSPEND:0,SECURE:0,APP:null};var q={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_CURSOR_OFF:"tvx-cursor-off",CLASS_IMMERSIVE:"tvx-immersive",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameborder='0' scrolling='no' allowfullscreen='true' allow='autoplay *;encrypted-media *;fullscreen *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
var a=new function(){var ai=/\\/g;var aw=/"/g;var ak=/'/g;var aR=/\n/g;var aO=/\r/g;var ag=/\r\n/g;var aM=/\t/g;var ap=/\s/g;var at=/-/g;var au=/^[A-Za-z0-9._-]+$/;var aE=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var aL=/"(\\.|[^"\\])*"/g;var aN=/^\s+|\s+$/g;var aP=/^#?[A-Za-z0-9]+$/;var ax=/\s{0,}>\s{0,}/g;var az=/\s{0,}\/>/g;var ay=/\s{0,}<\s{0,}/g;var aB=aR;var aA=aO;var aD=/\s{2,}/g;var ac=/&/g;var ao=aw;var ah=ak;var av=/</g;var am=/>/g;var aH=/&quot;/g;var aG=/&#39;/g;var aF=/&lt;/g;var aK=/&gt;/g;var aJ=/&amp;/g;var ad=/\+/g;var af=/\//g;var ae=/=/g;var aj=/[^A-Za-z0-9\+\/\=]/g;var al=at;var aC=/_/g;var aS=/,/g;var aq=/\./g;var an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var ar=window.location.protocol==="https:";var aQ=function(aT,aV){if(aT&&aV){var aU=window.location.pathname;aU=aU.substring(0,aU.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+aU}else{if(aT){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"
};var aI=function(aT){return aT!=null?aT.replace(ai,"\\\\").replace(aw,'\\"').replace(aR,"\\n"):""};this.createVersion=function(aV){if(this.isFullStr(aV)){var aX=aV.split(".");if(aX.length==3){var aU=this.strToNum(aX[0],-1);var aT=this.strToNum(aX[1],-1);var aW=this.strToNum(aX[2],-1);if(aU>=0&&aT>=0&&aW>=0){return{major:aU,minor:aT,patch:aW}}}}return null};this.checkVersion=function(aW,aV){var aU=this.createVersion(aV);if(aU!=null){var aT=this.createVersion(aW);if(aT!=null){if(aT.major==aU.major){if(aT.minor==aU.minor){return aT.patch>=aU.patch}return aT.minor>aU.minor}return aT.major>aU.major}return false}return true};this.createKey=function(aX,aV){if(aX==null){aX=4}if(aV==null){aV=10}var aU="";for(var aW=0;aW<aX;aW++){var aT=0;if(aV==0){aT=Math.round(Math.random()*9)}else{if(aV==1){aT=10+Math.round(Math.random()*51)}else{if(aV==2){aT=10+Math.round(Math.random()*25)}else{if(aV==3){aT=36+Math.round(Math.random()*25)}else{aT=Math.round(Math.random()*61)}}}}if(aT>=0&&aT<=9){aU+=""+aT}if(aT>=10&&aT<=35){aU+=String.fromCharCode(aT+55)
}if(aT>=36&&aT<=61){aU+=String.fromCharCode(aT+61)}}return aU};this.isFullStr=function(aT){return aT!=null&&typeof aT=="string"&&aT.length>0};this.isBool=function(aT){if(aT!=null&&typeof aT=="boolean"){return true}return this.isFullStr(aT)};this.isNum=function(aT){if(aT!=null&&typeof aT=="number"){return true}return this.isFullStr(aT)&&isFinite(aT)};this.isArray=function(aT){if(aT!=null){return Array.isArray(aT)}return false};this.isEmpty=function(aU){if(aU!=null){if(typeof aU=="string"){return aU.length==0}var aT;for(aT in aU){return false}}return true};this.isValid=function(aU,aT){if(aU!=null){if(aT===true){if(typeof aU=="string"){return aU.length>0}}return true}return false};this.isId=function(aT){return this.isFullStr(aT)&&au.test(aT)};this.isJson=function(aT){return this.isFullStr(aT)&&!aE.test(aT.replace(aL,""))};this.isHttpUrl=function(aT){return this.isFullStr(aT)&&(aT.indexOf("http://")==0||aT.indexOf("https://")==0)};this.strValue=function(aT){if(aT!=null){if(typeof aT=="string"){return aT
}else{return""+aT}}return null};this.strFullCheck=function(aU,aT){return this.isFullStr(aU)?aU:aT};this.strTrim=function(aT){return this.isFullStr(aT)?aT.replace(aN,""):""};this.strClear=function(aT){return this.isFullStr(aT)?aT.replace(ap,""):""};this.strFlatten=function(aT){return this.isFullStr(aT)?aT.replace(aB," ").replace(aA," ").replace(aD," "):""};this.strTruncate=function(aT,aU){return this.isFullStr(aT)&&aU>0&&aT.length>aU?aT.substr(0,aU)+"...":aT};this.strShuffle=function(aT){return this.isFullStr(aT)?aT.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(aU,aV,aT){if(this.isFullStr(aU)&&this.isFullStr(aV)){return aU.replace(aV,function(){return aT!=null?aT:""})}return aU};this.strReplaceMap=function(aU,aV){if(this.isFullStr(aU)&&aV!=null){for(var aT in aV){aU=this.strReplace(aU,aT,aV[aT])}}return aU};this.strToBool=function(aU,aT){if(aU!=null&&typeof aU=="boolean"){return aU}return this.isFullStr(aU)?aU=="true":aT};this.strToNum=function(aU,aT){if(aU!=null&&typeof aU=="number"){return aU
}return this.isFullStr(aU)&&isFinite(aU)?aU*1:aT};this.strToAction=function(aT){return this.isFullStr(aT)?aT.toUpperCase().replace(at,"_"):""};this.strToJsonStr=function(aT){return this.isFullStr(aT)?aI(aT):""};this.strToUrlStr=function(aT){return this.isFullStr(aT)?encodeURIComponent(aT):""};this.strContainsToken=function(aV,aW,aT,aX){if(this.isFullStr(aV)&&this.isFullStr(aW)){var aU=aV.indexOf(aW);if(aT==null){aT=0}if(aX==null){aX=aV.length}return aU>=aT&&aU<aX}return false};this.strCountToken=function(aW,aX,aU,aY){var aT=0;if(this.isFullStr(aW)&&this.isFullStr(aX)){var aV=0;if(aU!=null&&aU>=0){aV=aU}while(aV>=0&&aV<aW.length){aV=aW.indexOf(aX,aV);if(aV>=0){aV+=aX.length;if(aY==null||aV<aY){aT++}}}}return aT};this.htmlTrim=function(aT){return this.isFullStr(aT)?this.strTrim(aT.replace(ax,">").replace(az,"/>").replace(ay,"<").replace(aB," ").replace(aA," ").replace(aD," ")):""};this.htmlEscape=function(aT){return this.isFullStr(aT)?aT.replace(ac,"&amp;").replace(ao,"&quot;").replace(ah,"&#39;").replace(av,"&lt;").replace(am,"&gt;"):""
};this.htmlUnescape=function(aT){return this.isFullStr(aT)?aT.replace(aH,'"').replace(aG,"'").replace(aF,"<").replace(aK,">").replace(aJ,"&"):""};this.htmlAttrEscape=function(aT){return this.isFullStr(aT)?aT.replace(ao,"&quot;").replace(ah,"&#39;"):""};this.htmlAttrUnescape=function(aT){return this.isFullStr(aT)?aT.replace(aH,'"').replace(aG,"'"):""};this.htmlTextEscape=function(aT){return this.isFullStr(aT)?this.htmlEscape(aT).replace(aR,q.COMMON.HTML.BREAK).replace(aM,q.COMMON.HTML.TAB):""};this.htmlCharacter=function(aT){return this.isFullStr(aT)&&aP.test(aT)?"&"+aT+";":""};this.base64Encode=function(a1){var aW="";if(this.isFullStr(a1)){var a2,aX,aZ;var aV,a0,aU,aY;var aT=0;a1=this.utf8Encode(a1);while(aT<a1.length){a2=a1.charCodeAt(aT++);aX=a1.charCodeAt(aT++);aZ=a1.charCodeAt(aT++);aV=a2>>2;a0=((a2&3)<<4)|(aX>>4);aU=((aX&15)<<2)|(aZ>>6);aY=aZ&63;if(isNaN(aX)){aU=aY=64}else{if(isNaN(aZ)){aY=64}}aW+=an.charAt(aV)+an.charAt(a0)+an.charAt(aU)+an.charAt(aY)}}return aW};this.base64EncodeUrl=function(aT){return this.isFullStr(aT)?this.base64Encode(aT).replace(ad,"-").replace(af,"_").replace(ae,","):""
};this.base64EncodeId=function(aT){return this.isFullStr(aT)?this.base64Encode(aT).replace(ad,"-").replace(af,"_").replace(ae,"."):""};this.base64Decode=function(a1){var aW="";if(this.isFullStr(a1)){var a2,aX,aZ;var aV,a0,aU,aY;var aT=0;a1=a1.replace(aj,"");while(aT<a1.length){aV=an.indexOf(a1.charAt(aT++));a0=an.indexOf(a1.charAt(aT++));aU=an.indexOf(a1.charAt(aT++));aY=an.indexOf(a1.charAt(aT++));a2=(aV<<2)|(a0>>4);aX=((a0&15)<<4)|(aU>>2);aZ=((aU&3)<<6)|aY;aW+=String.fromCharCode(a2);if(aU!=64){aW+=String.fromCharCode(aX)}if(aY!=64){aW+=String.fromCharCode(aZ)}}}return this.utf8Decode(aW)};this.base64DecodeUrl=function(aT){return this.isFullStr(aT)?this.base64Decode(aT.replace(al,"+").replace(aC,"/").replace(aS,"=")):""};this.base64DecodeId=function(aT){return this.isFullStr(aT)?this.base64Decode(aT.replace(al,"+").replace(aC,"/").replace(aq,"=")):""};this.utf8Encode=function(aW){var aU="";if(this.isFullStr(aW)){aW=aW.replace(ag,"\n");for(var aT=0;aT<aW.length;aT++){var aV=aW.charCodeAt(aT);
if(aV<128){aU+=String.fromCharCode(aV)}else{if((aV>127)&&(aV<2048)){aU+=String.fromCharCode((aV>>6)|192);aU+=String.fromCharCode((aV&63)|128)}else{aU+=String.fromCharCode((aV>>12)|224);aU+=String.fromCharCode(((aV>>6)&63)|128);aU+=String.fromCharCode((aV&63)|128)}}}}return aU};this.utf8Decode=function(aX){var aU="";if(this.isFullStr(aX)){var aY=0;var aV,aW,aZ,aT;aV=aW=aZ=aT=0;while(aY<aX.length){aV=aX.charCodeAt(aY);if(aV<128){aU+=String.fromCharCode(aV);aY++}else{if((aV>191)&&(aV<224)){aZ=aX.charCodeAt(aY+1);aU+=String.fromCharCode(((aV&31)<<6)|(aZ&63));aY+=2}else{aZ=aX.charCodeAt(aY+1);aT=aX.charCodeAt(aY+2);aU+=String.fromCharCode(((aV&15)<<12)|((aZ&63)<<6)|(aT&63));aY+=3}}}}return aU};this.createHash=function(aV,aU){var aT=0;if(this.isFullStr(aV)){if(aU===true){for(var aW=aV.length;aW>=0;aW--){aT=((aT<<5)-aT)+aV.charCodeAt(aW);aT&=aT}}else{for(var aW=0;aW<aV.length;aW++){aT=((aT<<5)-aT)+aV.charCodeAt(aW);aT&=aT}}}return aT};this.serialize=function(aT,aX){if(aT===undefined){return null
}if(aT===null){if(aX!=null){return'"'+aX+'":null'}else{return"null"}}var aY=null;var aV=typeof aT;if(Array.isArray(aT)){aY="[";var aW=0;for(var a0=0;a0<aT.length;a0++){var aU=this.serialize(aT[a0]);if(aU!=null){if(aW>0){aY+=","}aY+=aU;aW++}}aY+="]"}else{if(aV=="object"){aY="{";var aW=0;for(var aZ in aT){var aU=this.serialize(aT[aZ],aZ);if(aU!=null){if(aW>0){aY+=","}aY+=aU;aW++}}aY+="}"}else{if(aV=="string"){aY='"'+aI(aT)+'"'}else{if(aV=="number"||aV=="boolean"){aY=""+aT}}}}if(aY!=null){if(aX!=null){return'"'+aX+'":'+aY}else{return aY}}return null};this.deserialize=function(aT){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(aT)?JSON.parse(aT):null}else{return this.isJson(aT)?new Function("return "+aT)():null}}catch(aU){return null}};this.isSecureContext=function(){return ar};this.secureUrl=function(aT){return this.isFullStr(aT)?aT.replace("http://","https://"):aT};this.getPrefixUrl=function(aT){return aQ(false,false)+this.strFullCheck(aT,"")};this.getHostUrl=function(aT){return aQ(true,false)+"/"+this.strFullCheck(aT,"")
};this.getPathUrl=function(aT){return aQ(true,true)+"/"+this.strFullCheck(aT,"")};this.getAbsoluteUrl=function(aT){if(this.isFullStr(aT)&&!this.isHttpUrl(aT)){if(aT.indexOf("/")==0){return aQ(true,false)+aT}else{return aQ(true,true)+"/"+aT}}return aT};this.getRootPath=function(aT,aX){if(this.isFullStr(aT)){var aW=window.location.pathname;var aV=aW.indexOf(aT);if(aV>0){var aU=aW.substr(0,aV);if(aX===true){if(aU.indexOf("/")==0){aU=aU.substr(1)}if(aU.lastIndexOf("/")==aU.length-1){aU=aU.substr(0,aU.length-1)}}else{if(aU.indexOf("/")!=0){aU="/"+aU}if(aU.lastIndexOf("/")!=aU.length-1){aU+="/"}}return aU}}return aX===true?"":"/"};this.exprEscape=function(a0,aZ,a5,a6,a1,a4,aW){if(this.isFullStr(a0)&&typeof a6=="function"){if(this.isFullStr(aZ)&&this.isFullStr(a5)&&typeof a1=="function"){if(a0.indexOf(aZ)>=0&&a0.indexOf(a5)>=0){var aT="";var aU=aZ.length;var aY=a5.length;var a2=a0.length;var a3=0;var aX=0;var aV=0;while(aX>=0){aX=a0.indexOf(aZ,a3);if(aX>=0){aV=a0.indexOf(a5,aX);if(aV>0){if(a3<aX){aT+=a6(a0.substring(a3,aX),aW)
}if(aX+aU<aV){aT+=a1(a0.substring(aX+aU,aV),aW)}a3=aV+aY}else{a3=aX;break}}}if(a3<a2){aT+=a6(a0.substring(a3,a2),aW)}if(typeof a4=="function"){aT+=a4(aW)}return aT}}return a6(a0,aW)}return""}};var P=new function(){var ah="h:mm/ampm";var am="h:mm:ss/ampm";var ac="mm/dd/yy";var af="MM d, yyyy";var an="D mm/dd";var ad="D mm/dd/yyyy";var aj="DD, MM d, yyyy";var ae=", ";var av=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var al=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var au=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ao=["January","February","March","April","May","June","July","August","September","October","November","December"];var ap=" AM";var aw=" PM";var ar=" day";var aq=" days";var ak=" hr";var ai=" min";var ag=" sec";var at=function(ay){var aA=ay%10;var az=ay%100;if(aA==1&&az!=11){return"st"}if(aA==2&&az!=12){return"nd"}if(aA==3&&az!=13){return"rd"}return"th"};var ax=function(aA,aB,ay){if(aB.length==ay){for(var az=0;az<ay;
az++){aA[az]=a.strTrim(aB[az])}}};this.applyDictionary=function(aC){if(aC!=null){ah=aC.getValueForKey("format:time",ah);am=aC.getValueForKey("format:long_time",am);ac=aC.getValueForKey("format:date",ac);af=aC.getValueForKey("format:long_date",af);an=aC.getValueForKey("format:day",an);ad=aC.getValueForKey("format:long_day",ad);aj=aC.getValueForKey("format:full_day",aj);ae=aC.getValueForKey("format:separator",ae);ap=aC.getValueForKey("unit:am",ap);aw=aC.getValueForKey("unit:pm",aw);ar=aC.getValueForKey("unit:day",ar);aq=aC.getValueForKey("unit:days",aq);ak=aC.getValueForKey("unit:hours",ak);ai=aC.getValueForKey("unit:minutes",ai);ag=aC.getValueForKey("unit:seconds",ag);var aB=aC.getValueForKey("list:day_names","").split(",");var az=aC.getValueForKey("list:day_long_names","").split(",");var ay=aC.getValueForKey("list:month_names","").split(",");var aA=aC.getValueForKey("list:month_long_names","").split(",");ax(av,aB,av.length);ax(al,az,al.length);ax(au,ay,au.length);ax(ao,aA,ao.length)}};this.getTimestamp=function(){return new Date().getTime()
};this.getNow=function(){var ay=new Date();if(p.DUMMY_DATE!=null){ay=new Date(p.DUMMY_DATE.getFullYear(),p.DUMMY_DATE.getMonth(),p.DUMMY_DATE.getDate(),ay.getHours(),ay.getMinutes(),ay.getSeconds())}if(p.TIME_OFFSET!=null&&p.TIME_OFFSET!=0){if(p.TIME_ZONE_OFFSET!=null&&p.TIME_ZONE_OFFSET!=0){return new Date(ay.getTime()+p.TIME_OFFSET+p.TIME_ZONE_OFFSET)}else{return new Date(ay.getTime()+p.TIME_OFFSET)}}else{if(p.TIME_ZONE_OFFSET!=null&&p.TIME_ZONE_OFFSET!=0){return new Date(ay.getTime()+p.TIME_ZONE_OFFSET)}}return ay};this.getFormatSeparator=function(){return ae};this.getFormattedDateStr=function(aO,aM,ay,aJ,aL){var aB=0;var aC=0;var aK=0;var aD=0;var aF=0;if(aO==null){aO=new Date(ay,aJ,aL)}if(typeof aO=="number"){aO=new Date(aO)}aB=aO.getDate();aC=aO.getDay();aK=aO.getMonth()+1;aD=aO.getMonth();aF=aO.getYear()+1900;var aP=aM.replace("ddd",aB+at(aB)).replace("dd",(aB<10?"0":"")+aB).replace("mm",((aK<10)?"0":"")+aK).replace("yyyy",aF).replace("d",aB).replace("m",aK).replace("yy",(""+aF).substring(2,4));
var aA=aP.indexOf("D");var aI=aP.indexOf("DD");var aH=aP.indexOf("M");var az=aP.indexOf("MM");if(aI>=0&&aH<0){return aP.replace("DD",al[aC])}else{if(aA>=0&&aH<0){return aP.replace("D",av[aC])}else{if(az>=0&&aA<0){return aP.replace("MM",ao[aD])}else{if(aH>=0&&aA<0){return aP.replace("M",au[aD])}else{if(aA>=0&&aH>=0){var aE=null;var aN=null;var aG=null;if(aI>=0){aE=aP.substring(0,aI);aN=al[aC];aG=aP.substring(aI+2,aP.length)}else{if(aA>=0){aE=aP.substring(0,aA);aN=av[aC];aG=aP.substring(aA+1,aP.length)}}if(aA>aH){if(aE.indexOf("MM")>=0){aE=aE.replace("MM",ao[aD])}else{if(aE.indexOf("M")>=0){aE=aE.replace("M",au[aD])}}}else{if(aG.indexOf("MM")>=0){aG=aG.replace("MM",ao[aD])}else{if(aG.indexOf("M")>=0){aG=aG.replace("M",au[aD])}}}return aE+aN+aG}}}}}return aP};this.getDayStr=function(aA,az,ay,aB){return this.getFormattedDateStr(aA,an,az,ay,aB)};this.getDayLongStr=function(aA,az,ay,aB){return this.getFormattedDateStr(aA,ad,az,ay,aB)};this.getDayFullStr=function(aA,az,ay,aB){return this.getFormattedDateStr(aA,aj,az,ay,aB)
};this.getDateStr=function(aA,az,ay,aB){return this.getFormattedDateStr(aA,ac,az,ay,aB)};this.getDateLongStr=function(aA,az,ay,aB){return this.getFormattedDateStr(aA,af,az,ay,aB)};this.getFormattedTimeStr=function(aA,aG,aH,aB,aC){var aF=0;var aD=0;var ay=0;if(aA==null){aF=aH!=null?aH*1:0;aD=aB!=null?aB*1:0;ay=aC!=null?aC*1:0}else{if(typeof aA=="number"){aA=new Date(aA)}aF=aA.getHours();aD=aA.getMinutes();ay=aA.getSeconds()}var aE=null;var az=aG.indexOf("/ampm");if(az>0){aG=aG.substr(0,az);aE=ap;if(aF>12){aE=aw;aF-=12}}return aG.replace("hh",(aF<10?"0":"")+aF).replace("mm",(aD<10?"0":"")+aD).replace("ss",(ay<10?"0":"")+ay).replace("h",aF).replace("m",aD).replace("s",ay)+(aE!=null?aE:"")};this.getTimeStr=function(aA,aB,ay,az){return this.getFormattedTimeStr(aA,ah,aB,ay,az)};this.getTimeLongStr=function(aA,aB,ay,az){return this.getFormattedTimeStr(aA,am,aB,ay,az)};this.getRecordingStr=function(ay){if(typeof ay=="number"){ay=new Date(ay)}return this.getDayLongStr(ay)+ae+this.getTimeStr(ay)};
this.getFormattedDurationStr=function(az,aC){var ay=Math.floor(az/3600000);var aB=Math.floor((az%3600000)/60000);var aA=Math.floor((az%60000)/1000);aC=a.exprEscape(aC,"[","]",function(aD){return aD},function(aD){if(aD.indexOf("h")==0||aD.indexOf("H")==0){return ay>0?aD:""}else{if(aD.indexOf("m")==0||aD.indexOf("M")==0){return ay>0||aB>0?aD:""}else{if(aD.indexOf("s")==0||aD.indexOf("S")==0){return ay>0||aB>0||aA>0?aD:""}}}});return aC.replace("H","h").replace("M",(ay>0?"mm":"m")).replace("S",(ay>0||aB>0?"ss":"s")).replace("hh",(ay<10?"0":"")+ay).replace("mm",((aB<10)?"0":"")+aB).replace("ss",((aA<10)?"0":"")+aA).replace("h",ay).replace("m",aB).replace("s",aA)};this.getDurationStr=function(aD,aO){if(aO==null){aO="dhms"}var aN=aO.indexOf("D")!=-1;var aG=aO.indexOf("H")!=-1;var aK=aO.indexOf("M")!=-1;var aM=aO.indexOf("S")!=-1;aO=aO.toLowerCase();var aJ=aO.indexOf("d")!=-1;var aB=aO.indexOf("h")!=-1;var ay=aO.indexOf("m")!=-1;var aA=aO.indexOf("s")!=-1;if(aO.indexOf("~")==0){if(aD<60000){if(aA){aO="s"
}}else{if(aD<3600000){if(ay){aO="m"}else{if(aA){aO="s"}}}else{if(aD<86400000){if(aB){aO="h"}else{if(ay){aO="m"}else{if(aA){aO="s"}}}}else{if(aJ){aO="d"}else{if(aB){aO="h"}else{if(ay){aO="m"}else{if(aA){aO="s"}}}}}}}}if(aO=="d"){var aH=Math.round(aD/86400000);return aH==1?aH+ar:aH+aq}if(aO=="h"){return Math.round(aD/3600000)+ak}if(aO=="m"){return Math.round(aD/60000)+ai}if(aO=="s"){return Math.round(aD/1000)+ag}var aC=aD;var aL=aB||ay||aA;var aH=aJ?(aL?Math.floor(aC/86400000):Math.ceil(aC/86400000)):0;if(aJ){aC=aD%86400000}aL=ay||aA;var aI=aB?(aL?Math.floor(aC/3600000):Math.ceil(aC/3600000)):0;if(aB){aC=aD%3600000}aL=aA;var aE=ay?(aL?Math.floor(aC/60000):Math.ceil(aC/60000)):0;if(ay){aC=aD%60000}var az=aA?Math.floor(aC/1000):0;var aF="";if(aJ&&(aH>0||aN)){aF+=aH+(aH==1?ar:aq)}if(aB&&(aI>0||aG)){if(aF.length>0){aF+=" "}aF+=aI+ak}if(ay&&(aE>0||aK)){if(aF.length>0){aF+=" "}aF+=aE+ai}if(aA&&(az>0||aM)){if(aF.length>0){aF+=" "}aF+=az+ag}if(aA&&aF.length==0){return az+ag}if(ay&&aF.length==0){return aE+ai
}if(aB&&aF.length==0){return aI+ak}return aF};this.getVideoStr=function(aA,aB){if(aB==null){aB=3}var az=aB>2?Math.floor(aA/3600000):0;var aC=aB>1?Math.floor((aA%3600000)/60000):0;var ay=aB>0?Math.floor(aA%60000/1000):0;if(aB>2){return(az<10?"0":"")+az+":"+(aC<10?"0":"")+aC+":"+(ay<10?"0":"")+ay}else{if(aB>1){return(aC<10?"0":"")+aC+":"+(ay<10?"0":"")+ay}else{if(aB>0){return(ay<10?"0":"")+ay}}}return""}};var Y=new function(){this.toTimeStr=function(ac){return P.getTimeStr(ac)};this.toTimeLongStr=function(ac){return P.getTimeLongStr(ac)};this.toTimeDayStr=function(ac){return P.getFormattedDateStr(ac,"D")+P.getFormatSeparator()+P.getTimeStr(ac)};this.toTimeDayLongStr=function(ac){return P.getFormattedDateStr(ac,"D")+P.getFormatSeparator()+P.getTimeLongStr(ac)};this.toDayStr=function(ac){return P.getDayStr(ac)};this.toDayLongStr=function(ac){return P.getDayLongStr(ac)};this.toDayFullStr=function(ac){return P.getDayFullStr(ac)};this.toDateStr=function(ac){return P.getDateStr(ac)};this.toDateLongStr=function(ac){return P.getDateLongStr(ac)
};this.toRecordingStr=function(ac){return P.getRecordingStr(ac)};this.toDayTimeStr=function(ac){return P.getDayStr(ac)+P.getFormatSeparator()+P.getTimeStr(ac)};this.toDayTimeLongStr=function(ac){return P.getDayLongStr(ac)+P.getFormatSeparator()+P.getTimeStr(ac)};this.toDayTimeFullStr=function(ac){return P.getDayFullStr(ac)+P.getFormatSeparator()+P.getTimeStr(ac)};this.toDateTimeStr=function(ac){return P.getDateStr(ac)+P.getFormatSeparator()+P.getTimeStr(ac)};this.toDateTimeLongStr=function(ac){return P.getDateLongStr(ac)+P.getFormatSeparator()+P.getTimeStr(ac)}};var W=new function(){this.foreach=function(ah,ad){if(ah!=null&&ah.properties!=null&&typeof ad=="function"){var af=ah.properties;if(Array.isArray(af)){for(var ag=0;ag<af.length;ag++){var ae=af[ag];if(ae!=null&&ae.key!=null&&ae.value!=null){if(ad(ae.key,ae.value)===true){break}}}}else{for(var ac in af){var ae=af[ac];if(ae!=null){if(ad(ac,ae)===true){break}}}}}};this.getValue=function(ah,ad,ac){if(ah!=null&&ah.properties!=null&&a.isFullStr(ad)){var af=ah.properties;
if(Array.isArray(af)){for(var ag=0;ag<af.length;ag++){var ae=af[ag];if(ae!=null&&ae.key==ad&&ae.value!=null){return ae.value}}}else{if(af[ad]!=null){return af[ad]}}}return ac!=null?ac:null};this.get=function(ae,ad,ac){return a.strValue(this.getValue(ae,ad,ac))};this.getFullStr=function(ae,ad,ac){return a.strFullCheck(this.getValue(ae,ad),ac)};this.getNum=function(ae,ad,ac){return a.strToNum(this.getValue(ae,ad),ac)};this.getBool=function(ae,ad,ac){return a.strToBool(this.getValue(ae,ad),ac)};this.has=function(ae,ad,ac){return a.isValid(this.getValue(ae,ad),ac)};this.put=function(ai,ae,ad){if(ai!=null&&ai.properties!=null&&a.isFullStr(ae)&&ad!=null){var ag=ai.properties;if(Array.isArray(ag)){var ac=false;for(var ah=0;ah<ag.length;ah++){var af=ag[ah];if(af!=null&&af.key==ae){ac=true;af.value=ad;break}}if(!ac){ag.push({key:ae,value:ad})}}else{ag[ae]=ad}}};this.remove=function(ag,ac){if(ag!=null&&ag.properties!=null&&a.isFullStr(ac)){var ae=ag.properties;if(Array.isArray(ae)){for(var af=0;af<ae.length;
af++){var ad=ae[af];if(ad!=null&&ad.key==ac){ad.value=null;break}}}else{ae[ac]=null}}};this.clear=function(ac){if(ac!=null&&ac.properties!=null){ac.properties={}}};this.count=function(ad){var ac=0;this.foreach(ad,function(){ac++});return ac};this.extend=function(ae,ac){if(ae!=null&&ac!=null){if(ae.properties!=null&&ac.properties!=null){var ad=this;this.foreach(ac,function(ag,af){ad.put(ae,ag,af)})}else{if(ac.properties!=null){ae.properties=ac.properties}}}}};var N={STOPPED:1,PLAYING:2,PAUSED:3};var i={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,CONNECTION_UP:600,CONNECTION_DOWN:601,DEBUG:999,UNKNOWN:-1,actionToStr:function(ac){switch(ac){case this.LEFT:return"Left";
case this.RIGHT:return"Right";case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";
case this.VOLUME_DOWN:return"Volume-Down";case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.CONNECTION_UP:return"Connection-Up";case this.CONNECTION_DOWN:return"Connection-Down";case this.DEBUG:return"Debug"
}return"Unknown"},strToAction:function(ad){var ac=this[a.strToAction(ad)];return ac!=null?ac:this.UNKNOWN},isNavigationAction:function(ac){return ac==this.LEFT||ac==this.RIGHT||ac==this.UP||ac==this.DOWN||ac==this.SCROLL_UP||ac==this.SCROLL_DOWN||ac==this.SWIPE_LEFT||ac==this.SWIPE_RIGHT||ac==this.SWIPE_UP||ac==this.SWIPE_DOWN},isBaseAction:function(ac){return ac==this.EXECUTE||ac==this.BACK||this.isNavigationAction(ac)},isVideoAction:function(ac){return ac==this.PLAY||ac==this.PAUSE||ac==this.STOP||ac==this.TOGGLE_PLAY_PAUSE||ac==this.FORWARD||ac==this.REWIND||ac==this.RESTART},isChannelAction:function(ac){return ac==this.CHANNEL_UP||ac==this.CHANNEL_DOWN},isVolumeAction:function(ac){return ac==this.VOLUME_UP||ac==this.VOLUME_DOWN||ac==this.MUTE||ac==this.UNMUTE||ac==this.TOGGLE_MUTE},isNumberAction:function(ac){return ac==this.KEY_0||ac==this.KEY_1||ac==this.KEY_2||ac==this.KEY_3||ac==this.KEY_4||ac==this.KEY_5||ac==this.KEY_6||ac==this.KEY_7||ac==this.KEY_8||ac==this.KEY_9},isColorAction:function(ac){return ac==this.RED||ac==this.GREEN||ac==this.YELLOW||ac==this.BLUE
},isSystemAction:function(ac){return ac==this.SYSTEM||ac==this.CURSOR_ON||ac==this.CURSOR_OFF||ac==this.SLEEP||ac==this.WAKE_UP||ac==this.CONNECTION_UP||ac==this.CONNECTION_DOWN}};function B(){var ac="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(ae,ah,ag){if(a.isFullStr(ae)&&ah!=null){var af=encodeURIComponent(ah);if(ag!=null){var ad=ag;if(typeof ag=="number"){ad=new Date();ad.setTime(ad.getTime()+ag)}if(typeof ad.toGMTString=="function"){ad=ad.toGMTString()}af+=";expires="+ad+";"}document.cookie=encodeURIComponent(ae)+"="+af}};this.get=function(ad,ai){if(a.isFullStr(ad)){var af=document.cookie.split(";");for(var ah=0;ah<af.length;ah++){var ae=af[ah];var ag=ae.indexOf("=");if(ag>0){if(ad==decodeURIComponent(a.strTrim(ae.substr(0,ag)))){return decodeURIComponent(ae.substr(ag+1))}}}}return ai!=null?ai:null};this.getFullStr=function(ad,ae){return a.strFullCheck(this.get(ad),ae)};this.getNum=function(ad,ae){return a.strToNum(this.get(ad),ae)};this.getBool=function(ad,ae){return a.strToBool(this.get(ad),ae)
};this.has=function(ad,ae){return a.isValid(this.get(ad),ae)};this.foreach=function(aj){if(typeof aj=="function"){var af=document.cookie.split(";");for(var ah=0;ah<af.length;ah++){var ae=af[ah];var ad=ae.indexOf("=");if(ad>0){var ai=decodeURIComponent(a.strTrim(ae.substr(0,ad)));var ag=decodeURIComponent(ae.substr(ad+1));if(aj(ai,ag)===true){break}}}}};this.remove=function(ad){if(a.isFullStr(ad)){this.set(ad,"",ac)}};this.clear=function(){var ad=this;this.foreach(function(ae){ad.set(ae,"",ac)})}}function f(){var ao="exp:";var an=false;var ac=0;var ar=null;var ak=null;var au=new B();var aw=null;var aq=function(){if(aw!=null){var ay=aw;aw=null;if(ay.length>0){for(var ax=0;ax<ay.length;ax++){ay[ax]()}}}};var af=function(ax){if(aw==null){aw=[]}aw.push(ax)};var ae=function(){if(!an){an=true;aq()}};var ah=function(ax,ay){if(ay!=null){ay*=1;return ay>=0&&ay<ax}return false};var al=function(){if(ac==2&&window.TVXStorageService!=null&&typeof TVXStorageService.pull=="function"){TVXStorageService.pull(function(ay,ax){if(ac==2){ar=ay!=null?ay:{};
if(ax!=null){O.logger.error("Pull storage data failed: "+ax)}ae()}});return true}return false};var ad=function(){if(an&&ac==2&&window.TVXStorageService!=null&&typeof TVXStorageService.push=="function"){TVXStorageService.push(ar,function(ax){if(ax!=null){O.logger.error("Push storage data failed: "+ax)}});return true}return false};var aj=function(){if(an&&ac==2&&window.TVXStorageService!=null&&typeof TVXStorageService.clear=="function"){TVXStorageService.clear(function(ax){if(ax!=null){O.logger.error("Clear storage data failed: "+ax)}});return true}return false};var ag=function(){ac=1;ar={};ak=null;ae()};var am=function(){ac=2;ar={};ak=null;return al()};var ap=function(){ac=3;ar=null;var ax=true;try{ak=window.localStorage}catch(ay){O.logger.warn("Access to local storage failed: "+ay);ax=false}if(ax){ae()}return ax};var av=function(){ac=4;ar=null;ak=null;ae()};var ai=function(){var az=[];var aA=P.getTimestamp();if(ar!=null){for(var ax in ar){if(ax!=null&&ax.indexOf(ao)==0){if(ah(aA,ar[ax])){az.push(ax.substr(ao.length))
}}}for(var ay=0;ay<az.length;ay++){delete ar[az[ay]];delete ar[ao+az[ay]]}}else{if(ak!=null){for(var ay=0;ay<ak.length;ay++){var ax=ak.key(ay);if(ax!=null&&ax.indexOf(ao)==0){if(ah(aA,ak.getItem(ax))){az.push(ax.substr(ao.length))}}}for(var ay=0;ay<az.length;ay++){ak.removeItem(az[ay]);ak.removeItem(ao+az[ay])}}}};var at=function(){if(!am()){if(!ap()){ag()}}};this.set=function(ax,aA,az){if(a.isFullStr(ax)&&aA!=null){var ay=-1;if(az!=null){if(typeof az=="number"){ay=new Date().getTime()+az}else{if(typeof az=="string"){ay=new Date(az).getTime()}else{if(typeof az.getTime=="function"){ay=az.getTime()}}}}if(ar!=null){ar[ax]=aA;if(ay>=0){ar[ao+ax]=ay}else{delete ar[ao+ax]}ad()}else{if(ak!=null){ak.setItem(ax,aA);if(ay>=0){ak.setItem(ao+ax,ay)}else{ak.removeItem(ao+ax)}}else{au.set(ax,aA,az)}}}};this.get=function(ax,aA){if(a.isFullStr(ax)){if(ar!=null){var az=false;var ay=ar[ao+ax];if(ay!=null){if(ah(P.getTimestamp(),ay)){az=true;delete ar[ax];delete ar[ao+ax]}}if(!az){var aB=ar[ax];if(aB!=null){return aB
}}}else{if(ak!=null){var az=false;var ay=ak.getItem(ao+ax);if(ay!=null){if(ah(P.getTimestamp(),ay)){az=true;ak.removeItem(ax);ak.removeItem(ao+ax)}}if(!az){var aB=ak.getItem(ax);if(aB!=null){return aB}}}else{return au.get(ax,aA)}}}return aA!=null?aA:null};this.getFullStr=function(ax,ay){return a.strFullCheck(this.get(ax),ay)};this.getNum=function(ax,ay){return a.strToNum(this.get(ax),ay)};this.getBool=function(ax,ay){return a.strToBool(this.get(ax),ay)};this.has=function(ax,ay){return a.isValid(this.get(ax),ay)};this.foreach=function(az){if(typeof az=="function"){if(ar!=null){ai();for(var ax in ar){if(ax!=null&&ax.indexOf(ao)!=0){if(az(ax,ar[ax])===true){break}}}}else{if(ak!=null){ai();for(var ay=0;ay<ak.length;ay++){var ax=ak.key(ay);if(ax!=null&&ax.indexOf(ao)!=0){if(az(ax,ak.getItem(ax))===true){break}}}}else{au.foreach(az)}}}};this.remove=function(ax){if(a.isFullStr(ax)){if(ar!=null){delete ar[ax];delete ar[ao+ax];ad()}else{if(ak!=null){ak.removeItem(ax);ak.removeItem(ao+ax)}else{au.remove(ax)
}}}};this.clear=function(){if(ar!=null){ar={};aj()}else{if(ak!=null){ak.clear()}else{au.clear()}}};this.getType=function(){if(ar!=null){return ac==2?"service":"cache"}else{if(ak!=null){return"storage"}}return"cookies"};this.setType=function(ax){an=false;if(ax=="cache"){ag()}else{if(ax=="service"){if(!am()){ag()}}else{if(ax=="storage"){if(!ap()){ag()}}else{if(ax=="cookies"){av()}else{ae()}}}}};this.isReady=function(){return an};this.onReady=function(ax){if(typeof ax=="function"){if(!an){af(ax)}else{ax()}}};at()}function ab(ad){var ac=null;this.set=function(ae,af){if(a.isFullStr(ae)&&af!=null){if(ac==null){ac={}}ac[ae]=af}};this.get=function(ae,af){if(ac!=null&&a.isFullStr(ae)&&ac[ae]!=null){return ac[ae]}return af!=null?af:null};this.getFullStr=function(ae,af){return a.strFullCheck(this.get(ae),af)};this.getNum=function(ae,af){return a.strToNum(this.get(ae),af)};this.getBool=function(ae,af){return a.strToBool(this.get(ae),af)};this.has=function(ae,af){return a.isValid(this.get(ae),af)};this.foreach=function(af){if(typeof af=="function"){if(ac!=null){for(var ae in ac){if(af(ae,ac[ae])===true){break
}}}}};this.remove=function(ae){if(ac!=null&&a.isFullStr(ae)){delete ac[ae]}};this.clear=function(){ac={}};this.create=function(ai){var ah={};if(a.isFullStr(ai)){var al=ai.indexOf("?");if(al>=0){var ag=ai.substr(al+1).split("&");for(var ae=0;ae<ag.length;ae++){var aj=ag[ae];if(a.isFullStr(aj)){var af=aj.indexOf("=");if(af>0){var ak=aj.substr(0,af);var am=aj.substr(af+1);ah[decodeURIComponent(ak)]=decodeURIComponent(am)}else{ah[decodeURIComponent(aj)]=""}}}}}return ah};this.build=function(ah,ag){var ai=0;var ae="";if(ac!=null){for(var af in ac){var aj=a.strValue(ac[af]);if(ai>0){ae+=(ag!=null?ag:"&")}if(a.isFullStr(aj)){ae+=(ah===false?af:encodeURIComponent(af))+"="+(ah===false?aj:encodeURIComponent(aj))}else{ae+=(ah===false?af:encodeURIComponent(af))}ai++}}return ae};if(ad!=null){ac=this.create(ad)}else{ac=this.create(document.URL)}}function h(ac,ad){this.getValue=function(ae){if(a.isFullStr(ae)){if(ac!=null&&ac[ae]!=null){return ac[ae]}if(ad!=null&&ad[ae]!=null){return ad[ae]}}return null
};this.get=function(ae){return a.strValue(this.getValue(ae))};this.getFullStr=function(ae){return a.strFullCheck(this.get(ae),null)};this.getNum=function(ae){return a.strToNum(this.getValue(ae),0)};this.getBool=function(ae){return a.strToBool(this.getValue(ae),false)};this.has=function(ae,af){return a.isValid(this.get(ae),af)}}function l(){var ac={};this.hasObserver=function(ad){return a.isFullStr(ad)&&ac[ad]!=null};this.hasObservers=function(){var ad;for(ad in ac){return true}return false};this.addObserver=function(ad,ae){if(a.isFullStr(ad)&&typeof ae=="function"){ac[ad]=ae}};this.removeObserver=function(ad){if(a.isFullStr(ad)){delete ac[ad]}};this.onEvent=function(ad,ae){if(a.isFullStr(ad)){if(typeof ae=="function"){this.addObserver(ad,ae)}else{this.removeObserver(ad)}}};this.notifyObserver=function(ad,ae){if(a.isFullStr(ad)&&ac[ad]!=null){ac[ad](ae)}};this.notifyObservers=function(ae){for(var ad in ac){ac[ad](ae)}};this.clear=function(){ac={}}}function aa(){var ac={};this.hasObserver=function(ae,ad){return a.isFullStr(ae)&&a.isFullStr(ad)&&ac[ae]!=null&&ac[ae][ad]!=null
};this.hasObservers=function(ae){if(a.isFullStr(ae)&&ac[ae]!=null){var ad;for(ad in ac[ae]){return true}}return false};this.addObserver=function(ae,ad,af){if(a.isFullStr(ae)&&a.isFullStr(ad)&&typeof af=="function"){if(ac[ae]==null){ac[ae]={}}ac[ae][ad]=af}};this.removeObserver=function(ae,ad){if(a.isFullStr(ae)&&a.isFullStr(ad)&&ac[ae]!=null){delete ac[ae][ad];if(!this.hasObservers(ae)){delete ac[ae]}}};this.onEvent=function(ae,ad,af){if(a.isFullStr(ae)&&a.isFullStr(ad)){if(typeof af=="function"){this.addObserver(ae,ad,af)}else{this.removeObserver(ae,ad)}}};this.notifyObserver=function(ae,ad,af){if(a.isFullStr(ae)&&a.isFullStr(ad)&&ac[ae]!=null&&ac[ae][ad]!=null){ac[ae][ad](af)}};this.notifyObservers=function(ae,af){if(a.isFullStr(ae)&&ac[ae]!=null){for(var ad in ac[ae]){ac[ae][ad](af)}}};this.clear=function(ad){if(a.isFullStr(ad)){if(ac[ad]!=null){ac[ad]={}}}else{ac={}}}}function L(){var ad=null;var ae=[];var ac=null;var af=false;this.delegate=null;this.execute=function(){if(ad!=null){clearTimeout(ad);
ad=null}if(ac!=null){if(typeof ac.action=="function"){ac.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(ac.action)}}ac=null;this.process()}};this.process=function(){if(ac==null&&ae.length>0){ac=ae.shift();if(ac.action==="stop"&&ac.delay==null){af=true;ac=null}else{if(ac.delay!=null&&ac.delay>0){var ag=this;ad=setTimeout(function(){ad=null;ag.execute()},ac.delay)}else{this.execute()}}}};this.reset=function(){ae=[];ac=null;af=false;if(ad!=null){clearTimeout(ad);ad=null}};this.push=function(ag,ah){if(ag!=null){if(ag==="reset"&&ah==null){this.reset()}else{if(ag==="execute"&&ah==null){this.execute()}else{if(ag==="clear"&&ah==null){ae=[]}else{if(ag==="continue"&&ah==null){af=false}else{ae.push({action:ag,delay:ah})}}}}if(!af){this.process()}}};this.isBusy=function(){return ad!=null}}function e(ac,ag){var ae=null;var af=[];var ad=0;this.size=ac!=null?ac:0;this.delay=ag!=null?ag:0;this.work=function(){if(ae==null&&this.delay>0){var ah=this;
ae=setTimeout(function(){ae=null;ad=0;ah.process()},this.delay)}};this.process=function(){if(ae==null&&af.length>0){if(ad<this.size||this.size<=0||this.delay<=0){ad++;var ah=af.shift();ah();this.process()}else{this.work()}}};this.reset=function(){af=[];ad=0;if(ae!=null){clearTimeout(ae);ae=null}};this.execute=function(ah){if(typeof ah=="function"){af.push(ah);this.process()}};this.isBusy=function(){return ae!=null}}function v(af){var ae=null;var ad=null;var ac=false;this.delay=af!=null?af:0;this.start=function(ag){var ah=this;ac=false;this.stop();ad=ag;if(this.delay>0){ae=setTimeout(function(){ah.finish()},this.delay)}else{ah.finish()}};this.restart=function(){this.start(ad)};this.stop=function(){if(ae!=null){clearTimeout(ae);ae=null}};this.finish=function(){this.stop();if(!ac){ac=true;if(typeof ad=="function"){ad()}}};this.isBusy=function(){return ae!=null}}function S(){var ae=300;var af=0;var ac=0;var ad=null;this.click=function(ag){var ah=P.getTimestamp();if(ad===ag&&af>0&&ah-af<=ae){ac++
}else{ac=1}ad=ag;af=ah;return ac}}function o(){var ac="application/json";var ah="application/xml";var ae="text/plain";var ak="text/html";var aj="application/x-www-form-urlencoded";var af=function(an){var am=null;try{am=new XMLHttpRequest()}catch(al){if(an!=null&&typeof an.error=="function"){an.error("Create XML HTTP request failed: "+al)}}return am};var ai=function(al){if(al!=null&&typeof al.destroy=="function"){al.destroy()}};var ag=function(ap,aq,an){var al=ap.responseText;var ao=true;if(al!=null){if(an==ac){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(a.isFullStr(al)){al=JSON.parse(al)}else{ao=false;if(aq!=null&&typeof aq.error=="function"){aq.error("Validate JSON failed")}}}else{if(a.isJson(al)){al=new Function("return "+al)()}else{ao=false;if(aq!=null&&typeof aq.error=="function"){aq.error("Validate JSON failed")}}}}catch(am){ao=false;if(aq!=null&&typeof aq.error=="function"){aq.error("Create JSON failed: "+am)}}}else{if(an==ah){al=ap.responseXML}}}if(ao&&aq!=null&&typeof aq.success=="function"){aq.success(al)
}};var ad=function(ar,ao,aq,az,al){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(ar,ao,aq,az,al)===true){return}var av=af(az);if(av!=null){var aw=ac;var ap=false;var ax=false;var am=true;var ay=null;if(al!=null){ap=al.isForm===true;ax=al.withCredentials===true;am=al.accurateHeaders!==false;ay=al.headers;if(al.dataType!=null){if(al.dataType=="json"){aw=ac}else{if(al.dataType=="xml"){aw=ah}else{if(al.dataType=="text"){aw=ae}else{if(al.dataType=="html"){aw=ak}else{aw=null}}}}}}try{if(ax){av.withCredentials=true}av.open(ar,ao,true)}catch(au){ai(av);av=null;if(az!=null&&typeof az.error=="function"){az.error("Open connection failed: "+au)}}if(av!=null){av.onreadystatechange=function(){if(av!=null){if(av.readyState==4){if((av.status>=200&&av.status<300)||(av.status==0&&a.isFullStr(av.responseText))){ag(av,az,aw)}else{if(az!=null&&typeof az.error=="function"){var aA=a.strValue(av.status);if(a.isFullStr(av.statusText)){aA+=" "+av.statusText
}az.error("Server responded with status: "+aA)}}ai(av);av=null}}};if(aw!=null){if(aq!=null){av.setRequestHeader("Content-Type",!ap&&am?aw:aj)}if(am){av.setRequestHeader("Accept",aw)}}if(ay!=null){for(var at in ay){var an=ay[at];if(an!=null){av.setRequestHeader(a.strValue(at),a.strValue(an))}}}try{av.send(aq)}catch(au){ai(av);av=null;if(az!=null&&typeof az.error=="function"){az.error("Send data failed: "+au)}}}}};this.get=function(al,an,am){ad("GET",al,null,an,am)};this.post=function(am,ao,al,an){ad("POST",am,ao,al,an)};this.put=function(am,ao,al,an){ad("PUT",am,ao,al,an)};this.del=function(al,an,am){ad("DELETE",al,null,an,am)}}var A={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function J(){var ai=[];var ae=null;this.level=A.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var ag=function(){var aj=new Date();var aq=aj.getHours();var ap=aj.getMinutes();var an=aj.getSeconds();var am=aj.getMilliseconds();var al=aj.getDate();var ao=aj.getMonth()+1;
var ak=aj.getFullYear();return ak+"-"+((ao<10)?"0":"")+ao+"-"+((al<10)?"0":"")+al+" "+((aq<10)?"0":"")+aq+":"+((ap<10)?"0":"")+ap+":"+((an<10)?"0":"")+an+"."+((am<10)?"00":((am<100)?"0":""))+am};var af=function(ak,aj){var al="";switch(ak){case A.DEBUG:al=q.LOGGER.CSS.CLASS_DEBUG;break;case A.INFO:al=q.LOGGER.CSS.CLASS_INFO;break;case A.WARN:al=q.LOGGER.CSS.CLASS_WARN;break;case A.ERROR:al=q.LOGGER.CSS.CLASS_ERROR;break}return a.strReplace(q.LOGGER.HTML.LINE.replace("{LEVEL}",al),"{MESSAGE}",a.htmlEscape(aj))};var ad=function(ak,aj){var al="";switch(ak){case A.DEBUG:al="DEBUG";break;case A.INFO:al="INFO";break;case A.WARN:al="WARNING";break;case A.ERROR:al="ERROR";break}return ag()+" "+al+": "+aj};var ac=function(al,ak,am,aj){if(am>0&&ak.length>am){ak=ak.substr(0,am)+"..."}ai.push(af(al,ak));if(aj>0){while(ai.length>aj){ai.shift()}}};var ah=function(ak,aj){if(window.console!=null){switch(ak){case A.DEBUG:console.log(aj);break;case A.INFO:console.info(aj);break;case A.WARN:console.warn(aj);
break;case A.ERROR:console.error(aj);break}}};this.registerControl=function(aj,ak){ae=aj;if(ak!==false){this.print()}};this.unregisterControl=function(aj){if(ae==aj){ae=null}};this.print=function(){if(ae!=null&&ai.length>0){var ak="";for(var aj=0;aj<ai.length;aj++){ak+=ai[aj]+q.COMMON.HTML.BREAK}ae.html(ak)}};this.clear=function(){ai=[];this.print()};this.log=function(ak,aj){if(ak<=this.level){var al=-1;switch(ak){case A.DEBUG:al=this.maxDebugLength;break;case A.INFO:al=this.maxInfoLength;break;case A.WARN:al=this.maxWarnLength;break;case A.ERROR:al=this.maxErrorLength;break}ah(ak,aj);ac(ak,ad(ak,aj),al,this.maxLines);this.print()}};this.debug=function(aj){this.log(A.DEBUG,aj)};this.info=function(aj){this.log(A.INFO,aj)};this.warn=function(aj){this.log(A.WARN,aj)};this.error=function(aj){this.log(A.ERROR,aj)}}function x(){var af=null;var ai=null;var ah=0;var ak=null;var ag=false;var ae={};var aj=function(al,am){ae[al]=am;if(ag){am()}};var ac=function(al){delete ae[al]};var ad=function(){for(var al in ae){ae[al]()
}};this.onReady=function(al,am){if(a.isFullStr(al)){if(typeof am=="function"){aj(al,am)}else{ac(al)}}};this.init=function(al){ag=true;af=a.strFullCheck(al!=null?al.name:null,null);ai=a.strFullCheck(al!=null?al.version:null,null);ah=0;ak={};W.foreach(al,function(an,am){if(a.isFullStr(an)&&a.isFullStr(am)){ak[an]=am;ah++}});ad()};this.getName=function(){return af};this.getVersion=function(){return ai};this.getSize=function(){return ah};this.isInitialized=function(){return ag};this.getValueForKey=function(am,al){if(ak!=null&&a.isFullStr(am)&&ak[am]!=null){return ak[am]}return al};this.getValueForExpr=function(am){if(a.isFullStr(am)){var al=am.indexOf("|");if(al>0){return this.getValueForKey(am.substr(0,al),am.substr(al+1))}else{return this.getValueForKey(am,"")}}return""};this.getData=function(){return{name:af,version:ai,size:ah,properties:ak}}}function m(){var ae=null;var af={};var ad=null;var ac=null;this.delay=0;this.now=P.getNow();this.format="time";this.isRunning=function(){return ae!=null
};this.hasHook=function(ag){return a.isFullStr(ag)&&af[ag]!=null};this.hasHooks=function(){var ag;for(ag in af){return true}return false};this.hasControl=function(){return ad!=null};this.clearHooks=function(){af={}};this.addHook=function(ag,ah){if(a.isFullStr(ag)&&typeof ah=="function"){af[ag]=ah}};this.removeHook=function(ag){if(a.isFullStr(ag)){delete af[ag]}};this.onTick=function(ag,ah){if(a.isFullStr(ag)){if(typeof ah=="function"){this.addHook(ag,ah)}else{this.removeHook(ag)}}};this.registerControl=function(ag){ad=ag};this.unregisterControl=function(ag){if(ad==ag){ad=null}};this.update=function(){if(ad!=null){var ag=null;switch(this.format){case"full":ag=Y.toDayTimeFullStr(this.now);break;case"date":ag=Y.toDayTimeLongStr(this.now);break;case"day":ag=Y.toTimeDayStr(this.now);break;case"time":ag=Y.toTimeStr(this.now);break;default:ag="";break}if(ad.clockText!=ag){ad.clockText=ag;ad.html(ag)}}};this.validate=function(){this.now=P.getNow()};this.process=function(){if(ae!=null){this.validate();
this.delay=ac!=null?this.now.getTime()-ac.getTime():0;ac=this.now;this.update();for(var ag in af){af[ag](this)}}};this.start=function(){if(ae==null){var ag=this;ac=null;ae=setInterval(function(){ag.process()},1000)}};this.stop=function(){if(ae!=null){clearInterval(ae);ae=null;ac=null}}}function I(){var ac={};this.load=function(ae,ad,ag,af){if(a.isFullStr(ae)){if(ad!=null&&ac[ad]!=null&&ac[ad].url==ae&&ac[ad].data!=null){if(ag!=null&&typeof ag.success=="function"){ag.success(ac[ad].data,true)}}else{O.ajax.get(ae,{success:function(ah){if(ad!=null){ac[ad]={url:ae,data:ah}}if(ag!=null&&typeof ag.success=="function"){ag.success(ah,false)}},error:function(ah){if(ad!=null){ac[ad]={url:ae,data:null}}if(ag!=null&&typeof ag.error=="function"){ag.error(ah)}}},af)}}};this.clearCache=function(ad){if(ad!=null){ac[ad]=null}};this.clear=function(){ac={}}}var O={logger:new J(),cookies:new B(),storage:new f(),urlParams:new ab(),ajax:new o(),loader:new I()};function R(){var ao={};var ah={};var al={};var ai={};
var ak=function(aq){if(aq!=null&&aq.response!=null){return a.strToNum(aq.response.status,0)}return 0};var ap=function(aq){if(aq!=null&&aq.response!=null){return aq.response.data}return null};var af=function(ar){var aq="";if(ar!=null&&ar.response!=null){if(a.isNum(ar.response.status)){aq+=""+ar.response.status}if(a.isFullStr(ar.response.text)){if(aq.length>0){aq+=" "}aq+=ar.response.text}if(a.isFullStr(ar.response.message)){if(aq.length>0){aq+=": "}aq+=ar.response.message}}return aq.length>0?aq:"Unknown error"};var an=function(aq,ar){al[aq]=ar;for(var at in ao){if(ao[at]!=null){ar(ao[at])}}};var ac=function(aq){delete al[aq]};var ae=function(aq){for(var ar in al){al[ar](aq)}};var ag=function(aq,ar){if(aq!=null&&typeof ar=="function"){ai[aq]=ar;for(var at in ah){if(ah[at]!=null){ar(ah[at])}}}};var am=function(aq){if(aq!=null){delete ai[aq]}};var ad=function(aq){for(var ar in ai){ai[ar](aq)}};var aj=function(aq){return aq!=null&&aq.indexOf("temp:")!=0};this.onReady=function(aq,ar){if(a.isFullStr(aq)){if(typeof ar=="function"){an(aq,ar)
}else{ac(aq)}}};this.onError=function(aq,ar){if(a.isFullStr(aq)){if(typeof ar=="function"){ag(aq,ar)}else{am(aq)}}};this.onCompleted=function(aq,ar){this.onReady(aq,ar);this.onError(aq,ar)};this.foreachEntry=function(ar){if(typeof ar=="function"){for(var aq in ao){if(ao[aq]!=null){if(ar(ao[aq])===true){break}}}}};this.foreachError=function(ar){if(typeof ar=="function"){for(var aq in ah){if(ah[aq]!=null){if(ar(ah[aq])===true){break}}}}};this.getData=function(aq){return aq!=null&&ao[aq]!=null?ao[aq].data:null};this.getEntry=function(aq){return aq!=null?ao[aq]:null};this.setEntry=function(ar,aq){if(ar!=null&&aq!=null){ao[ar]=aq;ah[ar]=null;ae(aq)}};this.getError=function(aq){return aq!=null?ah[aq]:null};this.setError=function(aq,ar){if(aq!=null&&ar!=null){ao[aq]=null;ah[aq]=ar;ad(ar)}};this.shouldStoreData=function(aq){return aj(aq)};this.createData=function(aq,ar){return ar};this.putData=function(ar,au,aq,at){if(ar!=null&&au!=null){O.ajax.put(ar,au,{success:function(av){if(av.response!=null&&av.response.status==200){if(aq!=null&&typeof aq.success=="function"){aq.success(av.response.data)
}}else{if(aq!=null&&typeof aq.error=="function"){aq.error(af(av),ak(av),ap(av))}}},error:function(av){if(aq!=null&&typeof aq.error=="function"){aq.error(av,0,null)}}},at)}};this.postData=function(ar,au,aq,at){if(ar!=null&&au!=null){O.ajax.post(ar,au,{success:function(av){if(av.response!=null&&av.response.status==200){if(aq!=null&&typeof aq.success=="function"){aq.success(av.response.data)}}else{if(aq!=null&&typeof aq.error=="function"){aq.error(af(av),ak(av),ap(av))}}},error:function(av){if(aq!=null&&typeof aq.error=="function"){aq.error(av,0,null)}}},at)}};this.deleteData=function(aq,at,ar){if(aq!=null){O.ajax.del(aq,{success:function(au){if(au.response!=null&&au.response.status==200){if(at!=null&&typeof at.success=="function"){at.success(au.response.data)}}else{if(at!=null&&typeof at.error=="function"){at.error(af(au),ak(au),ap(au))}}},error:function(au){if(at!=null&&typeof at.error=="function"){at.error(au,0,null)}}},ar)}};this.loadData=function(au,ar,av,at){if(au!=null){var aq=this;
if(aj(au)){this.clearData(au)}if(ar!=null){O.ajax.get(ar,{success:function(az){var ay=false;if(az.response!=null&&az.response.status==200&&az.response.data!=null){ay=true;az=az.response.data}if(!ay&&az.response!=null){var aw={id:au,error:af(az),status:ak(az),reason:ap(az)};var ax=true;if(av!=null&&typeof av.error=="function"){ax=av.error(aw)}if(ax!==false&&aj(au)){aq.setError(au,aw)}if(av!=null&&typeof av.completed=="function"){av.completed(aw)}}else{var aw={id:au,data:aq.createData(au,az)};var ax=true;if(av!=null&&typeof av.success=="function"){ax=av.success(aw)}if(ax!==false&&aj(au)){aq.setEntry(au,aw)}if(av!=null&&typeof av.completed=="function"){av.completed(aw)}}},error:function(ay){var aw={id:au,error:ay,status:0,reason:null};var ax=true;if(av!=null&&typeof av.error=="function"){ax=av.error(aw)}if(ax!==false&&aj(au)){aq.setError(au,aw)}if(av!=null&&typeof av.completed=="function"){av.completed(aw)}}},at)}}};this.clearData=function(aq){if(aq!=null){ao[aq]=null;ah[aq]=null}};this.clear=function(){ao={};
ah={}}}function z(){var ah={};var ak={};var ar={};var ad={};var ac=function(av){if(av!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(av)}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(av)}}}catch(au){O.logger.error("Create blob URL failed: "+au)}}return null};var an=function(au){if(au!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(au)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(au)}}}catch(av){O.logger.error("Dispose blob URL failed: "+av)}}};var at=function(aw){var av=null;try{av=new XMLHttpRequest()}catch(au){if(aw!=null&&typeof aw.error=="function"){aw.error("Create XML HTTP request failed: "+au)}}return av};var aj=function(au){if(au!=null&&typeof au.destroy=="function"){au.destroy()}};var am=function(au,av){if(au.response!=null){if(av!=null&&typeof av.success=="function"){av.success(au.response)
}}else{if(av!=null&&typeof av.error=="function"){av.error("Load blob failed: Response is missing")}}};var ae=function(ay,aw,ax,aE,au){var aB=at(aE);if(aB!=null){var aC=false;var aD=null;if(au!=null){aC=au.withCredentials===true;aD=au.headers}try{if(aC){aB.withCredentials=true}aB.responseType="blob";aB.open(ay,aw,true)}catch(aA){aj(aB);aB=null;if(aE!=null&&typeof aE.error=="function"){aE.error("Open connection failed: "+aA)}}if(aB!=null){aB.onreadystatechange=function(){if(aB!=null){if(aB.readyState==4){if(aB.status>=200&&aB.status<300){am(aB,aE)}else{if(aE!=null&&typeof aE.error=="function"){var aF=a.strValue(aB.status);if(a.isFullStr(aB.statusText)){aF+=" "+aB.statusText}aE.error("Server responded with status: "+aF)}}aj(aB);aB=null}}};if(aD!=null){for(var az in aD){var av=aD[az];if(av!=null){aB.setRequestHeader(a.strValue(az),a.strValue(av))}}}try{aB.send(ax)}catch(aA){aj(aB);aB=null;if(aE!=null&&typeof aE.error=="function"){aE.error("Send data failed: "+aA)}}}}};var ag=function(au,av,az,ax,aA,aw,ay){if(az!=null){au.clearBlob(az);
if(ax!=null){ae(av,ax,aA,{success:function(aC){var aB={id:az,blob:aC,url:ac(aC)};if(aw!=null&&typeof aw.success=="function"){aw.success(aB)}au.setEntry(az,aB);if(aw!=null&&typeof aw.completed=="function"){aw.completed(aB)}},error:function(aC){var aB={id:az,error:aC,status:0,reason:null};if(aw!=null&&typeof aw.error=="function"){aw.error(aB)}au.setError(az,aB);if(aw!=null&&typeof aw.completed=="function"){aw.completed(aB)}}},ay)}}};var af=function(au,av){ar[au]=av;for(var aw in ah){if(ah[aw]!=null){av(ah[aw])}}};var ai=function(au){delete ar[au]};var al=function(au){for(var av in ar){ar[av](au)}};var ap=function(au,av){if(au!=null&&typeof av=="function"){ad[au]=av;for(var aw in ak){if(ak[aw]!=null){av(ak[aw])}}}};var ao=function(au){if(au!=null){delete ad[au]}};var aq=function(au){for(var av in ad){ad[av](au)}};this.onReady=function(au,av){if(a.isFullStr(au)){if(typeof av=="function"){af(au,av)}else{ai(au)}}};this.onError=function(au,av){if(a.isFullStr(au)){if(typeof av=="function"){ap(au,av)
}else{ao(au)}}};this.onCompleted=function(au,av){this.onReady(au,av);this.onError(au,av)};this.foreachEntry=function(av){if(typeof av=="function"){for(var au in ah){if(ah[au]!=null){if(av(ah[au])===true){break}}}}};this.foreachError=function(av){if(typeof av=="function"){for(var au in ak){if(ak[au]!=null){if(av(ak[au])===true){break}}}}};this.getBlob=function(au){return au!=null&&ah[au]!=null?ah[au].blob:null};this.getUrl=function(au){return au!=null&&ah[au]!=null?ah[au].url:null};this.getEntry=function(au){return au!=null?ah[au]:null};this.setEntry=function(av,au){if(av!=null&&au!=null){an(ah[av]!=null?ah[av].url:null);ah[av]=au;ak[av]=null;al(au)}};this.getError=function(au){return au!=null?ak[au]:null};this.setError=function(au,av){if(au!=null&&av!=null){an(ah[au]!=null?ah[au].url:null);ah[au]=null;ak[au]=av;aq(av)}};this.executeBlob=function(ax,av,ay,au,aw){ag(this,"POST",ax,av,ay,au,aw)};this.loadBlob=function(aw,au,ax,av){ag(this,"GET",aw,au,null,ax,av)};this.clearBlob=function(au){if(au!=null){an(ah[au]!=null?ah[au].url:null);
ah[au]=null;ak[au]=null}};this.clear=function(){for(var au in ah){an(ah[au]!=null?ah[au].url:null)}ah={};ak={}}}function K(ah){var ae="srq";var ad=0;var ac={};var ai=0;this.timeout=ah!=null?ah:30000;var af=function(aj,am){ad++;ai++;var al=ae+ad+"_"+P.getTimestamp();var ak={timeout:new v(aj),callback:am};ac[al]=ak;ak.timeout.start(function(){ag(al,null,"Request timed out","timeout")});return al};var ag=function(am,an,aj,ak){if(am!=null){var al=ac[am];if(al!=null){ai--;al.timeout.stop();delete ac[am];if(aj!=null){if(al.callback!=null&&typeof al.callback.error=="function"){al.callback.error(aj,ak)}}else{if(al.callback!=null&&typeof al.callback.success=="function"){al.callback.success(an)}}}}};this.startRequest=function(aj){return af(this.timeout,aj)};this.getRequestsCount=function(){return ai};this.isRequestPending=function(aj){return aj!=null&&ac[aj]!=null};this.handleData=function(aj,ak){ag(aj,ak!=null?ak:null,null)};this.handleError=function(ak,al,aj){ag(ak,null,al!=null?al:"Unknown error",aj!=null?aj:null)
}}function c(){var af=0;var ae=null;var ad=function(){if(ae!=null){var ah=ae;ae=null;if(ah.length>0){for(var ag=0;ag<ah.length;ag++){ah[ag]()}}}};var ac=function(ag){if(ae==null){ae=[]}ae.push(ag)};this.isBusy=function(){return af>0};this.start=function(ag){if(ag===true){af=1}else{af++}};this.stop=function(ag){if(af>0){if(ag===true){af=0}else{if(af>0){af--}}if(af==0){ad()}}};this.onReady=function(ag){if(typeof ag=="function"){if(af>0){ac(ag)}else{ag()}}}}function w(am){var an=4;var ak=256;var ao=null;var al=null;var aw=function(aG){return a.isFullStr(aG)&&aG.length>=an&&aG.length<ak&&aG.length%2==0};var aB=function(aG){return aG&aG};var ad=function(aG,aH){return aB(((aG<<5)-aG)+aH)};var aq=function(aG){return aG.length==1?"0"+aG:aG};var ay=function(aH,aG){if(aG>0){while(aH<0){aH+=aG}while(aH>=aG){aH-=aG}}return aH};var au=function(aI,aH,aG){aI+=3;return aI+aH>=aG?0:aI};var ag=function(aG,aH){aG++;return aG>=aH?0:aG};var av=function(aG,aH){return aH?-aG:aG};var aC=function(aJ,aK,aI,aG,aH){return ay(aK+av(aG,aH)*ax(aJ,aI),ak)
};var ai=function(aM,aG,aL,aN,aH,aK,aI){var aJ=aM!=null&&aL!=null?aM.indexOf(aL):-1;return aJ>=0?aE(aM,ay(aJ+av(aK,aI)*(aN+ax(aG,aH)),aM.length)):aL};var ah=function(aH,aG){return aG!=null?(aH!=null?aH+aG:aG):aH};var aE=function(aG,aH){return aG!=null&&aH>=0&&aH<aG.length?aG.charAt(aH):null};var ax=function(aG,aH){return aG!=null&&aH>=0&&aH<aG.length?aG.charCodeAt(aH):0};var aj=function(aL,aN,aG,aK,aH,aJ){var aM=aE(aL,aK);if(aM!=null){var aI=Math.random()>0.5?aN.indexOf(aM):aN.lastIndexOf(aM);return aI>=0?aq(aC(aG,aI,aH,1,aJ).toString(16)):null}return null};var ae=function(aL,aG,aK,aH,aJ){var aN=aE(aL,aK);var aM=aE(aL,aK+1);var aI=aN!=null&&aM!=null?parseInt(aN+aM,16):-1;return aI>=0?aC(aG,aI,aH,-1,aJ):-1};var aD=function(aM,aQ,aH){var aP=null;if(a.isFullStr(aM)&&aM.length%2==0&&aw(aQ)&&aw(aH)){var aL=aM.length;var aN=aH.length;var aI=0;var aK=0;var aJ=false;for(var aG=0;aG<aL;aG+=2){var aO=aE(aQ,ae(aM,aH,aG,aI+aK,aJ));if(aO!=null){aP=ah(aP,aO)}else{return null}aI=au(aI,aK,aN);if(aI==0){aK=ag(aK,aN)
}aJ=!aJ}}return aP};var af=function(aN,aJ,aH){var aQ=null;if(a.isFullStr(aN)&&aw(aJ)&&aw(aH)){var aP=aN.length;var aO=aH.length;var aI=0;var aM=0;var aL=false;for(var aG=0;aG<aP;aG++){var aK=aj(aN,aJ,aH,aG,aI+aM,aL);if(aK!=null){aQ=ah(aQ,aK)}else{return null}aI=au(aI,aM,aO);if(aI==0){aM=ag(aM,aO)}aL=!aL}}return aQ};var aF=function(aH){var aG=aH<0?-1:1;return aG*((aH*aG)%ak)};var az=function(aK){var aH=null;if(aw(aK)){var aJ=aK.length;var aI=aJ/2;for(var aL=0;aL<aI;aL++){var aM=aE(aK,aL);var aG=aE(aK,aJ-1-aL);if(aH==null||aH.indexOf(aM)<0){aH=ah(aH,aM)}if(aH.indexOf(aG)<0){aH=ah(aH,aG)}}}return aH};var ac=function(aJ,aL,aK){var aI=0;if(aJ!=null&&aL!=null&&aK!=null){var aM=aJ.length;var aG=aK.length;aI=aM;for(var aH=0;aH<aG;aH++){aI=ad(aI,ax(aK,aH))}for(var aH=0;aH<aM;aH++){if(aL.indexOf(aE(aJ,aH))<0){aI=ad(aI,ax(aJ,aH))}}}return aF(aI)};var ap=function(aN,aQ,aH,aO){var aJ=null;if(a.isFullStr(aN)&&aw(aQ)&&aw(aH)){var aR=ac(aN,aQ,aH);var aP=aN.length;var aM=aH.length;var aI=0;var aL=0;var aK=false;
for(var aG=0;aG<aP;aG++){aJ=ah(aJ,ai(aQ,aH,aE(aN,aG),aR,aI+aL,aO,aK));aI=au(aI,aL,aM);if(aI==0){aL=ag(aL,aM)}aK=!aK}}return aJ};var aA=function(){return af(a.strShuffle(am),am,am)};var ar=function(aG,aH){return aD(aG,aD(aH,am,am),am)};var at=function(){if(al==null){al=az(am)}return al};this.createSteam=function(){ao=aA();return ao};this.resolveToken=function(aG){return ar(aG,ao)};this.transformString=function(aG){return ap(aG,at(),am,1)};this.normalizeString=function(aG){return ap(aG,at(),am,-1)}}var j=new function(){this.BLEND_MODE={NORMAL:"normal",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",COLOR_BURN:"color-burn",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"};this.COMPOSITE_MODE={CLEAR:"clear",COPY:"copy",DESTINATION:"destination",SOURCE_OVER:"source-over",SOURCE_OUT:"source-out",DESTINATION_OUT:"destination-out",SOURCE_ATOP:"source-atop",DESTINATION_ATOP:"destination-atop",XOR:"xor",LIGHTER:"lighter",DARKER:"darker"}
};window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(ac){setTimeout(ac,33)}})();var T=new function(){var ad=false;var ac=null;this.render=function(){if(ad){if(ac!=null){requestAnimFrame(function(){T.render()});ac.render()}else{ad=false}}};this.start=function(ae){ac=ae;if(!ad){ad=true;this.render()}};this.stop=function(ae){if(ac==ae){ac=null}};this.isRunning=function(){return ad};this.hasControl=function(){return ac!=null};this.isControl=function(ae){return ac==ae}};var E=new function(){var af=function(ah){ah=Math.round(ah);return ah<0?0:ah>255?255:ah};var ag=function(ah){return ah<0?0:ah>1?1:ah};var ae=function(ah){if(ah[ah.length-1]=="%"){return af(parseFloat(ah)/100*255)}return af(parseInt(ah))};var ac=function(ah){if(ah[ah.length-1]=="%"){return ag(parseFloat(ah)/100)}return ag(parseFloat(ah))};var ad=function(aj,ai,ah){if(ah<0){ah+=1}else{if(ah>1){ah-=1}}if(ah*6<1){return aj+(ai-aj)*ah*6
}if(ah*2<1){return ai}if(ah*3<2){return aj+(ai-aj)*(2/3-ah)*6}return aj};this.createColor=function(ah){if(ah!=null&&ah.length==4){return"rgba("+ah[0]+","+ah[1]+","+ah[2]+","+ah[3]+")"}return null};this.parseColor=function(al){if(al!=null){al=a.strClear(al).toLowerCase();if(al[0]=="#"){if(al.length==4){var am=parseInt(al.substr(1),16);if(!(am>=0&&am<=4095)){return null}return[((am&3840)>>4)|((am&3840)>>8),(am&240)|((am&240)>>4),(am&15)|((am&15)<<4),1]}else{if(al.length==7){var am=parseInt(al.substr(1),16);if(!(am>=0&&am<=16777215)){return null}return[(am&16711680)>>16,(am&65280)>>8,am&255,1]}}}else{var ak=al.indexOf("(");var ap=al.indexOf(")");if(ak!=-1&&ap+1==al.length){var aq=al.substr(0,ak);var ai=al.substr(ak+1,ap-(ak+1)).split(",");var aj=1;switch(aq){case"rgba":if(ai.length!=4){return null}aj=ac(ai.pop());case"rgb":if(ai.length!=3){return null}return[ae(ai[0]),ae(ai[1]),ae(ai[2]),aj];case"hsla":if(ai.length!=4){return null}aj=ac(ai.pop());case"hsl":if(ai.length!=3){return null}var at=(((parseFloat(ai[0])%360)+360)%360)/360;
var ao=ac(ai[1]);var ah=ac(ai[2]);var an=ah<=0.5?ah*(ao+1):ah+ao-ah*ao;var ar=ah*2-an;return[af(ad(ar,an,at+1/3)*255),af(ad(ar,an,at)*255),af(ad(ar,an,at-1/3)*255),aj];default:return null}}}}return null}};k.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(ad,ac){k.fx.step[ac]=function(ae){if(ae.colorInit!==true){ae.start=E.parseColor(k.css(ae.elem,ac));if(ae.start==null){ae.start=[0,0,0,0]}ae.end=E.parseColor(ae.end);ae.colorInit=true}if(ae.start!=null&&ae.end!=null){ae.elem.style[ac]=E.createColor([Math.max(Math.min(Math.floor(ae.pos*(ae.end[0]-ae.start[0])+ae.start[0]),255),0),Math.max(Math.min(Math.floor(ae.pos*(ae.end[1]-ae.start[1])+ae.start[1]),255),0),Math.max(Math.min(Math.floor(ae.pos*(ae.end[2]-ae.start[2])+ae.start[2]),255),0),ae.pos*(ae.end[3]-ae.start[3])+ae.start[3]])}}});k.extend(k.easing,{easeInQuad:function(ac,ad,ae,af,ag){return af*(ad/=ag)*ad+ae},easeOutQuad:function(ac,ad,ae,af,ag){return -af*(ad/=ag)*(ad-2)+ae
},easeInOutQuad:function(ac,ad,ae,af,ag){if((ad/=ag/2)<1){return af/2*ad*ad+ae}return -af/2*((--ad)*(ad-2)-1)+ae},easeInCubic:function(ac,ad,ae,af,ag){return af*(ad/=ag)*ad*ad+ae},easeOutCubic:function(ac,ad,ae,af,ag){return af*((ad=ad/ag-1)*ad*ad+1)+ae},easeInOutCubic:function(ac,ad,ae,af,ag){if((ad/=ag/2)<1){return af/2*ad*ad*ad+ae}return af/2*((ad-=2)*ad*ad+2)+ae},easeInQuart:function(ac,ad,ae,af,ag){return af*(ad/=ag)*ad*ad*ad+ae},easeOutQuart:function(ac,ad,ae,af,ag){return -af*((ad=ad/ag-1)*ad*ad*ad-1)+ae},easeInOutQuart:function(ac,ad,ae,af,ag){if((ad/=ag/2)<1){return af/2*ad*ad*ad*ad+ae}return -af/2*((ad-=2)*ad*ad*ad-2)+ae},easeInQuint:function(ac,ad,ae,af,ag){return af*(ad/=ag)*ad*ad*ad*ad+ae},easeOutQuint:function(ac,ad,ae,af,ag){return af*((ad=ad/ag-1)*ad*ad*ad*ad+1)+ae},easeInOutQuint:function(ac,ad,ae,af,ag){if((ad/=ag/2)<1){return af/2*ad*ad*ad*ad*ad+ae}return af/2*((ad-=2)*ad*ad*ad*ad+2)+ae},easeInSine:function(ac,ad,ae,af,ag){return -af*Math.cos(ad/ag*(Math.PI/2))+af+ae},easeOutSine:function(ac,ad,ae,af,ag){return af*Math.sin(ad/ag*(Math.PI/2))+ae
},easeInOutSine:function(ac,ad,ae,af,ag){return -af/2*(Math.cos(Math.PI*ad/ag)-1)+ae},easeInExpo:function(ac,ad,ae,af,ag){return(ad==0)?ae:af*Math.pow(2,10*(ad/ag-1))+ae},easeOutExpo:function(ac,ad,ae,af,ag){return(ad==ag)?ae+af:af*(-Math.pow(2,-10*ad/ag)+1)+ae},easeInOutExpo:function(ac,ad,ae,af,ag){if(ad==0){return ae}if(ad==ag){return ae+af}if((ad/=ag/2)<1){return af/2*Math.pow(2,10*(ad-1))+ae}return af/2*(-Math.pow(2,-10*--ad)+2)+ae},easeInCirc:function(ac,ad,ae,af,ag){return -af*(Math.sqrt(1-(ad/=ag)*ad)-1)+ae},easeOutCirc:function(ac,ad,ae,af,ag){return af*Math.sqrt(1-(ad=ad/ag-1)*ad)+ae},easeInOutCirc:function(ac,ad,ae,af,ag){if((ad/=ag/2)<1){return -af/2*(Math.sqrt(1-ad*ad)-1)+ae}return af/2*(Math.sqrt(1-(ad-=2)*ad)+1)+ae},easeInElastic:function(ac,aj,ae,af,ag){var ai=1.70158;var ah=0;var ad=af;if(aj==0){return ae}if((aj/=ag)==1){return ae+af}if(!ah){ah=ag*0.3}if(ad<Math.abs(af)){ad=af;ai=ah/4}else{ai=ah/(2*Math.PI)*Math.asin(af/ad)}return -(ad*Math.pow(2,10*(aj-=1))*Math.sin((aj*ag-ai)*(2*Math.PI)/ah))+ae
},easeOutElastic:function(ac,aj,ae,af,ag){var ai=1.70158;var ah=0;var ad=af;if(aj==0){return ae}if((aj/=ag)==1){return ae+af}if(!ah){ah=ag*0.3}if(ad<Math.abs(af)){ad=af;ai=ah/4}else{ai=ah/(2*Math.PI)*Math.asin(af/ad)}return ad*Math.pow(2,-10*aj)*Math.sin((aj*ag-ai)*(2*Math.PI)/ah)+af+ae},easeInOutElastic:function(ac,aj,ae,af,ag){var ai=1.70158;var ah=0;var ad=af;if(aj==0){return ae}if((aj/=ag/2)==2){return ae+af}if(!ah){ah=ag*(0.3*1.5)}if(ad<Math.abs(af)){ad=af;ai=ah/4}else{ai=ah/(2*Math.PI)*Math.asin(af/ad)}if(aj<1){return -0.5*(ad*Math.pow(2,10*(aj-=1))*Math.sin((aj*ag-ai)*(2*Math.PI)/ah))+ae}return ad*Math.pow(2,-10*(aj-=1))*Math.sin((aj*ag-ai)*(2*Math.PI)/ah)*0.5+af+ae},easeInBack:function(ac,ad,ae,af,ag,ah){if(ah==null){ah=1.70158}return af*(ad/=ag)*ad*((ah+1)*ad-ah)+ae},easeOutBack:function(ac,ad,ae,af,ag,ah){if(ah==null){ah=1.70158}return af*((ad=ad/ag-1)*ad*((ah+1)*ad+ah)+1)+ae},easeInOutBack:function(ac,ad,ae,af,ag,ah){if(ah==null){ah=1.70158}if((ad/=ag/2)<1){return af/2*(ad*ad*(((ah*=(1.525))+1)*ad-ah))+ae
}return af/2*((ad-=2)*ad*(((ah*=(1.525))+1)*ad+ah)+2)+ae},easeInBounce:function(ac,ad,ae,af,ag){return af-k.easing.easeOutBounce(ac,ag-ad,0,af,ag)+ae},easeOutBounce:function(ac,ad,ae,af,ag){if((ad/=ag)<(1/2.75)){return af*(7.5625*ad*ad)+ae}else{if(ad<(2/2.75)){return af*(7.5625*(ad-=(1.5/2.75))*ad+0.75)+ae}else{if(ad<(2.5/2.75)){return af*(7.5625*(ad-=(2.25/2.75))*ad+0.9375)+ae}else{return af*(7.5625*(ad-=(2.625/2.75))*ad+0.984375)+ae}}}},easeInOutBounce:function(ac,ad,ae,af,ag){if(ad<ag/2){return k.easing.easeInBounce(ac,ad*2,0,af,ag)*0.5+ae}return k.easing.easeOutBounce(ac,ad*2-ag,0,af,ag)*0.5+af*0.5+ae}});var u=new function(){var ac=/([a-zA-Z0-9]+)\((.*?)\)/g;var ar=/([A-Z])/g;k.transit={version:"0.9.13_tvx",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,use3d:false,useTransitionEnd:true,transitionClearDelay:100,transitionEndDelay:50};
k.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",swing:"cubic-bezier(.02,.01,.47,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};
function aj(ay){this.values={};if(typeof ay==="string"){this.parse(ay)}}aj.prototype={set:function(az,ay){if(ay===""){this.clear(az)}else{if(this.setter[az]!=null){if(az==="scale"||az==="translate"){ay=typeof ay==="string"?ay.split(","):ay}this.setter[az].apply(this,Array.isArray(ay)?ay:[ay])}else{this.values[az]=ay}}},get:function(ay){if(this.getter[ay]!=null){return this.getter[ay].apply(this)}else{return this.values[ay]||0}},clear:function(ay){if(ay==="scale"||ay==="scaleX"||ay==="scaleY"){delete this.scaleX;delete this.scaleY;delete this.values.scale}else{if(ay==="translate"||ay==="translateX"||ay==="translateY"){delete this.translateX;delete this.translateY;delete this.values.translate}else{delete this.values[ay]}}},setter:{rotate:function(ay){this.values.rotate=aq(ay,"deg")},rotateX:function(ay){this.values.rotateX=aq(ay,"deg")},rotateY:function(ay){this.values.rotateY=aq(ay,"deg")},rotateZ:function(ay){this.values.rotateZ=aq(ay,"deg")},scaleX:function(ay){this.setter.scale.apply(this,[ay,null])
},scaleY:function(ay){this.setter.scale.apply(this,[null,ay])},scale:function(ay,az){if(az===undefined){az=ay}if(ay!==null&&ay!==undefined){this.scaleX=ay}else{if(this.scaleX===undefined){this.scaleX=1}}if(az!==null&&az!==undefined){this.scaleY=az}else{if(this.scaleY===undefined){this.scaleY=1}}this.values.scale=this.scaleX+","+this.scaleY},skewX:function(ay){this.values.skewX=aq(ay,"deg")},skewY:function(ay){this.values.skewY=aq(ay,"deg")},perspective:function(ay){this.values.perspective=aq(ay,"px")},translateX:function(ay){this.setter.translate.apply(this,[ay,null])},translateY:function(ay){this.setter.translate.apply(this,[null,ay])},translateZ:function(ay){this.values.translateZ=aq(ay,"px")},translate:function(ay,az){if(ay!==null&&ay!==undefined){this.translateX=aq(ay,"px")}else{if(this.translateX===undefined){this.translateX=0}}if(az!==null&&az!==undefined){this.translateY=aq(az,"px")}else{if(this.translateY===undefined){this.translateY=0}}this.values.translate=this.translateX+","+this.translateY
}},getter:{scaleX:function(){return this.scaleX||1},scaleY:function(){return this.scaleY||1},translateX:function(){return this.translateX||0},translateY:function(){return this.translateY||0}},parse:function(ay){var az=this;ay.replace(ac,function(aA,aC,aB){az.set(aC,aB);return aA})},toString:function(aA){var az="";var aB=this.values;for(var aC in aB){var ay=aB[aC];if(aA&&aC==="scaleZ"&&aB.scale!=null){continue}if(aA&&aC==="translateZ"&&aB.translate!=null){continue}if(az.length>0){az+=" "}if(aA&&aC==="scale"){az+=aC+"3d("+ay+","+(aB.scaleZ||1)+")"}else{if(aA&&aC==="translate"){az+=aC+"3d("+ay+","+(aB.translateZ||0)+")"}else{az+=aC+"("+ay+")"}}}return az}};var ai={};var an={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var ax={transition:"transitioncancel",MozTransition:"transitioncancel",OTransition:"oTransitionCancel",WebkitTransition:"webkitTransitionCancel",msTransition:"MSTransitionCancel"};
var ad=function(ay,aD){if(ay!=null){if(aD in ay.style){return aD}var az=["Moz","Webkit","O","ms"];var aC=aD.charAt(0).toUpperCase()+aD.substr(1);for(var aB=0;aB<az.length;aB++){var aA=az[aB]+aC;if(aA in ay.style){return aA}}}return null};var av=function(ay){if(ay!=null&&ai.transform!=null){ay.style[ai.transform]="";ay.style[ai.transform]="rotateY(90deg)";return ay.style[ai.transform]!==""}return false};var ag=function(aA,ay,az){if(ay===true){aA.queue(az)}else{if(ay){aA.queue(ay,az)}else{aA.each(function(){az.call(this)})}}};var ap=function(ay){var az=[];k.each(ay,function(aA){aA=k.camelCase(aA);aA=k.transit.propertyMap[aA]||k.cssProps[aA]||aA;aA=ae(aA);if(k.inArray(aA,az)===-1){az.push(aA)}});return az};var ah=function(aB,aE,az,aA){var ay=ap(aB);if(k.cssEase[az]){az=k.cssEase[az]}var aC=aq(aE,"ms")+" "+az;if(parseInt(aA,10)>0){aC+=" "+aq(aA,"ms")}var aD="";k.each(ay,function(aG,aF){if(aD.length>0){aD+=", "}aD+=aF+" "+aC});return aD};var am=function(ay,aA,az){if(typeof aA==="function"){aA.apply(ay)
}if(typeof az==="function"){az()}};var ak=function(ay,aD,aC,az,aB,aA){if(az!=null){if(ai.transitionEnd!=null){az.unbind(ai.transitionEnd)}if(ai.transitionCancel!=null){az.unbind(ai.transitionCancel)}}if(aB!=null){clearTimeout(aB)}if(aA!=null){clearTimeout(aA)}ay.style[ai.transition]=null;am(ay,aD,aC)};var at=function(aC,aD,aF,az,aE){var aB=false;var ay=null;var aA=setTimeout(function(){aA=null;if(aB){ak(aD,aF,az,aC,aA,ay)}else{if(k.transit.transitionClearDelay>=0){ay=setTimeout(function(){ay=null;aB=true;ak(aD,aF,az,aC,aA,ay)},k.transit.transitionClearDelay)}else{aB=true;ak(aD,aF,az,aC,aA,ay)}}},aE);if(ai.transitionEnd!=null){aC.bind(ai.transitionEnd,function(){if(!aB){aB=true;if(aA==null){ak(aD,aF,az,aC,aA,ay)}}})}if(ai.transitionCancel!=null){aC.bind(ai.transitionCancel,function(){if(!aB){aB=true;if(aA==null){ak(aD,aF,az,aC,aA,ay)}}})}};var aw=function(aB,ay,aA,aC,az){if(aC===0){return function(aF){var aD=this;var aE=aB.length>1?k(aD):aB;aE.css(aA);am(aD,az,aF)}}else{return function(aF){var aD=this;
var aE=aB.length>1?k(aD):aB;aD.offsetWidth;aD.style[ai.transition]=ay;aE.css(aA);if(ai.transitionEnd!=null&&k.transit.useTransitionEnd){at(aE,aD,az,aF,aC)}else{setTimeout(function(){ak(aD,az,aF)},aC+k.transit.transitionEndDelay)}}}};var ao=function(az,ay){if(!ay){k.cssNumber[az]=true}k.transit.propertyMap[az]=ai.transform;k.cssHooks[az]={get:function(aB){var aA=k.data(aB,"transform")||new aj();return aA.get(az)},set:function(aC,aA){var aB=k.data(aC,"transform");if(aB==null){aB=new aj();k.data(aC,"transform",aB)}aB.set(az,aA);aC.style[ai.transform]=aB.toString(k.transit.use3d)}}};var ae=function(ay){return ay.replace(ar,function(az){return"-"+az.toLowerCase()})};var aq=function(ay,az){if(typeof ay==="string"&&!isFinite(ay)){return ay}else{return""+ay+az}};var al=function(){var ay=document.createElement("div");ai.transition=ad(ay,"transition");ai.transitionDelay=ad(ay,"transitionDelay");ai.transform=ad(ay,"transform");ai.transformOrigin=ad(ay,"transformOrigin");ai.transform3d=av(ay,ai);ai.transitionEnd=an[ai.transition]||null;
ai.transitionCancel=ax[ai.transition]||null;ay=null};var af=function(){for(var ay in ai){if(ai.hasOwnProperty(ay)&&typeof k.support[ay]==="undefined"){k.support[ay]=ai[ay]}}k.cssHooks["transit:transform"]={get:function(az){return k.data(az,"transform")||new aj()},set:function(aA,az){if(typeof az==="string"){az=new aj(az)}k.data(aA,"transform",az);aA.style[ai.transform]=az.toString(k.transit.use3d)}};k.cssHooks.transform={set:k.cssHooks["transit:transform"].set};ao("scale");ao("scaleX");ao("scaleY");ao("scaleZ");ao("rotate");ao("rotateX");ao("rotateY");ao("rotateZ");ao("skewX");ao("skewY");ao("translate");ao("translateX",true);ao("translateY",true);ao("translateZ",true);ao("perspective")};var au=function(){k.fn.transition=k.fn.transit=function(aC,aH,aD,aI){var aE=0;var aB=true;if(typeof aH==="function"){aI=aH;aH=undefined}if(typeof aH==="object"){aD=aH.easing;aE=aH.delay||0;aB=typeof aH.queue!=="undefined"?aH.queue:true;aI=aH.complete;aH=aH.duration}if(typeof aD==="function"){aI=aD;aD=undefined
}if(typeof aC.easing!=="undefined"){aD=aC.easing;delete aC.easing}if(typeof aC.duration!=="undefined"){aH=aC.duration;delete aC.duration}if(typeof aC.complete!=="undefined"){aI=aC.complete;delete aC.complete}if(typeof aC.queue!=="undefined"){aB=aC.queue;delete aC.queue}if(typeof aC.delay!=="undefined"){aE=aC.delay;delete aC.delay}if(typeof aH==="undefined"){aH=k.fx.speeds._default}if(typeof aD==="undefined"){aD=k.cssEase._default}if(typeof aH==="string"){var az=k.fx.speeds[aH];if(az!=null){aH=az}}var aF=ah(aC,aH,aD,aE);var aG=k.transit.enabled&&ai.transition!=null;var ay=aG?(parseInt(aH,10)+parseInt(aE,10)):0;var aA=aw(this,aF,aC,ay,aI);ag(this,aB,aA);return this}};al();af();au()};function Z(at,an,ag,aw){var av=null;var ad=300;var ai=20;try{av=at!=null?at.getContext("2d"):null}catch(aq){O.logger.error("Canvas not supported: "+aq)}var ak=0;var ac=0;var af=0;var ae=[];var ap=0;var al=0;var aj=false;var ar=function(){return Math.random()*2-1};var am=function(){var aC=(aw.angle+aw.angleRandom*ar())*(Math.PI/180);
var aB=aw.speed+aw.speedRandom*ar();var az={positionX:aw.position.x+aw.positionRandom.x*ar(),positionY:aw.position.y+aw.positionRandom.y*ar(),directionX:Math.cos(aC)*aB,directionY:Math.sin(aC)*aB,size:0,sizeSmall:0,timeToLive:0,timeExists:0,timeToChange:0,sharpness:0,splash:0,splashDelta:0,colorR:0,colorG:0,colorB:0,colorA:0,colorDeltaR:0,colorDeltaG:0,colorDeltaB:0,colorDeltaA:0,colorThetaR:0,colorThetaG:0,colorThetaB:0,colorThetaA:0,colorThetaDelta:0,drawColor0:null,drawColor1:null,keepAlive:false,autoDestroy:false};az.size=aw.size+aw.sizeRandom*ar();az.size=az.size<0?0:az.size;az.timeToLive=aw.lifeSpan+aw.lifeSpanRandom*ar();az.sharpness=aw.sharpness+aw.sharpnessRandom*ar();az.sharpness=az.sharpness>100?100:az.sharpness<0?0:az.sharpness;az.sizeSmall=(az.size/200)*az.sharpness;az.splash=aw.splash+aw.splashRandom*ar();az.splash=az.splash<0?0:az.splash;az.keepAlive=aw.keepAlive===true;az.autoDestroy=aw.autoDestroy===true;if(az.timeToLive>0){az.splashDelta=az.splash/az.timeToLive}var aH=aw.startColor[0]+aw.startColorRandom[0]*ar();
var aA=aw.startColor[1]+aw.startColorRandom[1]*ar();var ax=aw.startColor[2]+aw.startColorRandom[2]*ar();var aE=aw.startColor[3]+aw.startColorRandom[3]*ar();var ay=aw.endColor[0]+aw.endColorRandom[0]*ar();var aG=aw.endColor[1]+aw.endColorRandom[1]*ar();var aD=aw.endColor[2]+aw.endColorRandom[2]*ar();var aF=aw.endColor[3]+aw.endColorRandom[3]*ar();if(az.timeToLive>0){az.colorR=aH;az.colorG=aA;az.colorB=ax;az.colorA=aE;az.colorDeltaR=(ay-aH)/az.timeToLive;az.colorDeltaG=(aG-aA)/az.timeToLive;az.colorDeltaB=(aD-ax)/az.timeToLive;az.colorDeltaA=(aF-aE)/az.timeToLive}else{az.colorR=ay;az.colorG=aG;az.colorB=aD;az.colorA=aF}return az};var ah=function(){if(aw.lifeSpan>0){var ax=aw.particleCount;var ay=ax/aw.lifeSpan;if(ay>0){var az=1/ay;al++;while(ap<ax&&al>az){ae[ap]=am();ap++;al-=az}}}};var ao=function(aE){var az=0;while(az<ap){var ay=ae[az];var aB=ay.colorA>0&&ay.positionX+ay.size>0&&ay.positionY+ay.size>0&&ay.positionX-ay.size<an&&ay.positionY-ay.size<ag;if(ay.timeExists>0&&ay.autoDestroy&&!aB){ay.timeToLive=0
}if(ay.timeToLive>0||(ay.keepAlive&&aB)){ay.directionX+=aw.gravity.x;ay.directionY+=aw.gravity.y;ay.positionX+=ay.directionX;ay.positionY+=ay.directionY;ay.timeToLive--;ay.timeExists++;if(ay.splashDelta!=0){ay.size+=ay.splashDelta}var aF=aw.lifeSpan*0.05;var aD=ay.colorR+=ay.colorDeltaR;var aC=ay.colorG+=ay.colorDeltaG;var aA=ay.colorB+=ay.colorDeltaB;var ax=ay.colorA+=ay.colorDeltaA;if(ay.colorThetaDelta>0){ay.colorThetaDelta--;aD=ay.colorR+=ay.colorThetaR;aC=ay.colorG+=ay.colorThetaG;aA=ay.colorB+=ay.colorThetaB;ax=ay.colorA+=ay.colorThetaA}if(ay.timeExists<aF){ax=ay.colorA*(ay.timeExists/aF)}ay.drawColor0="rgba("+(aD>255?255:aD<0?0:~~aD)+","+(aC>255?255:aC<0?0:~~aC)+","+(aA>255?255:aA<0?0:~~aA)+","+(ax>1?1:ax<0?0:ax.toFixed(2))+")";if(aE==="auto"){ay.drawColor1="rgba("+(aD>255?255:aD<0?0:~~aD)+","+(aC>255?255:aC<0?0:~~aC)+","+(aA>255?255:aA<0?0:~~aA)+",0)"}else{ay.drawColor1=aE}az++}else{if(az!=ap-1){ae[az]=ae[ap-1]}ap--}}};var au=function(){av.clearRect(0,0,an,ag);for(var ax=0;ax<ap;
ax++){var ay=ae[ax];var aD=~~ay.size;var aE=~~ay.sizeSmall;var aB=~~(aD>>1);if(aB>0){var az=~~ay.positionX;var aA=~~ay.positionY;var aC=av.createRadialGradient(az,aA,aE<aB?aE:aE-1,az,aA,aB);aC.addColorStop(0,ay.drawColor0);aC.addColorStop(1,ay.drawColor1);av.fillStyle=aC;av.fillRect(az-aB,aA-aB,aD,aD)}}};this.fpsIndicator=null;this.transparentColor="rgba(0,0,0,0)";this.hasContext=function(){return av!=null};this.getCompositeMode=function(){if(av!=null){return av.globalCompositeOperation}return null};this.setCompositeMode=function(ax){if(av!=null){av.globalCompositeOperation=ax}};this.render=function(ax){if((aj||ax===true)&&av!=null){ah();ao(this.transparentColor);au();if(this.fpsIndicator!=null){var ay=P.getTimestamp();if(ak>0&&ay>ak){ac++;af+=(1000/(ay-ak))}ak=ay;if(ac==10){this.fpsIndicator.innerHTML=Math.round(af/ac)+" fps";ac=0;af=0}}}};this.start=function(){if(!aj&&av!=null&&aw!=null){ak=0;ac=0;af=0;aj=true;T.start(this)}};this.stop=function(){if(aj){aj=false;T.stop(this)}};this.restart=function(){for(var ax=0;
ax<ap;ax++){var ay=ae[ax];ay.timeToLive=0;ay.keepAlive=false}al=0};this.isRunning=function(){return aj};this.applyColors=function(){for(var ax=0;ax<ap;ax++){var aA=ae[ax];if(aA.timeToLive>0){var aG=aw.startColor[0]+aw.startColorRandom[0]*ar();var aB=aw.startColor[1]+aw.startColorRandom[1]*ar();var ay=aw.startColor[2]+aw.startColorRandom[2]*ar();var aD=aw.startColor[3]+aw.startColorRandom[3]*ar();var az=aw.endColor[0]+aw.endColorRandom[0]*ar();var aF=aw.endColor[1]+aw.endColorRandom[1]*ar();var aC=aw.endColor[2]+aw.endColorRandom[2]*ar();var aE=aw.endColor[3]+aw.endColorRandom[3]*ar();aA.colorThetaDelta=~~(ad/ai);if(aA.timeToLive<aA.colorThetaDelta){aA.colorThetaDelta=aA.timeToLive}aA.colorThetaR=(aG-aA.colorR)/aA.colorThetaDelta;aA.colorThetaG=(aB-aA.colorG)/aA.colorThetaDelta;aA.colorThetaB=(ay-aA.colorB)/aA.colorThetaDelta;aA.colorThetaA=(aD-aA.colorA)/aA.colorThetaDelta;if(aA.timeToLive>aA.colorThetaDelta){aA.colorDeltaR=(az-aG)/(aA.timeToLive-aA.colorThetaDelta);aA.colorDeltaG=(aF-aB)/(aA.timeToLive-aA.colorThetaDelta);
aA.colorDeltaB=(aC-ay)/(aA.timeToLive-aA.colorThetaDelta);aA.colorDeltaA=(aE-aD)/(aA.timeToLive-aA.colorThetaDelta)}}}};this.setCompositeMode(j.COMPOSITE_MODE.LIGHTER)}function y(am,ad,ai){var al=null;try{al=am!=null?am.getContext("2d"):null}catch(aj){O.logger.error("Canvas not supported: "+aj)}var af=0;var ag=0;var ae=0;var ah=[];var ac=false;var ak=function(){al.clearRect(0,0,ad,ai);for(var an=0;an<ah.length;an++){ah[an].render(al)}};this.fpsIndicator=null;this.hasContext=function(){return al!=null};this.getCompositeMode=function(){if(al!=null){return al.globalCompositeOperation}return null};this.setCompositeMode=function(an){if(al!=null){al.globalCompositeOperation=an}};this.render=function(an){if((ac||an===true)&&al!=null){ak();if(this.fpsIndicator!=null){var ao=P.getTimestamp();if(af>0&&ao>af){ag++;ae+=(1000/(ao-af))}af=ao;if(ag==10){this.fpsIndicator.innerHTML=Math.round(ae/ag)+" fps";ag=0;ae=0}}}};this.start=function(){if(!ac&&al!=null){af=0;ag=0;ae=0;ac=true;T.start(this)}};this.stop=function(){if(ac){ac=false;
T.stop(this)}};this.isRunning=function(){return ac};this.getObjectsCount=function(){return ah.length};this.clearObjects=function(){ah=[]};this.containsObject=function(an){if(an!=null){return ah.indexOf(an)>-1}};this.addObject=function(an){if(al!=null&&an!=null){ah.push(an);if(typeof an.init=="function"){an.init(al)}}};this.removeObject=function(ao){if(ao!=null){var an=ah.indexOf(ao);if(an>-1){ah.splice(an,1)}}};this.removeFirstObject=function(){if(ah.length>0){this.removeObject(ah[0])}};this.removeLastObject=function(){if(ah.length>0){this.removeObject(ah[ah.length-1])}};this.moveObject=function(ap,ao){if(ap!=null&&ah.length>0){if(ao<0){ao=0}else{if(ao>=ah.length){ao=ah.length-1}}var an=ah.indexOf(ap);if(an>-1&&an!=ao){ah.splice(an,1);ah.splice(ao,0,ap)}}};this.foreachObject=function(ao){for(var an=0;an<ah.length;an++){if(ao(an,ah[an])===true){break}}};this.seekObject=function(ao){for(var an=0;an<ah.length;an++){if(ao(an,ah[an])===true){return ah[an]}}return null};this.setCompositeMode(j.COMPOSITE_MODE.SOURCE_OVER)
}var n=new function(){var ai=this;var aH=null;var ak=0;var ar=function(aK){if(aK!=null){var aJ;for(aJ in aK){return true}}return false};var av=function(aJ,aK){if(aJ===aK){return 1}if(aJ!==undefined&&aK!==undefined){return 2}return 0};var ae=function(aJ,aM,aL,aK){if(aJ===false||aM===false){return false}if(aL<0){aL=0}else{if(aL>1){aL=1}}var aN=aJ+(aM-aJ)*aL;if(aK==1){return G.roundPixelValue(aN)}else{if(aK==2){return G.roundOpacityValue(aN)}}return aN};var aE=function(aK,aJ,aL){if(aK===false||aJ===false){return false}if(aK!=null&&aK.length==4&&aJ!=null&&aJ.length==4&&!aC(aK,aJ)){return[Math.max(Math.min(Math.floor(aK[0]+(aJ[0]-aK[0])*aL),255),0),Math.max(Math.min(Math.floor(aK[1]+(aJ[1]-aK[1])*aL),255),0),Math.max(Math.min(Math.floor(aK[2]+(aJ[2]-aK[2])*aL),255),0),aK[3]+(aJ[3]-aK[3])*aL]}return aK};var aC=function(aK,aJ){if(aK!=null&&aJ!=null){if(aK===aJ){return true}if(aK.length==4&&aJ.length==4){return aK[0]===aJ[0]&&aK[1]===aJ[1]&&aK[2]===aJ[2]&&aK[3]===aJ[3]}}return false};var ap=function(aK,aJ){if(aK!=null&&aJ!=null){if(aK===aJ){return true
}if(aK.left===aJ.left&&aK.top===aJ.top&&aK.width===aJ.width&&aK.height===aJ.height&&aK.opacity===aJ.opacity&&aK.visible===aJ.visible&&aK.fontSize===aJ.fontSize){if(aK.color!==aJ.color&&!aC(aK.color,aJ.color)){return false}if(aK.backColor!==aJ.backColor&&!aC(aK.backColor,aJ.backColor)){return false}if(ai.useTransformations()||aG(aK.transform,aJ.transform)){if(aK.transform!==aJ.transform){return an(aK.transform,aJ.transform)}}return true}}return false};var al=function(aK,aJ){if(aK!=null&&aJ!=null){if(aK===aJ){return true}if(av(aK.left,aJ.left)>0&&av(aK.top,aJ.top)>0&&av(aK.width,aJ.width)>0&&av(aK.height,aJ.height)>0&&av(aK.opacity,aJ.opacity)>0&&av(aK.visible,aJ.visible)>0&&av(aK.fontSize,aJ.fontSize)>0&&av(aK.color,aJ.color)>0&&av(aK.backColor,aJ.backColor)>0){if(ai.useTransformations()||aG(aK.transform,aJ.transform)){if(aK.transform!==aJ.transform){return at(aK.transform,aJ.transform)}}return true}}return false};var ao=function(aJ){return aJ!=null&&aJ.important===true};var aG=function(aJ,aK){return ao(aJ)||ao(aK)
};var an=function(aJ,aK){if(aJ!=null&&aK!=null){if(aJ===aK){return true}if(aJ!==false&&aK!==false){return aJ.translateX===aK.translateX&&aJ.translateY===aK.translateY&&aJ.translateZ===aK.translateZ&&aJ.scale===aK.scale&&aJ.scaleX===aK.scaleX&&aJ.scaleY===aK.scaleY&&aJ.scaleZ===aK.scaleZ&&aJ.skewX===aK.skewX&&aJ.skewY===aK.skewY&&aJ.rotate===aK.rotate&&aJ.rotateX===aK.rotateX&&aJ.rotateY===aK.rotateY&&aJ.rotateZ===aK.rotateZ}}return false};var at=function(aJ,aK){if(aJ!=null&&aK!=null){if(aJ===aK){return true}if(aJ!==false&&aK!==false){return av(aJ.translateX,aK.translateX)>0&&av(aJ.translateY,aK.translateY)>0&&av(aJ.translateZ,aK.translateZ)>0&&av(aJ.scale,aK.scale)>0&&av(aJ.scaleX,aK.scaleX)>0&&av(aJ.scaleY,aK.scaleY)>0&&av(aJ.scaleZ,aK.scaleZ)>0&&av(aJ.skewX,aK.skewX)>0&&av(aJ.skewY,aK.skewY)>0&&av(aJ.rotate,aK.rotate)>0&&av(aJ.rotateX,aK.rotateX)>0&&av(aJ.rotateY,aK.rotateY)>0&&av(aJ.rotateZ,aK.rotateZ)>0}}return false};var ax=function(aJ,aK){if(aJ!=null&&aK!=null&&aJ!==aK&&!at(aJ,aK)){if(aJ===false||aK===false){return false
}if(!ar(aK)){return aJ}var aL={};if(aJ.important===true||aK.important===true){aL.important=true}if(aJ.translateX!==undefined){aL.translateX=aJ.translateX}else{if(aK.translateX!==undefined){aL.translateX=aK.translateX}}if(aJ.translateY!==undefined){aL.translateY=aJ.translateY}else{if(aK.translateY!==undefined){aL.translateY=aK.translateY}}if(aJ.translateZ!==undefined){aL.translateZ=aJ.translateZ}else{if(aK.translateZ!==undefined){aL.translateZ=aK.translateZ}}if(aJ.scale!==undefined){aL.scale=aJ.scale}else{if(aK.scale!==undefined){aL.scale=aK.scale}}if(aJ.scaleX!==undefined){aL.scaleX=aJ.scaleX}else{if(aK.scaleX!==undefined){aL.scaleX=aK.scaleX}}if(aJ.scaleY!==undefined){aL.scaleY=aJ.scaleY}else{if(aK.scaleY!==undefined){aL.scaleY=aK.scaleY}}if(aJ.scaleZ!==undefined){aL.scaleZ=aJ.scaleZ}else{if(aK.scaleZ!==undefined){aL.scaleZ=aK.scaleZ}}if(aJ.skewX!==undefined){aL.skewX=aJ.skewX}else{if(aK.skewX!==undefined){aL.skewX=aK.skewX}}if(aJ.skewY!==undefined){aL.skewY=aJ.skewY}else{if(aK.skewY!==undefined){aL.skewY=aK.skewY
}}if(aJ.rotate!==undefined){aL.rotate=aJ.rotate}else{if(aK.rotate!==undefined){aL.rotate=aK.rotate}}if(aJ.rotateX!==undefined){aL.rotateX=aJ.rotateX}else{if(aK.rotateX!==undefined){aL.rotateX=aK.rotateX}}if(aJ.rotateY!==undefined){aL.rotateY=aJ.rotateY}else{if(aK.rotateY!==undefined){aL.rotateY=aK.rotateY}}if(aJ.rotateZ!==undefined){aL.rotateZ=aJ.rotateZ}else{if(aK.rotateZ!==undefined){aL.rotateZ=aK.rotateZ}}return aL}return aJ};var ac=function(aJ,aK,aL){if(aJ!=null&&aK!=null&&aJ!==aK&&!an(aJ,aK)){if(aJ===false||aK===false){return false}if(!ar(aK)){return aJ}var aM={};if(aJ.important===true||aK.important===true){aM.important=true}if(aJ.translateX!==undefined&&aK.translateX!==undefined){aM.translateX=ae(aJ.translateX,aK.translateX,aL,1)}if(aJ.translateY!==undefined&&aK.translateY!==undefined){aM.translateY=ae(aJ.translateY,aK.translateY,aL,1)}if(aJ.translateZ!==undefined&&aK.translateZ!==undefined){aM.translateZ=ae(aJ.translateZ,aK.translateZ,aL,1)}if(aJ.scale!==undefined&&aK.scale!==undefined){aM.scale=ae(aJ.scale,aK.scale,aL,0)
}if(aJ.scaleX!==undefined&&aK.scaleX!==undefined){aM.scaleX=ae(aJ.scaleX,aK.scaleX,aL,0)}if(aJ.scaleY!==undefined&&aK.scaleY!==undefined){aM.scaleY=ae(aJ.scaleY,aK.scaleY,aL,0)}if(aJ.scaleZ!==undefined&&aK.scaleZ!==undefined){aM.scaleZ=ae(aJ.scaleZ,aK.scaleZ,aL,0)}if(aJ.skewX!==undefined&&aK.skewX!==undefined){aM.skewX=ae(aJ.skewX,aK.skewX,aL,0)}if(aJ.skewY!==undefined&&aK.skewY!==undefined){aM.skewY=ae(aJ.skewY,aK.skewY,aL,0)}if(aJ.rotate!==undefined&&aK.rotate!==undefined){aM.rotate=ae(aJ.rotate,aK.rotate,aL,0)}if(aJ.rotateX!==undefined&&aK.rotateX!==undefined){aM.rotateX=ae(aJ.rotateX,aK.rotateX,aL,0)}if(aJ.rotateY!==undefined&&aK.rotateY!==undefined){aM.rotateY=ae(aJ.rotateY,aK.rotateY,aL,0)}if(aJ.rotateZ!==undefined&&aK.rotateZ!==undefined){aM.rotateZ=ae(aJ.rotateZ,aK.rotateZ,aL,0)}return aM}return aJ};var aF=function(aL,aK){if(aL!=null&&aK!=null&&aL!==aK&&!al(aL,aK)){if(!ar(aK)){return aL}var aJ={};if(aL.zIndex!==undefined){aJ.zIndex=aL.zIndex}if(aL.postZIndex!==undefined){aJ.postZIndex=aL.postZIndex
}if(aL.action!==undefined){aJ.action=aL.action}if(aL.preAction!==undefined){aJ.preAction=aL.preAction}if(aL.postAction!==undefined){aJ.postAction=aL.postAction}if(aL.left!==undefined){aJ.left=aL.left}else{if(aK.left!==undefined){aJ.left=aK.left}}if(aL.top!==undefined){aJ.top=aL.top}else{if(aK.top!==undefined){aJ.top=aK.top}}if(aL.width!==undefined){aJ.width=aL.width}else{if(aK.width!==undefined){aJ.width=aK.width}}if(aL.height!==undefined){aJ.height=aL.height}else{if(aK.height!==undefined){aJ.height=aK.height}}if(aL.opacity!==undefined){aJ.opacity=aL.opacity}else{if(aK.opacity!==undefined){aJ.opacity=aK.opacity}}if(aL.visible!==undefined){aJ.visible=aL.visible}else{if(aK.visible!==undefined){aJ.visible=aK.visible}}if(aL.fontSize!==undefined){aJ.fontSize=aL.fontSize}else{if(aK.fontSize!==undefined){aJ.fontSize=aK.fontSize}}if(aL.color!==undefined){aJ.color=aL.color}else{if(aK.color!==undefined){aJ.color=aK.color}}if(aL.backColor!==undefined){aJ.backColor=aL.backColor}else{if(aK.backColor!==undefined){aJ.backColor=aK.backColor
}}if(ai.useTransformations()){if(aL.baseWidth!==undefined){aJ.baseWidth=aL.baseWidth}if(aL.baseHeight!==undefined){aJ.baseHeight=aL.baseHeight}}if(ai.useTransformations()||aG(aL.transform,aK.transform)){if(aL.transform!==undefined&&aK.transform!==undefined){aJ.transform=ax(aL.transform,aK.transform)}else{if(aL.transform!==undefined){aJ.transform=aL.transform}else{if(aK.transform!==undefined){aJ.transform=aK.transform}}}}return aJ}return aL};var aw=function(aM,aK,aL){if(aM!=null&&aK!=null&&aM!==aK&&!ap(aM,aK)){if(!ar(aK)){return aM}var aJ={};if(aM.left!==undefined&&aK.left!==undefined){aJ.left=ae(aM.left,aK.left,aL,1)}if(aM.top!==undefined&&aK.top!==undefined){aJ.top=ae(aM.top,aK.top,aL,1)}if(aM.width!==undefined&&aK.width!==undefined){aJ.width=ae(aM.width,aK.width,aL,1)}if(aM.height!==undefined&&aK.height!==undefined){aJ.height=ae(aM.height,aK.height,aL,1)}if(aM.opacity!==undefined&&aK.opacity!==undefined){aJ.opacity=ae(aM.opacity,aK.opacity,aL,2)}if(aM.visible!==undefined&&aK.visible!==undefined){aJ.visible=aM.visible||aK.visible
}if(aM.fontSize!==undefined&&aK.fontSize!==undefined){aJ.fontSize=ae(aM.fontSize,aK.fontSize,aL,1)}if(aM.color!==undefined&&aK.color!==undefined){aJ.color=aE(aM.color,aK.color,aL)}if(aM.backColor!==undefined&&aK.backColor!==undefined){aJ.backColor=aE(aM.backColor,aK.backColor,aL)}if(ai.useTransformations()){if(aM.baseWidth!==undefined){aJ.baseWidth=aM.baseWidth}if(aM.baseHeight!==undefined){aJ.baseHeight=aM.baseHeight}}if(ai.useTransformations()||aG(aM.transform,aK.transform)){if(aM.transform!==undefined&&aK.transform!==undefined){aJ.transform=ac(aM.transform,aK.transform,aL)}}return aJ}return aM};var au=function(aJ,aK){if(aJ!=null){if(aJ.left!==undefined&&aJ.left!==false){aJ.left=G.getScaledValue(aJ.left,aK)}if(aJ.top!==undefined&&aJ.top!==false){aJ.top=G.getScaledValue(aJ.top,aK)}if(aJ.width!==undefined&&aJ.width!==false){aJ.width=G.getScaledValue(aJ.width,aK)}if(aJ.height!==undefined&&aJ.height!==false){aJ.height=G.getScaledValue(aJ.height,aK)}if(aJ.fontSize!==undefined&&aJ.fontSize!==false){aJ.fontSize=G.getScaledValue(aJ.fontSize,aK)
}if(aJ.baseWidth!==undefined&&aJ.baseWidth!==false){aJ.baseWidth=G.getScaledValue(aJ.baseWidth,aK)}if(aJ.baseHeight!==undefined&&aJ.baseHeight!==false){aJ.baseHeight=G.getScaledValue(aJ.baseHeight,aK)}if(aJ.transform!=null&&aJ.transform!==false){if(aJ.transform.translateX!==undefined&&aJ.transform.translateX!==false){aJ.transform.translateX=G.getScaledValue(aJ.translateX,aK)}if(aJ.transform.translateY!==undefined&&aJ.transform.translateY!==false){aJ.transform.translateY=G.getScaledValue(aJ.translateY,aK)}if(aJ.transform.translateZ!==undefined&&aJ.transform.translateZ!==false){aJ.transform.translateZ=G.getScaledValue(aJ.translateZ,aK)}}}};var aD=function(aJ,aK){if(aJ!=null){var aL=ai.useTransformations();var aN=aG(aJ.transform,aK!=null?aK.transform:null);if(aL&&aJ.transform===false){return null}var aM={};if((aL||aN)&&aJ.transform!=null){var aP=aJ.transform;var aO=aK!=null?aK.transform:null;if(aP.translateX!==undefined){if(aO==null||aO.translateX!==aP.translateX){aM.translateX=aJ.translateX===false?"":aP.translateX
}}if(aP.translateY!==undefined){if(aO==null||aO.translateY!==aP.translateY){aM.translateY=aJ.translateY===false?"":aP.translateY}}if(aP.translateZ!==undefined){if(aO==null||aO.translateZ!==aP.translateZ){aM.translateZ=aJ.translateZ===false?"":aP.translateZ}}if(aP.scale!==undefined){if(aO==null||aO.scale!==aP.scale){aM.scale=aJ.scale===false?"":aP.scale}}if(aP.scaleX!==undefined){if(aO==null||aO.scaleX!==aP.scaleX){aM.scaleX=aJ.scaleX===false?"":aP.scaleX}}if(aP.scaleY!==undefined){if(aO==null||aO.scaleY!==aP.scaleY){aM.scaleY=aJ.scaleY===false?"":aP.scaleY}}if(aP.scaleZ!==undefined){if(aO==null||aO.scaleZ!==aP.scaleZ){aM.scaleZ=aJ.scaleZ===false?"":aP.scaleZ}}if(aP.skewX!==undefined){if(aO==null||aO.skewX!==aP.skewX){aM.skewX=aJ.skewX===false?"":aP.skewX}}if(aP.skewY!==undefined){if(aO==null||aO.skewY!==aP.skewY){aM.skewY=aJ.skewY===false?"":aP.skewY}}if(aP.rotate!==undefined){if(aO==null||aO.rotate!==aP.rotate){aM.rotate=aJ.rotate===false?"":aP.rotate}}if(aP.rotateX!==undefined){if(aO==null||aO.rotateX!==aP.rotateX){aM.rotateX=aJ.rotateX===false?"":aP.rotateX
}}if(aP.rotateY!==undefined){if(aO==null||aO.rotateY!==aP.rotateY){aM.rotateY=aJ.rotateY===false?"":aP.rotateY}}if(aP.rotateZ!==undefined){if(aO==null||aO.rotateZ!==aP.rotateZ){aM.rotateZ=aJ.rotateZ===false?"":aP.rotateZ}}}else{if(aJ.left!==undefined){if(aK==null||aK.left!==aJ.left){if(aL){aM.translateX=aJ.left===false?"":aJ.left}else{aM.left=aJ.left===false?"":aJ.left}}}if(aJ.top!==undefined){if(aK==null||aK.top!==aJ.top){if(aL){aM.translateY=aJ.top===false?"":aJ.top}else{aM.top=aJ.top===false?"":aJ.top}}}if(aJ.width!==undefined){if(aK==null||aK.width!==aJ.width){if(aL){if(aJ.baseWidth!==undefined&&aJ.baseWidth!==false){aM.scaleX=aJ.width===false?"":aJ.width/aJ.baseWidth}else{aM.scaleX=""}}else{aM.width=aJ.width===false?"":aJ.width}}}if(aJ.height!==undefined){if(aK==null||aK.height!==aJ.height){if(aL){if(aJ.baseHeight!==undefined&&aJ.baseHeight!==false){aM.scaleY=aJ.height===false?"":aJ.height/aJ.baseHeight}else{aM.scaleY=""}}else{aM.height=aJ.height===false?"":aJ.height}}}}if(aJ.opacity!==undefined){if(aK==null||aK.opacity!==aJ.opacity){aM.opacity=aJ.opacity===false?"":aJ.opacity
}}if(aJ.fontSize!==undefined){if(aK==null||aK.fontSize!==aJ.fontSize){aM.fontSize=aJ.fontSize===false?"":aJ.fontSize}}if(aJ.color!==undefined){if(aK==null||!aC(aK.color,aJ.color)){aM.color=aJ.color===false?"":E.createColor(aJ.color)}}if(aJ.backColor!==undefined){if(aK==null||!aC(aK.backColor,aJ.backColor)){aM.backgroundColor=aJ.backColor===false?"":E.createColor(aJ.backColor)}}return aM}return null};var ah=function(aJ){if(aJ!=null&&a.isNum(aJ.duration)){return aJ.duration*1}return p.ANIMATION_DURATION};var am=function(aJ){if(aJ!=null&&a.isFullStr(aJ.ease)){return aJ.ease}return p.ANIMATION_EASE};var aI=function(aJ){if(aJ!=null){if(aJ.animationCounter==null){aJ.isAnimating=false;aJ.animationCounter=0}aJ.animationCounter++;if(!aJ.isAnimating){aJ.isAnimating=true;if(typeof aJ.animationsStarted=="function"){aJ.animationsStarted()}}}ak++;ai.isAnimating=true};var ag=function(aJ){if(aJ!=null&&aJ.animationCounter!=null){aJ.animationCounter--;if(aJ.animationCounter<=0){aJ.animationCounter=0;if(aJ.isAnimating){aJ.isAnimating=false;
if(typeof aJ.animationsReady=="function"){aJ.animationsReady()}if(typeof aJ.animationsCompleted=="function"){aJ.animationsCompleted()}}}}ak--;if(ak<=0){ak=0;ai.isAnimating=false;if(aH!=null){var aL=aH;aH=null;if(aL.length>0){for(var aK=0;aK<aL.length;aK++){aL[aK]()}}}}};var aA=function(aN,aL,aK,aM,aJ,aO){if(aN!=null){if(aL){if(aO==null||aO.visible===false){aN.css({display:"none"})}}if(ar(aK)){aN.css(aK)}if(aM!=null){if(aM.zIndex!=null){if(aJ==null||aJ.zIndex!==aM.zIndex){if(aO==null||aO.zIndex===aM.zIndex){aN.css("z-index",aM.zIndex)}}}if(typeof aM.action=="function"){aM.action(aN,aM,aJ,aO)}}}};var aB=function(aM,aK,aJ,aL,aN){if(aM!=null){if(aK){if(aN==null||aN.visible===false){aM.css({display:"none"})}}if(ar(aJ)){aM.css(aJ)}if(aL!=null){if(aL.postZIndex!=null&&aL.zIndex!==aL.postZIndex){if(aN==null||aN.postZIndex===aL.postZIndex){aM.css("z-index",aL.postZIndex);aL.zIndex=aL.postZIndex}}if(typeof aL.postAction=="function"){aL.postAction(aM,aL,aN)}}}};var aq=function(aJ){if(aJ!=null&&aJ.transformClass!==true&&aJ.transformClass!==false){if(a.isFullStr(aJ.transformClass)){ai.putClass(aJ,aJ.transformClass)
}else{ai.putClass(aJ,ai.use3d()?q.RENDERER.CSS.CLASS_TRANSFORM_3D:q.RENDERER.CSS.CLASS_TRANSFORM)}aJ.transformClass=true}};var ad=function(aJ){if(aJ!=null&&aJ.transformOrigin!==true&&aJ.transformOrigin!==false){if(a.isFullStr(aJ.transformOrigin)){aJ.css({transformOrigin:aJ.transformOrigin})}else{aJ.css({transformOrigin:"0 0"})}aJ.transformOrigin=true}};var aj=function(aJ){if(aJ!=null&&aJ.transformPerspective!==true&&aJ.transformPerspective!==false){if(a.isNum(aJ.transformPerspective)){aJ.css({perspective:aJ.transformPerspective*1})}else{aJ.css({perspective:Math.floor(p.SCREEN_WIDTH*0.5)})}aJ.transformPerspective=true}};var ay=function(aM,aL,aJ,aK){if(aM!=null&&aL!=null){if(ai.useTransformations()||aG(aJ!=null?aJ.transform:null,aK!=null?aK.transform:null)){if(aL.translateX!=null||aL.translateY!=null||aL.translateZ!=null||aL.scale!=null||aL.scaleX!=null||aL.scaleY!=null||aL.scaleZ!=null||aL.skewX!=null||aL.skewY!=null||aL.rotate!=null||aL.rotateX!=null||aL.rotateY!=null||aL.rotateZ!=null){aq(aM)
}if(aL.skewX!=null||aL.skewY!=null||aL.rotate!=null||aL.rotateX!=null||aL.rotateY!=null||aL.rotateZ!=null||aL.scale!=null||aL.scaleX!=null||aL.scaleY!=null||aL.scaleZ!=null){ad(aM)}if(aL.rotateX!=null||aL.rotateY!=null||aL.rotateZ!=null){aj(aM)}}}};var az=function(aN,aM,aT,aP,aV,aY){var aL=true;if(aN!=null&&aN.length>0&&ar(aT)){var aO=aF(aT,aN.currentState);var aJ=ar(aM);if(aJ||!ap(aN.currentState,aO)){var aK=ai.useAnimations()&&aP!==false;var aR=false;var aS=false;if(aN.currentState!=null){if(aN.currentState.opacity===0&&aO.opacity===0&&(aM==null||aM.opacity==null||aM.opacity===0)){aK=false}if(aN.currentState.visible===false&&aO.visible===false&&(aM==null||aM.visible==null||aM.visible===false)){aK=false}}if(!aK){aJ=false}if(aJ||!ap(aN.currentState,aO)){var aW=aD(aO,aJ?aM:aN.currentState);if(aW!=null){ay(aN,aW,aO,aJ?aM:aN.currentState);if(aJ){if(aM.zIndex!=null&&(aN.currentState==null||aN.currentState.zIndex!==aM.zIndex)){aN.css("z-index",aM.zIndex)}if(typeof aM.action=="function"){aM.action(aN,aM,aO,aP)
}if(aM.visible===true&&(aN.currentState==null||aN.currentState.visible!==true)){aR=true}}if(aO.visible===true&&(aN.currentState==null||aN.currentState.visible!==true)){aR=true}if(aO.visible===false&&(aR||aN.currentState==null||aN.currentState.visible!==false)){aS=true}if(aR){aN.css({display:""});if(aK&&!aS&&!ar(aW)){aK=false}}if(aK){var aX=ah(aP);var aU=am(aP);var aQ=aD(aM,aN.currentState);aL=false;aI(aV);if(ar(aQ)){aN.css(aQ)}if(ar(aW)){if(ai.useTransitions()){aN.transition(aW,aX,aU,function(){aA(aN,aS,null,aO,aM,aN.currentState);ag(aV);if(typeof aY=="function"){aY()}})}else{aN.animate(aW,aX,aU,function(){aA(aN,aS,null,aO,aM,aN.currentState);ag(aV);if(typeof aY=="function"){aY()}})}}else{aN.delay(aX+(ai.useTransitions()?k.transit.transitionEndDelay:0)).queue(function(){aA(aN,aS,null,aO,aM,aN.currentState);ag(aV);if(typeof aY=="function"){aY()}aN.dequeue()})}}else{aA(aN,aS,aW,aO,null,null)}aN.fromState=aJ!=null?aM:aN.currentState;aN.currentState=aO}}}}if(aL&&typeof aY=="function"){aY()}};
var af=function(aL,aO,aN,aM,aV){var aK=true;if(aL!=null&&aL.length>0&&ar(aO)){var aT=aF(aO,aL.currentState);if(!ap(aL.currentState,aT)){var aJ=ai.useAnimations()&&aN!==false;var aP=false;var aQ=false;if(aL.currentState!=null){if(aL.currentState.opacity===0&&aT.opacity===0){aJ=false}if(aL.currentState.visible===false&&aT.visible===false){aJ=false}}var aR=aD(aT,aL.currentState);if(aR!=null){ay(aL,aR,aT,aL.currentState);if(aT.zIndex!=null&&(aL.currentState==null||aL.currentState.zIndex!==aT.zIndex)){aL.css("z-index",aT.zIndex)}if(typeof aT.preAction=="function"){aT.preAction(aL,aT,aN)}if(aT.visible===true&&(aL.currentState==null||aL.currentState.visible!==true)){aP=true}if(aT.visible===false&&(aL.currentState==null||aL.currentState.visible!==false)){aQ=true}if(aP){aL.css({display:""});if(aJ&&!aQ&&!ar(aR)){aJ=false}}if(aJ){var aU=ah(aN);var aS=am(aN);aK=false;aI(aM);if(ar(aR)){if(ai.useTransitions()){aL.transition(aR,aU,aS,function(){aB(aL,aQ,null,aT,aL.currentState);ag(aM);if(typeof aV=="function"){aV()
}})}else{aL.animate(aR,aU,aS,function(){aB(aL,aQ,null,aT,aL.currentState);ag(aM);if(typeof aV=="function"){aV()}})}}else{aL.delay(aU+(ai.useTransitions()?k.transit.transitionEndDelay:0)).queue(function(){aB(aL,aQ,null,aT,aL.currentState);ag(aM);if(typeof aV=="function"){aV()}aL.dequeue()})}}else{aB(aL,aQ,aR,aT,null)}aL.fromState=aL.currentState;aL.currentState=aT}}}if(aK&&typeof aV=="function"){aV()}};this.isAnimating=false;this.useAnimations=function(){return p.ANIMATE>0};this.useTransformations=function(){return k.transit!=null&&p.TRANSFORM>0};this.useTransitions=function(){return k.transit!=null&&p.ANIMATE==2};this.use3d=function(){return k.transit!=null&&p.TRANSFORM==2};this.setup=function(){if(this.useTransformations()){k.transit.use3d=this.use3d()}};this.onReady=function(aJ){if(typeof aJ=="function"){if(this.isAnimating){if(aH==null){aH=[]}aH.push(aJ)}else{aJ()}}};this.transfer=function(aL,aJ,aK){return aw(aL,aJ,aK)};this.scale=function(aJ,aK){return au(aJ,aK)};this.combine=function(aK,aJ){return aF(aK,aJ)
};this.render=function(aM,aJ,aK,aL,aN){af(aM,aJ,aK,aL,aN)};this.renderFromTo=function(aN,aK,aO,aL,aM,aJ){az(aN,aK,aO,aL,aM,aJ)};this.show=function(aL,aJ,aK,aM){af(aL,q.RENDERER.STATE.SHOW,aJ!=null?aJ:false,aK,aM)};this.hide=function(aL,aJ,aK,aM){af(aL,q.RENDERER.STATE.HIDE,aJ!=null?aJ:false,aK,aM)};this.toggle=function(aL,aJ,aK,aM){if(aL!=null&&ap(aL.currentState,q.RENDERER.STATE.SHOW)){this.hide(aL,aJ,aK,aM)}else{this.show(aL,aJ,aK,aM)}};this.fadeIn=function(aL,aJ,aK,aM){if(aL!=null&&ap(aL.currentState,q.RENDERER.STATE.FADE_IN_TO)){if(typeof aM=="function"){aM()}}else{az(aL,q.RENDERER.STATE.FADE_IN_FROM,q.RENDERER.STATE.FADE_IN_TO,aJ,aK,aM)}};this.fadeOut=function(aL,aJ,aK,aM){if(aL!=null&&ap(aL.currentState,q.RENDERER.STATE.FADE_OUT_TO)){if(typeof aM=="function"){aM()}}else{az(aL,q.RENDERER.STATE.FADE_OUT_FROM,q.RENDERER.STATE.FADE_OUT_TO,aJ,aK,aM)}};this.fadeToggle=function(aL,aJ,aK,aM){if(aL!=null&&ap(aL.currentState,q.RENDERER.STATE.FADE_IN_TO)){this.fadeOut(aL,aJ,aK,aM)}else{this.fadeIn(aL,aJ,aK,aM)
}};this.delay=function(aM,aJ,aN){if(aM!=null&&aM.length>0){var aL=ai.useAnimations()&&aJ!==false;if(aL){var aK=ah(aJ);aM.delay(aK+(ai.useTransitions()?k.transit.transitionEndDelay:0)).queue(function(){if(typeof aN=="function"){aN()}aM.dequeue()})}else{if(typeof aN=="function"){aN()}}}else{if(typeof aN=="function"){aN()}}};this.applyClass=function(aK,aJ){if(aK!=null&&aK.currentClass!=aJ){this.removeClass(aK,aK.currentClass);this.putClass(aK,aJ);aK.currentClass=aJ}};this.applySubclass=function(aK,aJ){if(aK!=null&&aK.currentSubclass!=aJ){this.removeClass(aK,aK.currentSubclass);this.putClass(aK,aJ);aK.currentSubclass=aJ}};this.putClass=function(aK,aJ){if(aK!=null&&a.isFullStr(aJ)){aK.addClass(aJ)}};this.removeClass=function(aK,aJ){if(aK!=null&&a.isFullStr(aJ)){aK.removeClass(aJ)}};this.replaceClass=function(aK,aL,aJ){if(aK!=null&&a.isFullStr(aL)&&a.isFullStr(aJ)){this.removeClass(aK,aL);this.putClass(aK,aJ)}};this.replaceClasses=function(aK,aJ){if(a.isFullStr(aK)){if(a.isFullStr(aJ)){k("."+aK).removeClass(aK).addClass(aJ)
}else{k("."+aK).removeClass(aK)}}};this.addClasses=function(aK,aJ){if(a.isFullStr(aK)&&a.isFullStr(aJ)){k("."+aK).addClass(aJ)}};this.removeClasses=function(aJ,aK){if(a.isFullStr(aJ)&&a.isFullStr(aK)){k("."+aJ).removeClass(aK)}};this.getTransformZeroClass=function(){if(this.useTransformations()){return this.use3d()?q.RENDERER.CSS.CLASS_TRANSFORM_3D_ZERO:q.RENDERER.CSS.CLASS_TRANSFORM_ZERO}return null};this.setupTransformZero=function(aJ){this.putClass(aJ,this.getTransformZeroClass())}};var D=new function(){this.getElement=function(ad){if(ad!=null&&ad.x!=null&&ad.y!=null){var ac=document.elementFromPoint(ad.x,ad.y);if(ac!=null){return k(ac)}}return null};this.getOffsetPosition=function(ac,ae){if(ac!=null&&ac.length>0&&ae!=null){var ad=ac.offset();return{x:ae.x-Math.round(ad.left),y:ae.y-Math.round(ad.top)}}return null};this.belongsToId=function(ac,ad){if(ac!=null&&ac.length>0&&a.isFullStr(ad)){if(t.getControlId(ac)==ad){return true}return ac.parents("#"+ad).length>0}return false};this.belongsToClass=function(ad,ac){if(ad!=null&&ad.length>0&&a.isFullStr(ac)){if(ad.hasClass(ac)){return true
}return ad.parents("."+ac).length>0}return false};this.belongsToClasses=function(ai,ad){if(ai!=null&&ai.length>0&&a.isFullStr(ad)){if(ad.indexOf(" ")>0){var ah=ad.split(" ");var ag="";var ac=0;for(var ae=0;ae<ah.length;ae++){var af=ah[ae];ag+="."+af;if(ai.hasClass(af)){ac++}}if(ac==ah.length){return true}return ai.parents(ag).length>0}else{return this.belongsToClass(ai,ad)}}return false};this.isHidden=function(ad){if(ad!=null&&ad.length>0){if(ad.css("display")=="none"){return true}var ac=false;ad.parents().each(function(){if(!ac){ac=k(this).css("display")=="none"}});return ac}return false}};function d(){var ag=-1;var af=-1;var ad=-1;var an=-1;var av=-1;var aj=-1;var al={};var ar={};var ak={};var ae={};var ax={};var ai={};var aq={};var ah=0;var am=0;var ac={};var au={};var aw=0;var at=0;var ao=[];var ap=null;this.overflow=true;this.delegate=null;this.registerItem=function(ay,az,aC,aA,aB){if(ay!=null&&ay>=0&&az!=null&&az>=0&&aC!=null){if(ax[ay]==null){ax[ay]={}}if(ai[ay]==null){ai[ay]=0;ak[ay]=-1;
ae[ay]=-1}if(aq[az]==null){aq[az]=0;al[az]=-1;ar[az]=-1}var aD=ax[ay][az];aC.idx=ao.length;aC.posX=ay;aC.posY=az;aC.isEnabled=true;ao.push(aC);ax[ay][az]=aC;if(aD!=null){aD.isEnabled=false}else{ai[ay]++;aq[az]++}if(ad==-1||ay<ad){ad=ay}if(an==-1||ay>an){an=ay}if(av==-1||az<av){av=az}if(aj==-1||az>aj){aj=az}if(ar[az]==-1||ay<ar[az]){ar[az]=ay}if(al[az]==-1||ay>al[az]){al[az]=ay}if(ae[ay]==-1||az<ae[ay]){ae[ay]=az}if(ak[ay]==-1||az>ak[ay]){ak[ay]=az}if(aA!=null&&aA>=0&&aB!=null&&aB>=0){aC.spanX=aA;aC.spanY=aB;if(ac[az]==null){ac[az]=0}if(au[ay]==null){au[ay]=0}if(ay+aA>ah){ah=ay+aA}if(ay+aA>ac[az]){ac[az]=ay+aA}if(az+aB>am){am=az+aB}if(az+aB>au[ay]){au[ay]=az+aB}if(aA>aw){aw=aA}if(aB>at){at=aB}}ap=null;return aC}return null};this.unregisterItem=function(ay,az){if(ax[ay]!=null&&ax[ay][az]!=null){var aB=ax[ay][az];var aC=aB.idx;ao.splice(aC,1);for(var aA=aC;aA<ao.length;aA++){ao[aA].idx--}ax[ay][az]=null;ai[ay]--;aq[az]--;ap=null;return aB}return null};this.clear=function(){ag=-1;af=-1;ad=-1;
an=-1;av=-1;aj=-1;ar={};al={};ak={};ae={};ax={};ai={};aq={};ah=0;am=0;ac={};au={};aw=0;at=0;ao=[];ap=null};this.isEmpty=function(){return ao.length==0};this.containsItem=function(az){if(az!=null){for(var ay=0;ay<ao.length;ay++){if(az==ao[ay]){return true}}}return false};this.getItem=function(ay,az){if(ax[ay]!=null&&ax[ay][az]!=null){return ax[ay][az]}return null};this.getIndex=function(ay){if(ay!=null){return ay.idx}return -1};this.getItemAtIndex=function(ay){if(ay>=0&&ay<ao.length){return ao[ay]}return null};this.setupRange=function(ay,az){if(ay!=null&&ay>=0){ad=0;an=ay}if(az!=null&&az>=0){av=0;aj=az}};this.getSize=function(){return ao.length};this.getRangeX=function(){return ad>=0&&an>=ad?an-ad:0};this.getRangeY=function(){return av>=0&&aj>=av?aj-av:0};this.getSpanX=function(){return ah};this.getSpanY=function(){return am};this.getSpanXinY=function(ay){if(ac[ay]!=null){return ac[ay]}return -1};this.getSpanYinX=function(ay){if(au[ay]!=null){return au[ay]}return -1};this.foreach=function(aA,ay){if(ay===true){for(var az=ao.length-1;
az>=0;az--){if(aA(az,ao[az])===true){break}}}else{for(var az=0;az<ao.length;az++){if(aA(az,ao[az])===true){break}}}};this.seek=function(aA,ay){if(ay===true){for(var az=ao.length-1;az>=0;az--){if(aA(az,ao[az])===true){return ao[az]}}}else{for(var az=0;az<ao.length;az++){if(aA(az,ao[az])===true){return ao[az]}}}return null};this.itemsCountInRow=function(ay){if(ai[ay]!=null){return ai[ay]}return 0};this.itemsCountInColumn=function(ay){if(aq[ay]!=null){return aq[ay]}return 0};this.lowestX=function(){return ad};this.lowestXinY=function(ay){if(ar[ay]!=null){return ar[ay]}return -1};this.highestX=function(){return an};this.highestXinY=function(ay){if(al[ay]!=null){return al[ay]}return -1};this.lowestY=function(){return av};this.lowestYinX=function(ay){if(ae[ay]!=null){return ae[ay]}return -1};this.highestY=function(){return aj};this.highestYinX=function(ay){if(ak[ay]!=null){return ak[ay]}return -1};this.highestItemSpanX=function(){return aw};this.highestItemSpanY=function(){return at};this.overflowX=function(ay){var az=af;
var aC=0;var aB=null;var aA=0;if(av>=0&&aj>=0){while(aB==null){aA=0;if(az-aC>=av&&aB==null){aB=this.selectPos(ay,az-aC);aA++}if(az+aC<=aj&&aB==null){aB=this.selectPos(ay,az+aC);aA++}aC++;if(aA==0){break}}}return aB};this.overflowY=function(az){var ay=ag;var aC=0;var aB=null;var aA=0;if(ad>=0&&an>=0){while(aB==null){aA=0;if(ay-aC>=ad&&aB==null){aB=this.selectPos(ay-aC,az);aA++}if(ay+aC<=an&&aB==null){aB=this.selectPos(ay+aC,az);aA++}aC++;if(aA==0){break}}}return aB};this.getSelectedX=function(){return ag};this.getSelectedY=function(){return af};this.getSelectedItem=function(){return this.getItem(ag,af)};this.getSelectedIndex=function(){return this.getIndex(this.getSelectedItem())};this.validateSelectionArea=function(aH){var aF=0;var aB=-1;var az=-1;var aD=-1;var aC=-1;var aG=0;var aE=0;for(var ay=0;ay<ao.length;ay++){var aA=ao[ay];if(typeof aH=="function"){aH(ay,aA)}if(aA.isEnabled){if(aB==-1||aA.posX<aB){aB=aA.posX}if(az==-1||aA.posX>az){az=aA.posX}if(aD==-1||aA.posY<aD){aD=aA.posY}if(aC==-1||aA.posY>aC){aC=aA.posY
}if(aA.spanX!=null&&aA.spanY!=null){if(aA.posX+aA.spanX>aG){aG=aA.posX+aA.spanX}if(aA.posY+aA.spanY>aE){aE=aA.posY+aA.spanY}}aF++}}ap={size:aF,rangeX:aB>=0&&az>=aB?az-aB:0,rangeY:aD>=0&&aC>=aD?aC-aD:0,spanX:aG,spanY:aE,lowestX:aB,lowestY:aD,highestX:az,highestY:aC};return ap};this.invalidateSelectionArea=function(){ap=null};this.getSelectionArea=function(){return ap!=null?ap:this.validateSelectionArea()};this.disableItem=function(ay){if(ay!=null){if(ay.isEnabled){ay.isEnabled=false;ap=null;if(typeof ay.disabled=="function"){ay.disabled(this)}if(typeof ay.onDisabled=="function"){ay.onDisabled(this)}if(ay==this.getSelectedItem()){this.clearSelection()}}}};this.disableItemAtPos=function(ay,az){this.disableItem(this.getItem(ay,az))};this.enableItem=function(ay){if(ay!=null){if(!ay.isEnabled){ay.isEnabled=true;ap=null;if(typeof ay.enabled=="function"){ay.enabled(this)}if(typeof ay.onEnabled=="function"){ay.onEnabled(this)}}}};this.enableItemAtPos=function(ay,az){this.enableItem(this.getItem(ay,az))
};this.isItemEnabled=function(ay){if(ay!=null){return ay.isEnabled}return false};this.isItemEnabledAtPos=function(ay,az){return this.isItemEnabled(this.getItem(ay,az))};this.hasSelection=function(){return ag>=0&&af>=0};this.clearSelection=function(){var ay=this.getSelectedItem();ag=-1;af=-1;if(ay!=null){this.selectionChanged(ay,null)}};this.selectNextItem=function(){var ay=null;var aA=this.getSelectedItem();if(aA!=null){for(var az=0;az<ao.length;az++){if(aA==ao[az]&&az+1<ao.length&&ao[az+1].isEnabled){ay=ao[az+1];break}}if(ay!=null){return this.selectItem(ay)}}return this.selectFirstItem()};this.selectPreviousItem=function(){var ay=null;var aA=this.getSelectedItem();if(aA!=null){for(var az=ao.length-1;az>=0;az--){if(aA==ao[az]&&az-1>=0&&ao[az-1].isEnabled){ay=ao[az-1];break}}if(ay!=null){return this.selectItem(ay)}}return this.selectLastItem()};this.selectNearItem=function(){var aB=null;var aA=this.getSelectedItem();if(aA!=null){var ay=this.getIndex(aA);if(ay>=0){var az=1;while(ay-az>=0||ay+az<ao.length){if(ay-az>=0&&ao[ay-az].isEnabled){aB=ao[ay-az];
break}else{if(ay+az<ao.length&&ao[ay+az].isEnabled){aB=ao[ay+az];break}}az++}}if(aB!=null){return this.selectItem(aB)}}return this.selectFirstItem()};this.selectFirstItem=function(){var aA=this;var ay=false;var az=null;this.foreach(function(aC,aB){if(!ay&&aB.isEnabled){az=aA.selectItem(aB);ay=true;return true}});if(!ay){this.clearSelection()}return az};this.selectLastItem=function(){var aA=this;var ay=false;var az=null;this.foreach(function(aC,aB){if(!ay&&aB.isEnabled){az=aA.selectItem(aB);ay=true;return true}},true);if(!ay){this.clearSelection()}return az};this.selectionChanged=function(ay,aB){if(ay!=null){if(typeof ay.unselected=="function"){ay.unselected(this)}if(typeof ay.onUnselected=="function"){ay.onUnselected(this)}}if(aB!=null){if(typeof aB.selected=="function"){aB.selected(this)}if(typeof aB.onSelected=="function"){aB.onSelected(this)}}for(var az=0;az<ao.length;az++){var aA=ao[az];if(typeof aA.selectionChanged=="function"){aA.selectionChanged(this)}}if(this.delegate!=null&&typeof this.delegate.selectionChanged=="function"){this.delegate.selectionChanged(this)
}};this.selectItem=function(az){if(az!=null){if(!az.isEnabled){return null}var aA=this.getSelectedItem();if(az==aA){return aA}if(az.posX!=null&&az.posY!=null){var ay=this.getItem(az.posX,az.posY);if(ay!=null){if(!ay.isEnabled){return null}ag=ay.posX;af=ay.posY;if(ay!=aA){this.selectionChanged(aA,ay)}return ay}}}return null};this.selectPos=function(ay,az){var aB=this.getSelectedItem();var aA=this.getItem(ay,az);if(aA!=null){if(!aA.isEnabled){return null}ag=aA.posX;af=aA.posY;if(aA!=aB){this.selectionChanged(aB,aA)}return aA}return null};this.selectNextX=function(aB){if(aB==null){aB=1}var aD=null;var az=ag+aB;var aA=af;var aC=0;var aE=0;var ay=0;if(ad>=0&&av>=0&&an>=0&&aj>=0){while(aD==null){aE=0;if(aA-aC>=av){az=ag+aB;ay=this.highestXinY(aA-aC);if(ay>=0){while(az<=ay&&aD==null){aD=this.selectPos(az,aA-aC);az++}}aE++}if(aC>0&&aA+aC<=aj){az=ag+aB;ay=this.highestXinY(aA+aC);if(ay>=0){while(az<=ay&&aD==null){aD=this.selectPos(az,aA+aC);az++}}aE++}aC++;if(aE==0){break}}if(aD==null&&this.overflow){aC=0;
while(aD==null){aD=this.overflowX(ad+aC);aC++;if(ad+aC>an){break}}}}return aD};this.selectPreviousX=function(aA){if(aA==null){aA=1}var aD=null;var ay=ag-aA;var az=af;var aB=0;var aE=0;var aC=0;if(ad>=0&&av>=0&&an>=0&&aj>=0){while(aD==null){aE=0;if(az-aB>=av){ay=ag-aA;aC=this.lowestXinY(az-aB);if(aC>=0){while(ay>=aC&&aD==null){aD=this.selectPos(ay,az-aB);ay--}}aE++}if(aB>0&&az+aB<=aj){ay=ag-aA;aC=this.lowestXinY(az+aB);if(aC>=0){while(ay>=aC&&aD==null){aD=this.selectPos(ay,az+aB);ay--}}aE++}aB++;if(aE==0){break}}if(aD==null&&this.overflow){aB=0;while(aD==null){aD=this.overflowX(an-aB);aB++;if(an-aB<ad){break}}}}return aD};this.selectNextY=function(aA){if(aA==null){aA=1}var aD=null;var ay=ag;var az=af+aA;var aB=0;var aE=0;var aC=0;if(ad>=0&&av>=0&&an>=0&&aj>=0){while(aD==null){aE=0;if(ay-aB>=ad){az=af+aA;aC=this.highestYinX(ay-aB);if(aC>=0){while(az<=aC&&aD==null){aD=this.selectPos(ay-aB,az);az++}}aE++}if(aB>0&&ay+aB<=an){az=af+aA;aC=this.highestYinX(ay+aB);if(aC>=0){while(az<=aC&&aD==null){aD=this.selectPos(ay+aB,az);
az++}}aE++}aB++;if(aE==0){break}}if(aD==null&&this.overflow){aB=0;while(aD==null){aD=this.overflowY(av+aB);aB++;if(av+aB>aj){break}}}}return aD};this.selectPreviousY=function(aB){if(aB==null){aB=1}var aD=null;var ay=ag;var az=af-aB;var aC=0;var aE=0;var aA=0;if(ad>=0&&av>=0&&an>=0&&aj>=0){while(aD==null){aE=0;if(ay-aC>=ad){az=af-aB;aA=this.lowestYinX(ay-aC);if(aA>=0){while(az>=aA&&aD==null){aD=this.selectPos(ay-aC,az);az--}}aE++}if(aC>0&&ay+aC<=an){az=af-aB;aA=this.lowestYinX(ay+aC);if(aA>=0){while(az>=aA&&aD==null){aD=this.selectPos(ay+aC,az);az--}}aE++}aC++;if(aE==0){break}}if(aD==null&&this.overflow){aC=0;while(aD==null){aD=this.overflowY(aj-aC);aC++;if(aj-aC<av){break}}}}return aD};this.selectYInX=function(aA,az){if(az==null){az=0}var aD=null;var aE=af+aA;var ay=ag;var aB=0;var aC=0;if(ad>=0&&an>=0){while(aD==null){aC=0;if(az==0||az==-1){if(ay-aB>=ad&&aD==null){aD=this.selectPos(ay-aB,aE);aC++}}if(az==0||az==1){if(ay+aB<=an&&aD==null){aD=this.selectPos(ay+aB,aE);aC++}}aB++;if(aC==0){break
}}}return aD};this.selectXInY=function(aA,az){if(az==null){az=0}var aD=null;var ay=ag+aA;var aE=af;var aB=0;var aC=0;if(av>=0&&aj>=0){while(aD==null){aC=0;if(az==0||az==-1){if(aE-aB>=av&&aD==null){aD=this.selectPos(ay,aE-aB);aC++}}if(az==0||az==1){if(aE+aB<=aj&&aD==null){aD=this.selectPos(ay,aE+aB);aC++}}aB++;if(aC==0){break}}}return aD};this.selectXInRow=function(aA){var aD=null;var ay=ag+aA;var az=af;var aB=this.highestXinY(az);var aC=this.lowestXinY(az);var aE=false;if(aB>=0&&aC>=0&&aA!=0){while(aD==null){if(aA>0&&ay>aB){if(this.overflow&&!aE){ay=aC;aE=true}else{break}}else{if(aA<0&&ay<aC){if(this.overflow&&!aE){ay=aB;aE=true}else{break}}}aD=this.selectPos(ay,az);ay+=aA}}return aD};this.selectYInRow=function(aA){var aD=null;var az=af+aA;var ay=ag;var aE=this.highestYinX(ay);var aB=this.lowestYinX(ay);var aC=false;if(aE>=0&&aB>=0&&aA!=0){while(aD==null){if(aA>0&&az>aE){if(this.overflow&&!aC){az=aB;aC=true}else{break}}else{if(aA<0&&az<aB){if(this.overflow&&!aC){az=aE;aC=true}else{break
}}}aD=this.selectPos(ay,az);az+=aA}}return aD}}var t=new function(){var ac=0;this.getGlobalId=function(){return"item"+(ac++)};this.getControlId=function(ad){if(ad!=null&&ad.length>0){return a.strFullCheck(ad.get(0).id,null)}return null};this.getRegisterToken=function(ad){if(ad!=null&&ad.length>0){var ae=ad.attr("tvx:register");if(a.isFullStr(ae)){return ae.split(",")}}return null};this.getRegisterValue=function(ad,ae){return ad!=null&&ad.length>ae?ad[ae]:null};this.createSelector=function(ad,ag){if(ad!=null){if(typeof ad=="string"){ad=k("#"+ad)}var af=this;var ae=new d();ad.children().each(function(aj){var ak=k(this);var ah=af.getRegisterToken(ak);var al=af.getRegisterValue(ah,0);var ai=af.getRegisterValue(ah,1);if(a.isNum(al)&&a.isNum(ai)){ak.idx=0;ak.posX=al*1;ak.posY=ai*1;ae.registerItem(ak.posX,ak.posY,ak);if(typeof ag=="function"){ag(ak.idx,ak)}}});return ae}return null};this.createItems=function(ak,ai,al){if(ak!=null&&ai!=null){if(typeof ak=="string"){ak=k("#"+ak)}var ag="";var ae=[];
var ah=0;if(al!=null&&typeof al.create=="function"){for(var ad=0;ad<ai.length;ad++){var af=ai[ad];var aj=al.create(ah,af);if(aj!=null&&typeof aj=="string"){ae.push(af);ag+=aj;ah++}}}ak.html(ag);return this.createSelector(ak,function(an,am){am.refData=ae[an];if(al!=null&&typeof al.setup=="function"){al.setup(an,am)}})}return null};this.loadItems=function(ae,af,ad,ah){var ag=this;O.loader.load(af,ad,{success:function(aj){var ai=ag.createItems(ae,aj,ah);if(ai!=null){if(ah!=null&&typeof ah.complete=="function"){ah.complete(ai)}}},error:function(ai){if(ah!=null&&typeof ah.error=="function"){ah.error(ai)}}})};this.getItemForGlobalId=function(ad,ae){if(ad!=null&&a.isFullStr(ae)){return ad.seek(function(ag,af){return af.globalId==ae})}return null};this.getItemForControlId=function(ad,ae){if(ad!=null&&a.isFullStr(ae)){return ad.seek(function(ag,af){return af.controlId==ae})}return null};this.getItemForDataId=function(ad,ae){if(ad!=null&&a.isFullStr(ae)){return ad.seek(function(ag,af){return af.refData!=null&&af.refData.id==ae
})}return null};this.getItemForElement=function(ag,ah,ai){if(ag!=null&&ah!=null){if(ai!=null){if(ai.itemId!=null&&!D.belongsToId(ah,ai.itemId)){return null}if(ai.itemClass!=null&&!D.belongsToClass(ah,ai.itemClass)){return null}}var ae=this.getRegisterToken(ah);var aj=this.getRegisterValue(ae,0);var ad=this.getRegisterValue(ae,1);if(a.isNum(aj)&&a.isNum(ad)){return ag.getItem(aj*1,ad*1)}else{var af=ah.parent();while(af.length>0){ae=this.getRegisterToken(af);aj=this.getRegisterValue(ae,0);ad=this.getRegisterValue(ae,1);if(a.isNum(aj)&&a.isNum(ad)){return ag.getItem(aj*1,ad*1)}af=af.parent()}}}return null};this.getItemForClick=function(ad,af,ae){return this.getItemForElement(ad,D.getElement(af),ae)}};var C=new function(){var af=function(ah,ai){if(ah===false){return false}if(ai!=null&&ai.currentState!=null){if(ai.currentState.visible===false||ai.currentState.opacity===0){return false}}return true};var ac=function(ai,ah,aj,ak){if(ai!=null){ai.showing=true;n.onReady(function(){if(ai.showing){ai.showing=false;
n.fadeOut(ai,false);if(typeof ai.loaded=="function"){ai.loaded()}n.fadeIn(ai,af(ah,aj));if(typeof ak=="function"){ak()}}})}};var ae=function(ah){if(ah!=null&&ah.loadingUrl!=null){ah.loadingUrl=null}};var ag=function(ai,ah,aj,ak){if(ai!=null){if(ai.loading!==true){ai.loading=true;ai.showing=false;ai.bind("load",function(){ai.unbind("load");if(ai.loading){ai.loading=false;ac(ai,ah,aj,ak)}})}}};var ad=function(ai,aj,ah,ak){ae(ai);if(ai!=null){if(ai.loading===true){ai.loading=false;ai.unbind("load")}if(ai.showing===true){ai.showing=false}if(aj){n.fadeOut(ai,af(ah,ak))}}};this.setupFallback=function(ah,ai,aj){if(ah!=null){ah.unbind("error");ah.bind("error",function(){if(a.isFullStr(ai)){if(ah.attr("src")!=ai){ah.attr("src",ai);if(typeof aj=="function"){aj()}}}})}};this.controlImage=function(ai,ah,aj,ak){ag(ai,ah,aj,ak)};this.prepareImage=function(ai,aj,ah,ak){ad(ai,aj,ah,ak)};this.loadImage=function(ai,aj,ah,ak,al){if(ai!=null){if(a.isFullStr(aj)){if(ai.attr("src")==aj){ae(ai);if(ai.loading!==true&&ai.showing!==true){n.fadeIn(ai,af(ah,ak))
}if(typeof al=="function"){al()}}else{ad(ai,true,false,null);ai.loadingUrl=aj;n.onReady(function(){if(ai.loadingUrl==aj){ai.loadingUrl=null;ag(ai,ah,ak,al);if(typeof ai.prepare=="function"){ai.prepare()}ai.attr("src",aj)}})}}else{ad(ai,true,false,null);if(typeof al=="function"){al()}}}};this.swapImage=function(al,ak,aj,ai,ah){if(al!=null&&ak!=null){ad(al,false,false,null);ad(ak,false,false,null);this.loadImage(al,aj,ai,ah,function(){n.fadeOut(ak,af(ai,ah))})}}};var H=new function(){var ad=function(ae){if(ae!=null){if(ae.controls==null){ae.controls={}}}};var ac=function(ae){if(ae!=null){ad(ae);if(ae.controls.image==null){ae.controls.image=ae.find("img");ae.controls.image.content=null;ae.controls.image.controlType=-1}}};this.setupFallback=function(af,ae){if(af!=null){ac(af);if(af.controls.image.length>0){C.setupFallback(af.controls.image,ae)}}};this.prepareImage=function(ag,ah,af,ae){if(ag!=null){ac(ag);if(ag.controls.image.length>0&&(ah==null||ag.controls.image.content!=ah)){ag.controls.image.content=null;
C.prepareImage(ag.controls.image,true,af,ae)}}};this.updateImage=function(ag,ah,af,ae){if(ag!=null){ac(ag);if(ag.controls.image.length>0&&ag.controls.image.content!=ah){ag.controls.image.content=ah;C.loadImage(ag.controls.image,ah,af,ae)}}};this.validateImage=function(ae){if(ae!=null&&ae.controls!=null&&ae.controls.image!=null&&ae.controls.image.length>0&&ae.controls.image.imageState===4&&typeof ae.controls.image.loaded=="function"){ae.controls.image.loaded()}};this.applyFiller=function(ae){if(ae!=null){ac(ae);if(ae.controls.image.length>0&&ae.controls.image.controlType===-1){ae.controls.image.imageState=0;ae.controls.image.prepare=function(){this.imageState=1};if(ae.controls.image.hasClass(q.COMMON.CSS.CLASS_FILLER_FIT)){ae.controls.image.controlType=1}else{if(ae.controls.image.hasClass(q.COMMON.CSS.CLASS_FILLER_COVER)){ae.controls.image.controlType=2}else{if(ae.controls.image.hasClass(q.COMMON.CSS.CLASS_FILLER_SMART)){ae.controls.image.controlType=3}else{ae.controls.image.controlType=0;
ae.controls.image.loaded=function(){this.imageState=2;if(typeof this.completed=="function"){this.completed()}}}}}if(ae.controls.image.controlType>0){ae.controls.image.controlState=null;ae.controls.image.loaded=function(){var aj=this.parent();if(!D.isHidden(aj)){var am=this.get(0);var al=aj.width();var aq=aj.height();var ao=am.naturalWidth;var ap=am.naturalHeight;if(al>0&&aq>0&&ao>0&&ap>0){var ah={left:null,top:null,width:null,height:null,marginLeft:null,marginTop:null};var ag=al/aq;var ai=ao/ap;var af=al/ao;var an=aq/ap;var ak=0;if(this.controlType==1){ak=ai>ag?0:1}else{if(this.controlType==2){ak=ai>ag?1:0}else{if(this.controlType==3){if(ai<1){ak=ai<ag&&ag<1?0:1}else{ak=ai>ag&&ag>1?1:0}}}}if(ak==1){ah.left=50;ah.height=100;ah.marginLeft=-Math.round(an*ao*0.5)}else{ah.top=50;ah.width=100;ah.marginTop=-Math.round(af*ap*0.5)}if(this.controlState==null||this.controlState.top!==ah.top||this.controlState.left!==ah.left||this.controlState.width!==ah.width||this.controlState.height!==ah.height||this.controlState.marginLeft!==ah.marginLeft||this.controlState.marginTop!==ah.marginTop){this.controlState=ah;
this.css({left:ah.left!=null?ah.left+"%":"0px",top:ah.top!=null?ah.top+"%":"0px",width:ah.width!=null?ah.width+"%":"auto",height:ah.height!=null?ah.height+"%":"auto",marginLeft:ah.marginLeft!=null?ah.marginLeft+"px":"0px",marginTop:ah.marginTop!=null?ah.marginTop+"px":"0px",visibility:"visible"})}this.imageState=3;if(typeof this.completed=="function"){this.completed()}}else{this.imageState=4}}else{this.imageState=4}}}}}};this.initImage=function(af,ag,ae){if(af!=null){if(af.controls==null||af.controls.image==null){this.applyFiller(af);this.prepareImage(af,ag,false,null);this.setupFallback(af,ae)}}};this.updateItem=function(ae){ad(ae)}};var G=new function(){this.roundPixelValue=function(ac){if(ac<0){return -Math.round(-ac)}else{return Math.round(ac)}};this.roundOpacityValue=function(ac){if(ac<0){return 0}else{if(ac>1){return 1}else{return Math.round(ac*1000)/1000}}};this.getScaledValue=function(ac,ad){return this.roundPixelValue(ac*(ad!=null?ad:p.SCREEN_FACTOR))};this.scaleProperty=function(ae,ac,ad){if(ae!=null&&ac!=null&&typeof ae[ac]=="number"){ae[ac]=this.getScaledValue(ae[ac],ad)
}};this.scaleState=function(ac,ad){n.scale(ac,ad)};this.createCanvas=function(ae,ad,ac){return a.strReplace(q.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(ad,p.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(ac,p.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(ae))};this.createIFrame=function(ac,ad){return a.strReplace(a.strReplace(q.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(ac)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(ad,"about:blank")))};this.createColor=function(ac){if(ac!=null&&ac.indexOf("tvx-")==0){var ac=ac.substr(4);if(ac=="white"){return q.COMMON.COLOR.WHITE}else{if(ac=="white-soft"){return q.COMMON.COLOR.WHITE_SOFT}else{if(ac=="black"){return q.COMMON.COLOR.BLACK}else{if(ac=="black-soft"){return q.COMMON.COLOR.BLACK_SOFT}else{if(ac=="gray"){return q.COMMON.COLOR.GRAY}else{if(ac=="gray-soft"){return q.COMMON.COLOR.GRAY_SOFT}else{if(ac=="red"){return q.COMMON.COLOR.RED}else{if(ac=="green"){return q.COMMON.COLOR.GREEN}else{if(ac=="yellow"){return q.COMMON.COLOR.YELLOW}else{if(ac=="blue"){return q.COMMON.COLOR.BLUE
}else{if(ac=="glass"){return q.COMMON.COLOR.GLASS}}}}}}}}}}}}return null};this.createIcon=function(ae,ag,af,ad){var ac=af===false?q.COMMON.CSS.CLASS_ICON:q.COMMON.CSS.CLASS_ICON_INLINE;if(a.isFullStr(ad)){ac+=" "+ad}if(a.isId(ae)){if(a.isFullStr(ag)){return a.strReplace(q.COMMON.HTML.ICON_STYLED,"{CLASS}",ac).replace("{ICON}",ae).replace("{STYLE}","color:"+ag)}else{return a.strReplace(q.COMMON.HTML.ICON,"{CLASS}",ac).replace("{ICON}",ae)}}return a.strReplace(q.COMMON.HTML.ICON,"{CLASS}",ac).replace("{ICON}",q.COMMON.ICON.DEFAULT)};this.createText=function(ag,af,ad,ac){var ae=ad===false?q.COMMON.CSS.CLASS_TEXT:q.COMMON.CSS.CLASS_TEXT_INLINE;if(a.isFullStr(ac)){ae+=" "+ac}if(a.isFullStr(ag)){if(a.isFullStr(af)){return a.strReplace(a.strReplace(q.COMMON.HTML.TEXT_STYLED.replace("{STYLE}","color:"+af),"{CLASS}",ae),"{TEXT}",a.htmlTextEscape(ag))}else{return a.strReplace(a.strReplace(q.COMMON.HTML.TEXT,"{CLASS}",ae),"{TEXT}",a.htmlTextEscape(ag))}}return a.strReplace(a.strReplace(q.COMMON.HTML.TEXT,"{CLASS}",ae),"{TEXT}",a.htmlTextEscape(q.COMMON.TEXT.DEFAULT))
};this.createTextStart=function(ae,ad,ac){var af=ad===false?q.COMMON.CSS.CLASS_TEXT:q.COMMON.CSS.CLASS_TEXT_INLINE;if(a.isFullStr(ac)){af+=" "+ac}if(a.isFullStr(ae)){return a.strReplace(q.COMMON.HTML.TEXT_START_STYLED.replace("{STYLE}","color:"+ae),"{CLASS}",af)}return a.strReplace(q.COMMON.HTML.TEXT_START,"{CLASS}",af)};this.createTextEnd=function(){return q.COMMON.HTML.TEXT_END}};var V={ANY_AXIS:0,PARALLEL_AXIS_LEFT_UP:1,PARALLEL_AXIS_ANY:2,PARALLEL_AXIS_RIGHT_DOWN:3,SAME_SPAN_AXIS_WITHOUT_GAPS:10,SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW:11,SAME_SPAN_AXIS_IGNORE_GAPS:12,SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW:13,PARALLEL_SPAN_AXIS:20,SAME_AXIS_IN_ROW:30};var r=new function(){this.enhanceControl=function(ac){if(ac!=null){ac.sel=new d();ac.sel.delegate=ac;ac.doAnimate=true;ac.isAnimating=false;ac.clear=function(){this.sel.clear()};ac.update=function(){this.sel.selectionChanged()};ac.foreach=function(ae,ad){this.sel.foreach(ae,ad)};ac.seek=function(ae,ad){return this.sel.seek(ae,ad)};ac.setupRange=function(ad,ae){this.sel.setupRange(ad,ae)
};ac.getSize=function(){return this.sel.getSize()};ac.isEmpty=function(){return this.sel.isEmpty()};ac.getRangeX=function(){return this.sel.getRangeX()};ac.getRangeY=function(){return this.sel.getRangeY()};ac.getSpanX=function(){return this.sel.getSpanX()};ac.getSpanY=function(){return this.sel.getSpanY()};ac.isOverflowAllowed=function(){return this.sel.overflow};ac.isOverflowDeactivated=function(){return this.sel.deactivatedOverflow===true};ac.allowOverflow=function(){this.sel.overflow=true;if(this.sel.deactivatedOverflow===true){this.sel.deactivatedOverflow=false}};ac.disallowOverflow=function(){this.sel.overflow=false;if(this.sel.deactivatedOverflow===true){this.sel.deactivatedOverflow=false}};ac.deactivateOverflow=function(){if(this.sel.overflow){this.sel.overflow=false;this.sel.deactivatedOverflow=true}};ac.reactivateOverflow=function(){if(this.sel.deactivatedOverflow===true){this.sel.overflow=true;this.sel.deactivatedOverflow=false}};ac.getSelectedIndex=function(){return this.sel.getSelectedIndex()
};ac.getItemForGlobalId=function(ad){return t.getItemForGlobalId(this.sel,ad)};ac.getItemForControlId=function(ad){return t.getItemForControlId(this.sel,ad)};ac.getItemForDataId=function(ad){return t.getItemForDataId(this.sel,ad)};ac.getItemForElement=function(ad){return t.getItemForElement(this.sel,ad)};ac.containsItem=function(ad){return this.sel.containsItem(ad)};ac.getItemAtPos=function(ad,ae){return this.sel.getItem(ad,ae)};ac.getItemAtIndex=function(ad){return this.sel.getItemAtIndex(ad)};ac.getFirstItem=function(){return this.sel.getItemAtIndex(0)};ac.getLastItem=function(){return this.sel.getItemAtIndex(this.sel.getSize()-1)};ac.getFirstItemInRow=function(ad){return this.sel.getItem(this.sel.lowestXinY(ad),ad)};ac.getLastItemInRow=function(ad){return this.sel.getItem(this.sel.highestXinY(ad),ad)};ac.getFirstItemInColumn=function(ad){return this.sel.getItem(this.sel.lowestYinX(ad),ad)};ac.getLastItemInColumn=function(ad){return this.sel.getItem(this.sel.highestYinX(ad),ad)};ac.getSpanItemAtPos=function(ai,aj,al,ae){var ap=this.sel.lowestX();
var ak=this.sel.lowestY();var an=this.sel.highestItemSpanX();var am=this.sel.highestItemSpanY();var ad=1;var ah=1;if(ap>=0&&ak>=0){if(al==1){for(var af=ai;af>=ap;af--){var ag=this.getItemAtPos(af,aj);if(ag!=null&&(ag.isEnabled||!ae)){if(ag.spanX>=ad){return ag}}ad++;if(ad>an){break}}}else{if(al==2){for(var ao=aj;ao>=ak;ao--){var ag=this.getItemAtPos(ai,ao);if(ag!=null&&(ag.isEnabled||!ae)){if(ag.spanY>=ah){return ag}}ah++;if(ah>am){break}}}else{for(var af=ai;af>=ap;af--){ah=1;for(var ao=aj;ao>=ak;ao--){var ag=this.getItemAtPos(af,ao);if(ag!=null&&(ag.isEnabled||!ae)){if(ag.spanX>=ad&&ag.spanY>=ah){return ag}}ah++;if(ah>am){break}}ad++;if(ad>an){break}}}}}return null};ac.getNextSpanItemAtPos=function(ag,ah,ad,ap,am,ae){if(am=="left"){var aj=this.sel.lowestX();if(aj>=0){for(var ai=ag-1;ai>=aj;ai--){for(var ao=ah;ao<ah+ap;ao++){var af=this.getSpanItemAtPos(ai,ao,0,ae);if(af!=null){return af}}}}}else{if(am=="right"){var ak=this.getSpanX();if(ak>=0){for(var ai=ag+ad;ai<=ak;ai++){for(var ao=ah;
ao<ah+ap;ao++){var af=this.getSpanItemAtPos(ai,ao,0,ae);if(af!=null){return af}}}}}else{if(am=="up"){var an=this.sel.lowestY();if(an>=0){for(var ao=ah-1;ao>=an;ao--){for(var ai=ag;ai<ag+ad;ai++){var af=this.getSpanItemAtPos(ai,ao,0,ae);if(af!=null){return af}}}}}else{if(am=="down"){var al=this.getSpanY();if(al>=0){for(var ao=ah+ap;ao<=al;ao++){for(var ai=ag;ai<ag+ad;ai++){var af=this.getSpanItemAtPos(ai,ao,0,ae);if(af!=null){return af}}}}}}}}return null};ac.getNextParallelSpanItemAtPos=function(ag,ah,ad,aq,am,ae){if(am=="left"||am=="right"){var aj=this.sel.lowestY();var ap=this.getSpanY();if(aj>=0&&ap>=0){var ai=ap-aj;for(var an=1;an<=ai;an++){var af=this.getNextSpanItemAtPos(ag,ah-an,ad,1,am,ae);if(af!=null){return af}af=this.getNextSpanItemAtPos(ag,ah+an+aq-1,ad,1,am,ae);if(af!=null){return af}}}}else{if(am=="up"||am=="down"){var ak=this.sel.lowestX();var al=this.getSpanX();if(ak>=0&&al>=0){var ao=al-ak;for(var an=1;an<=ao;an++){var af=this.getNextSpanItemAtPos(ag-an,ah,1,aq,am,ae);if(af!=null){return af
}af=this.getNextSpanItemAtPos(ag+an+ad-1,ah,1,aq,am,ae);if(af!=null){return af}}}}}return null};ac.getSelectedItem=function(){return this.sel.getSelectedItem()};ac.getItemInfo=function(ad){if(ad!=null){return{idx:ad.idx,posX:ad.posX,posY:ad.posY,spanX:ad.spanX,spanY:ad.spanY}}return{idx:-1,posX:0,posY:0,spanX:1,spanY:1}};ac.getOverflowInfo=function(af,ae){if(af!=null&&af.idx!=-1&&this.sel.overflow){var ad=this.getSelectionArea();if(ad.size>0){if(ae=="left"){if(af.posX<=ad.lowestX){return{idx:-1,posX:ad.highestX+1,posY:af.posY,spanX:0,spanY:af.spanY}}}else{if(ae=="right"){if(af.posX+af.spanX>=ad.spanX){return{idx:-1,posX:ad.lowestX,posY:af.posY,spanX:0,spanY:af.spanY}}}else{if(ae=="up"){if(af.posY<=ad.lowestY){return{idx:-1,posX:af.posX,posY:ad.highestY+1,spanX:af.spanX,spanY:0}}}else{if(ae=="down"){if(af.posY+af.spanY>=ad.spanY){return{idx:-1,posX:af.posX,posY:ad.lowestY,spanX:af.spanX,spanY:0}}}}}}}}return af};ac.getItemData=function(ad){return ad!=null?ad.refData:null};ac.getSelectedItemInfo=function(){return this.getItemInfo(this.getSelectedItem())
};ac.getSelectedItemData=function(){return this.getItemData(this.getSelectedItem())};ac.validateSelectionArea=function(ad){return this.sel.validateSelectionArea(ad)};ac.invalidateSelectionArea=function(){this.sel.invalidateSelectionArea()};ac.getSelectionArea=function(){return this.sel.getSelectionArea()};ac.getItemIndexDiff=function(ad){var ae=this.getSelectedItem();if(ad!=null&&ae!=null){return ad.idx-ae.idx}if(ad!=null){return ad.idx}return 0};ac.hasSpanItemInColumn=function(ad,ag){var af=this.sel.lowestY();var ah=this.sel.highestY();if(af>=0&&ah>=0){for(var ae=af;ae<=ah;ae++){if(this.getSpanItemAtPos(ad,ae,0,ag)!=null){return true}}}return false};ac.hasSpanItemInRow=function(ae,ag){var ah=this.sel.lowestX();var af=this.sel.highestX();if(ah>=0&&af>=0){for(var ad=ah;ad<=af;ad++){if(this.getSpanItemAtPos(ad,ae,0,ag)!=null){return true}}}return false};ac.hasSelection=function(){return this.sel.hasSelection()};ac.clearSelection=function(){this.sel.clearSelection()};ac.validateSelection=function(){var ad=this.getSelectedItem();
if(ad==null){return this.selectFirstItem()}return ad};ac.selectNextItem=function(){return this.sel.selectNextItem()};ac.selectPreviousItem=function(){return this.sel.selectPreviousItem()};ac.selectNearItem=function(){return this.sel.selectNearItem()};ac.selectFirstItem=function(){return this.sel.selectFirstItem()};ac.selectLastItem=function(){return this.sel.selectLastItem()};ac.selectFirstRow=function(){return this.selectFirstItemInRow(this.sel.lowestY())};ac.selectLastRow=function(){return this.selectFirstItemInRow(this.sel.highestY())};ac.selectFirstItemInRow=function(ad){return this.sel.selectItem(this.getNextSpanItemAtPos(this.sel.lowestX()-1,ad,1,1,"right",true))};ac.selectLastItemInRow=function(ad){return this.sel.selectItem(this.getNextSpanItemAtPos(this.sel.highestX()+1,ad,1,1,"left",true))};ac.selectFirstItemInColumn=function(ad){return this.sel.selectItem(this.getNextSpanItemAtPos(ad,this.sel.lowestY()-1,1,1,"down",true))};ac.selectLastItemInColumn=function(ad){return this.sel.selectItem(this.getNextSpanItemAtPos(ad,this.sel.highestY()+1,1,1,"up",true))
};ac.selectItem=function(ad){return this.sel.selectItem(ad)};ac.selectItemAtIndex=function(ad){return this.sel.selectItem(this.getItemAtIndex(ad))};ac.selectItemAtPos=function(ad,ae){return this.sel.selectPos(ad,ae)};ac.selectSpanItemAtPos=function(ad,ae,af){return this.sel.selectItem(this.getSpanItemAtPos(ad,ae,af,true))};ac.selectItemForGlobalId=function(ad){return this.sel.selectItem(this.getItemForGlobalId(ad))};ac.selectItemForControlId=function(ad){return this.sel.selectItem(this.getItemForControlId(ad))};ac.selectItemForDataId=function(ad){return this.sel.selectItem(this.getItemForDataId(ad))};ac.selectItemForElement=function(ad){return this.sel.selectItem(this.getItemForElement(ad))};ac.setFocusValue=function(ad){if(a.isFullStr(ad)){if(ad.indexOf("index:")==0){var ae=a.strToNum(ad.substr(6),-1);if(ae<0){return this.selectFirstItem()}else{if(ae>=this.getSize()){return this.selectLastItem()}}return this.selectItemAtIndex(ae)}else{if(a.isId(ad)){return this.selectItemForDataId(ad)}}}return null
};ac.getFocusValue=function(ad){var ae=this.getSelectedItem();if(ae!=null){if(ae.refData!=null&&a.isId(ae.refData.id)&&ad!==false){return ae.refData.id}return"index:"+ae.idx}return null};ac.canMoveLeft=function(){var ad=this.getSelectedItemInfo();return ad.idx!=-1&&this.getNextSpanItemAtPos(ad.posX,ad.posY,ad.spanX,ad.spanY,"left",true)!=null};ac.canMoveRight=function(){var ad=this.getSelectedItemInfo();return ad.idx!=-1&&this.getNextSpanItemAtPos(ad.posX,ad.posY,ad.spanX,ad.spanY,"right",true)!=null};ac.canMoveUp=function(){var ad=this.getSelectedItemInfo();return ad.idx!=-1&&this.getNextSpanItemAtPos(ad.posX,ad.posY,ad.spanX,ad.spanY,"up",true)!=null};ac.canMoveDown=function(){var ad=this.getSelectedItemInfo();return ad.idx!=-1&&this.getNextSpanItemAtPos(ad.posX,ad.posY,ad.spanX,ad.spanY,"down",true)!=null};ac.canOverflowLeft=function(){var ae=this.getSelectedItemInfo();var ad=this.getSelectionArea();return ae.idx!=-1&&ad.size>0&&ae.posX<=ad.lowestX};ac.canOverflowRight=function(){var ae=this.getSelectedItemInfo();
var ad=this.getSelectionArea();return ae.idx!=-1&&ad.size>0&&ae.posX+ae.spanX>=ad.spanX};ac.canOverflowUp=function(){var ae=this.getSelectedItemInfo();var ad=this.getSelectionArea();return ae.idx!=-1&&ad.size>0&&ae.posY<=ad.lowestY};ac.canOverflowDown=function(){var ae=this.getSelectedItemInfo();var ad=this.getSelectionArea();return ae.idx!=-1&&ad.size>0&&ae.posY+ae.spanY>=ad.spanY};ac.moveLeft=function(af){var ad=1;if(af==V.PARALLEL_AXIS_LEFT_UP){return this.sel.selectXInY(-ad,-1)}else{if(af==V.PARALLEL_AXIS_ANY){return this.sel.selectXInY(-ad,0)}else{if(af==V.PARALLEL_AXIS_RIGHT_DOWN){return this.sel.selectXInY(-ad,1)}else{if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS||af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"left")}return this.selectSpanItemAtPos(ae.posX-1,ae.posY)}else{if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS||af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();
if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"left")}return this.sel.selectItem(this.getNextSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"left",true))}else{if(af==V.PARALLEL_SPAN_AXIS){var ae=this.getSelectedItemInfo();return this.sel.selectItem(this.getNextParallelSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"left",true))}else{if(af==V.SAME_AXIS_IN_ROW){return this.sel.selectXInRow(-1)}else{return this.sel.selectPreviousX(ad)}}}}}}}};ac.moveRight=function(af){var ad=this.getSelectedItemInfo().spanX;if(af==V.PARALLEL_AXIS_LEFT_UP){return this.sel.selectXInY(ad,-1)}else{if(af==V.PARALLEL_AXIS_ANY){return this.sel.selectXInY(ad,0)}else{if(af==V.PARALLEL_AXIS_RIGHT_DOWN){return this.sel.selectXInY(ad,1)}else{if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS||af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"right")}return this.selectSpanItemAtPos(ae.posX+ae.spanX,ae.posY)
}else{if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS||af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"right")}return this.sel.selectItem(this.getNextSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"right",true))}else{if(af==V.PARALLEL_SPAN_AXIS){var ae=this.getSelectedItemInfo();return this.sel.selectItem(this.getNextParallelSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"right",true))}else{if(af==V.SAME_AXIS_IN_ROW){return this.sel.selectXInRow(1)}else{return this.sel.selectNextX(ad)}}}}}}}};ac.moveUp=function(af){var ad=1;if(af==V.PARALLEL_AXIS_LEFT_UP){return this.sel.selectYInX(-ad,-1)}else{if(af==V.PARALLEL_AXIS_ANY){return this.sel.selectYInX(-ad,0)}else{if(af==V.PARALLEL_AXIS_RIGHT_DOWN){return this.sel.selectYInX(-ad,1)}else{if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS||af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"up")
}return this.selectSpanItemAtPos(ae.posX,ae.posY-1)}else{if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS||af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"up")}return this.sel.selectItem(this.getNextSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"up",true))}else{if(af==V.PARALLEL_SPAN_AXIS){var ae=this.getSelectedItemInfo();return this.sel.selectItem(this.getNextParallelSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"up",true))}else{if(af==V.SAME_AXIS_IN_ROW){return this.sel.selectYInRow(-1)}else{return this.sel.selectPreviousY(ad)}}}}}}}};ac.moveDown=function(af){var ad=this.getSelectedItemInfo().spanY;if(af==V.PARALLEL_AXIS_LEFT_UP){return this.sel.selectYInX(ad,-1)}else{if(af==V.PARALLEL_AXIS_ANY){return this.sel.selectYInX(ad,0)}else{if(af==V.PARALLEL_AXIS_RIGHT_DOWN){return this.sel.selectYInX(ad,1)}else{if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS||af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();
if(af==V.SAME_SPAN_AXIS_WITHOUT_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"down")}return this.selectSpanItemAtPos(ae.posX,ae.posY+ae.spanY)}else{if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS||af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){var ae=this.getSelectedItemInfo();if(af==V.SAME_SPAN_AXIS_IGNORE_GAPS_OVERFLOW){ae=this.getOverflowInfo(ae,"down")}return this.sel.selectItem(this.getNextSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"down",true))}else{if(af==V.PARALLEL_SPAN_AXIS){var ae=this.getSelectedItemInfo();return this.sel.selectItem(this.getNextParallelSpanItemAtPos(ae.posX,ae.posY,ae.spanX,ae.spanY,"down",true))}else{if(af==V.SAME_AXIS_IN_ROW){return this.sel.selectYInRow(1)}else{return this.sel.selectNextY(ad)}}}}}}}};ac.getNextVisibleItem=function(ad,ae){var ag=this.sel.getSelectedItem();var af=null;if(ag!=null){this.sel.foreach(function(ai,ah){if(ah.isEnabled||!ae){if(af!=null){if(af!=ag&&ah.currentState!=null&&ah.currentState.visible===false){return true}af=ah}if(ah==ag){af=ag}}},ad)}return af
};ac.moveBackward=function(){return this.sel.selectItem(this.getNextVisibleItem(true,true))};ac.moveForward=function(){return this.sel.selectItem(this.getNextVisibleItem(false,true))};ac.disableItem=function(ad){this.sel.disableItem(ad)};ac.disableItemAtPos=function(ad,ae){this.sel.disableItemAtPos(ad,ae)};ac.disableItemForGlobalId=function(ad){this.sel.disableItem(this.getItemForGlobalId(ad))};ac.disableItemForControlId=function(ad){this.sel.disableItem(this.getItemForControlId(ad))};ac.disableItemForDataId=function(ad){this.sel.disableItem(this.getItemForDataId(ad))};ac.disableItemForElement=function(ad){this.sel.disableItem(this.getItemForElement(ad))};ac.enableItem=function(ad){this.sel.enableItem(ad)};ac.enableItemAtPos=function(ad,ae){this.sel.enableItemAtPos(ad,ae)};ac.enableItemForGlobalId=function(ad){this.sel.enableItem(this.getItemForGlobalId(ad))};ac.enableItemForControlId=function(ad){this.sel.enableItem(this.getItemForControlId(ad))};ac.enableItemForDataId=function(ad){this.sel.enableItem(this.getItemForDataId(ad))
};ac.enableItemForElement=function(ad){this.sel.enableItem(this.getItemForElement(ad))};ac.execute=function(){var ad=this.sel.getSelectedItem();if(ad!=null){if(typeof ad.executed=="function"){ad.executed()}if(this.delegate!=null&&typeof this.delegate.executeItem=="function"){this.delegate.executeItem(this,ad)}}return ad};ac.unregisterItemsInRow=function(ae){var ah=false;var aj=this.getSelectedItem();var ai=this.sel.lowestXinY(ae);var af=this.sel.highestXinY(ae);if(ai>=0&&af>=0){for(var ad=ai;ad<=af;ad++){var ag=this.sel.unregisterItem(ad,ae);if(ag!=null){if(ag==aj){ah=true}if(typeof ag.unregistered=="function"){ag.unregistered(this)}}}if(ah){this.clearSelection()}}};ac.unregisterItemsInColumn=function(ad){var ag=false;var aj=this.getSelectedItem();var af=this.sel.lowestYinX(ad);var ai=this.sel.highestYinX(ad);if(af>=0&&ai>=0){for(var ae=af;ae<=ai;ae++){var ah=this.sel.unregisterItem(ad,ae);if(ah!=null){if(ah==aj){ag=true}if(typeof ah.unregistered=="function"){ah.unregistered(this)}}}if(ag){this.clearSelection()
}}};ac.unregisterItems=function(){var ad=this;this.foreach(function(af,ae){if(typeof ae.unregistered=="function"){ae.unregistered(ad)}});this.clearSelection();this.clear()};ac.registerItems=function(af,ah,ad){var ae=this;var ag=this.doAnimate;this.doAnimate=false;if(af!=null){af.children().each(function(ao){var aj=k(this);var al=t.getRegisterToken(aj);var am=t.getRegisterValue(al,0);var ap=t.getRegisterValue(al,1);var ai=t.getRegisterValue(al,2);var aq=t.getRegisterValue(al,3);var an=t.getRegisterValue(al,4);var ak=t.getRegisterValue(al,5);aj.globalId=t.getGlobalId();aj.controlId=t.getControlId(aj);aj.refIndex=a.strToNum(an,ao);aj.refOffset=a.strToNum(ak,0);if(a.isNum(am)&&a.isNum(ap)){aj.idx=0;aj.posX=am*1;aj.posY=ap*1;aj.spanX=a.strToNum(ai,1);aj.spanY=a.strToNum(aq,1);ae.sel.registerItem(aj.posX,aj.posY,aj,aj.spanX,aj.spanY);if(typeof ah=="function"){ah(aj.idx,aj)}}else{if(typeof ad=="function"){ad(aj)}}})}this.foreach(function(aj,ai){if(typeof ai.registered=="function"){ai.registered(ae)
}});this.doAnimate=ag};ac.handleAction=function(ad,ae){if(this.isAnimating&&i.isBaseAction(ad)){return true}switch(ad){case i.LEFT:this.moveLeft();return true;case i.RIGHT:this.moveRight();return true;case i.UP:this.moveUp();return true;case i.DOWN:this.moveDown();return true;case i.SCROLL_UP:this.moveUp();return true;case i.SCROLL_DOWN:this.moveDown();return true;case i.SWIPE_LEFT:this.moveForward();return true;case i.SWIPE_RIGHT:this.moveBackward();return true;case i.SWIPE_UP:this.moveForward();return true;case i.SWIPE_DOWN:this.moveBackward();return true;case i.EXECUTE:this.execute();return true}return false};ac.handleClick=function(af,ag,ae){if(!this.isAnimating){var ah=this.getSelectedItem();var ad=this.getItemForElement(af);if(ah!=null&&ah==ad){this.execute();return 2}else{if(ad!=null){ah=this.selectItem(ad);if(ah==ad){return 1}}}}return 0};if(typeof ac.hasAnimations=="function"){ac.readyHandlers=null;ac.onReady=function(ad){if(typeof ad=="function"){if(this.hasAnimations()){if(this.readyHandlers==null){this.readyHandlers=[]
}this.readyHandlers.push(ad)}else{ad()}}};ac.animationsReady=function(){if(!this.hasAnimations()){if(this.readyHandlers!=null){var ae=this.readyHandlers;this.readyHandlers=null;if(ae.length>0){for(var ad=0;ad<ae.length;ad++){ae[ad]()}}}}}}}}};function Q(){var ac=null;var ad=0;this.init=function(ae){ac=ae};this.isBusy=function(){return ad>0};this.start=function(ae){n.show(ac);if(ae===true){ad=1}else{ad++}};this.stop=function(ae){if(ae===true){ad=0}else{if(ad>0){ad--}}if(ad==0){n.hide(ac)}}}function g(){var ag=null;var ae=0;var af=false;var ad=function(){if(!af){af=true;if(ag!=null&&typeof ag.acquireWakeLock=="function"){ag.acquireWakeLock()}}};var ac=function(){if(af){af=false;if(ag!=null&&typeof ag.releaseWakeLock=="function"){ag.releaseWakeLock()}}};this.init=function(ah){ag=ah};this.isAcquired=function(){return af};this.acquire=function(ah){ad();if(ah===true){ae=1}else{ae++}};this.release=function(ah){if(ah===true){ae=0}else{if(ae>0){ae--}}if(ae==0){ac()}}}var F={DEFAULT:0,WIDGETS:1};
function U(aK){var aB=[{index:0,name:"main",scenes:{}},{index:10,name:"overlay",scenes:{}}];var af=this;var au=aK!=null?aK:F.DEFAULT;var aG={};var ah=[];var ao=[];var aE=false;var aA=false;var aC=false;var aJ=0;this.masterScene=null;this.delegate=null;this.doAnimate=true;this.isAnimating=false;var at=function(aO){if(aO!=null){if(aG[aO]==null){aG[aO]=k("#"+aO)}return aG[aO]}return null};var ap=function(){aJ++;return aJ>0};var aq=function(){aJ--;if(aJ<0){aJ=0}return aJ>0};var ay=function(aO){return aO!=null&&aO.doAnimate!==false};var ae=function(aO){if(aO!=null){aO.isAnimating=true}};var ar=function(aO){if(aO!=null){aO.isAnimating=false;if(aO.readyHandlers!=null){var aQ=aO.readyHandlers;aO.readyHandlers=null;if(aQ.length>0){for(var aP=0;aP<aQ.length;aP++){aQ[aP]()}}}}};var aw=function(aO,aP,aQ,aR){if(aO!=null&&aP!=null&&aQ!=null&&typeof aP[aQ]=="function"){aP[aQ](aO,aR)}};var ai=function(aO,aQ,aP){if(aO!=null&&aQ!=null&&typeof aO[aQ]=="function"){aO[aQ](aP)}};var aN=function(aO,aQ,aP){aw(aO,aO!=null?aO.options:null,aQ,aP);
ai(aO,aQ,aP)};var aH=function(aO){if(aO!=null&&aO.options!=null){if(aO.queue==null){aO.queue=[]}aO.queue.push(aO.options)}};var aL=function(aO){if(aO!=null&&aO.storedQueue!=null&&aO.storedQueue.length>0){if(aO.queue!=null&&aO.queue.length>0){var aR=aO.queue;for(var aS=0;aS<aR.length;aS++){var aQ=aR[aS];aw(aO,aQ,"onRelease",aQ)}}var aP=aO.storedQueue;for(var aS=0;aS<aP.length;aS++){var aQ=aP[aS];aw(aO,aQ,"onRestore",aQ)}aO.queue=aO.storedQueue;aO.storedQueue=null;return true}return false};var ak=function(aO){if(aO!=null&&aO.queue!=null&&aO.queue.length>0){if(aO.storedQueue!=null&&aO.storedQueue.length>0){var aP=aO.storedQueue;for(var aS=0;aS<aP.length;aS++){var aQ=aP[aS];aw(aO,aQ,"onRelease",aQ)}}var aR=aO.queue;for(var aS=0;aS<aR.length;aS++){var aQ=aR[aS];aw(aO,aQ,"onStore",aQ)}aO.storedQueue=aO.queue;aO.queue=null}};var ag=function(aP,aO){if(aP!=null){if(aP.storedQueue!=null&&aP.storedQueue.length>0&&aO){var aQ=aP.storedQueue;for(var aT=0;aT<aQ.length;aT++){var aR=aQ[aT];aw(aP,aR,"onRelease",aR)
}aP.storedQueue=null}if(aP.queue!=null&&aP.queue.length>0){var aS=aP.queue;for(var aT=0;aT<aS.length;aT++){var aR=aS[aT];aw(aP,aR,"onRelease",aR)}aP.queue=null}}};var al=function(aO){if(n.useTransitions()&&aO!=null){n.show(aO)}};var az=function(aO){};var ax=function(aQ){if(ao.length>0){var aP=-1;for(var aO=0;aO<ao.length;aO++){if(ao[aO].controlId==aQ){aP=aO;break}}if(aP>=0){ao.splice(aP,1)}}};var aI=function(aQ,aP,aO){if(aE){ax(aQ);ao.push({action:"show",controlId:aQ,options:aP,isHistoryBack:aO});return false}aE=true;return true};var av=function(aP,aO){if(aE){ax(aP);ao.push({action:"hide",controlId:aP,useQueue:aO});return false}aE=true;return true};var aM=function(){aE=false;if(ao.length>0){var aO=ao.pop();if(aO.action=="show"){af.showScene(aO.controlId,aO.options,aO.isHistoryBack)}else{if(aO.action=="hide"){af.hideScene(aO.controlId,aO.useQueue)}}return false}return true};var ac=function(){if(aA){aA=false;if(af.delegate!=null&&typeof af.delegate.visibleScenesChanged=="function"){af.delegate.visibleScenesChanged(af)
}}if(aC){aC=false;if(af.delegate!=null&&typeof af.delegate.activeSceneChanged=="function"){af.delegate.activeSceneChanged(af)}}};var am=function(aQ,aR,aP,aO){if(aQ!=null){if(aP!==false&&af.doAnimate&&n.useAnimations()){af.isAnimating=ap();if(aR){ae(aO);n.delay(aQ,aP,function(){if(aO!=null&&aO.isVisible){al(aQ);aN(aO,"onBecomeVisible")}});n.fadeIn(aQ,aP,null,function(){af.isAnimating=aq();ar(aO);if(aO!=null&&aO.isVisible){aN(aO,"onVisible")}})}else{ae(aO);al(aQ);aN(aO,"onBecomeVisible");n.fadeIn(aQ,aP,null,function(){af.isAnimating=aq();ar(aO);if(aO!=null&&aO.isVisible){aN(aO,"onVisible")}})}}else{al(aQ);aN(aO,"onBecomeVisible");n.fadeIn(aQ,false);aN(aO,"onVisible")}}};var aj=function(aQ,aP,aO){if(aQ!=null){if(aP!==false&&af.doAnimate&&n.useAnimations()){af.isAnimating=ap();ae(aO);az(aQ);aN(aO,"onBecomeHidden");n.fadeOut(aQ,aP,null,function(){af.isAnimating=aq();ar(aO);if(aO!=null&&!aO.isVisible){aN(aO,"onHidden")}})}else{az(aQ);aN(aO,"onBecomeHidden");n.fadeOut(aQ,false);aN(aO,"onHidden")
}}};var an=function(aQ,aP,aO){if(aQ!=null){if(aP!==false&&af.doAnimate&&n.useAnimations()){af.isAnimating=ap();ae(aO);n.renderFromTo(aQ,q.RENDERER.STATE.FADE_IN_FROM,q.RENDERER.STATE.FADE_IN_TO,aP,null,function(){af.isAnimating=aq();ar(aO)})}}};var aF=function(aP,aO){if(aO!=null){if(aP!==true){aO.isUpdating=false}if(!aO.isVisible||aO.isUpdating){return false}}return true};var ad=function(aQ,aP,aO,aR){if(aQ!=null&&typeof aR=="function"){if(aO!=null){aO.isUpdating=true}if(aP!==false&&af.doAnimate&&n.useAnimations()){af.isAnimating=ap();ae(aO);n.fadeOut(aQ,aP,null,function(){if(aF(aR(),aO)){n.fadeIn(aQ,aP,null,function(){af.isAnimating=aq();ar(aO)})}else{af.isAnimating=aq();ar(aO)}})}else{n.fadeOut(aQ,false);if(aF(aR(),aO)){n.fadeIn(aQ,false)}}}};var aD=function(aQ,aP,aO){if(aQ!=null){if(aO!=null){aO.isUpdating=false}if(aP!==false&&af.doAnimate&&n.useAnimations()){ae(aO);al(aQ);n.fadeIn(aQ,aP,null,function(){af.isAnimating=aq();ar(aO)})}else{n.fadeIn(aQ,false)}}};this.getMode=function(){return au
};this.hasAnimations=function(){return this.isAnimating};this.foreach=function(aS){if(typeof aS=="function"){for(var aP=0;aP<aB.length;aP++){var aR=aB[aP].scenes;for(var aQ in aR){var aO=aR[aQ];if(aO!=null){if(aS(aO,aB[aP])===true){break}}}}}};this.getLayerForName=function(aP){if(aP!=null){for(var aQ=0;aQ<aB.length;aQ++){var aO=aB[aQ];if(aO.name==aP){return aO}}}return null};this.getLayerAtIndex=function(aP){for(var aQ=0;aQ<aB.length;aQ++){var aO=aB[aQ];if(aO.index==aP){return aO}}return null};this.registerLayer=function(aP,aO){if(aO!=null){if(this.getLayerAtIndex(aP)==null&&this.getLayerForName(aO)==null){aB.push({index:aP,name:aO,scenes:{}})}}};this.unregisterLayer=function(aP){if(aP!=null){var aT=0;var aR=false;for(var aU=0;aU<aB.length;aU++){var aO=aB[aU];if(aO.name==aP){aR=true;var aQ=aO.scenes;for(var aS in aQ){this.disposeScene(aQ[aS])}break}aT++}if(aR){aB.splice(aT,1)}}};this.disposeScene=function(aO){if(aO!=null&&aO.isInitialized){var aP=false;aC=aO.isActive;if(aO.isVisible){aA=true;
aN(aO,"onWillUnload");if(typeof aO.unload=="function"){aO.unload()}aN(aO,"onUnload");ag(aO,true);aO.isVisible=false;aj(aO.control,aP,aO)}aO.isActive=false;if(aC){aN(aO,"onDeactive")}if(typeof aO.dispose=="function"){aO.dispose()}ac()}};this.registerScene=function(aR,aQ,aP){if(aR!=null&&aQ!=null&&aP!=null){var aO=this.getLayerForName(aR);if(aO!=null){aP.controlId=aQ;aP.layerIndex=aO.index;aP.isAnimating=false;aP.isInitialized=false;aP.isVisible=false;aP.isActive=false;aP.isUpdating=false;if(aP.visualControlId==null){aP.visualControlId=aQ}aP.readyHandlers=null;aP.onReady=function(aS){if(typeof aS=="function"){if(this.isAnimating){if(this.readyHandlers==null){this.readyHandlers=[]}this.readyHandlers.push(aS)}else{aS()}}};if(this.getSceneForVisualControlId(aP.visualControlId)==null){aP.control=k("#"+aP.visualControlId);if(aP.control.length==0){aN(aP,"onWarning","Visual control does not exist for ID: "+aP.visualControlId)}else{this.disposeScene(aO.scenes[aQ]);aO.scenes[aQ]=aP}}else{aN(aP,"onWarning","Visual control ID already registered: "+aP.visualControlId)
}}}};this.unregisterScene=function(aQ){if(aQ!=null){for(var aO=0;aO<aB.length;aO++){var aP=aB[aO].scenes;this.disposeScene(aP[aQ]);aP[aQ]=null}}};this.hasScene=function(aO){return this.getScene(aO)!=null};this.getScene=function(aQ){if(aQ!=null){for(var aP=0;aP<aB.length;aP++){var aO=aB[aP].scenes[aQ];if(aO!=null){return aO}}}return null};this.getSceneForVisualControlId=function(aP){if(aP!=null){for(var aS=0;aS<aB.length;aS++){var aR=aB[aS].scenes;for(var aQ in aR){var aO=aR[aQ];if(aO!=null&&aO.visualControlId==aP){return aO}}}}return null};this.hasMasterScene=function(){return this.masterScene!=null};this.hasActiveScene=function(){return this.getActiveScene()!=null};this.hasActiveSceneInLayer=function(aO){return this.getActiveSceneInLayer(aO)!=null};this.hasVisibleSceneInLayer=function(aO){return this.getVisibleSceneInLayer(aO)!=null};this.hasVisibleScenes=function(){for(var aR=0;aR<aB.length;aR++){var aQ=aB[aR].scenes;for(var aP in aQ){var aO=aQ[aP];if(aO!=null&&aO.isVisible){return true
}}}return false};this.hasSceneInProgress=function(){return aE};this.isSceneInHistory=function(aP){if(au==F.DEFAULT){if(aP!=null&&ah.length>0){for(var aO=0;aO<ah.length;aO++){if(ah[aO]==aP){return true}}}}return false};this.addSceneToHistory=function(aP){if(au==F.DEFAULT){if(aP!=null){var aO=this.getScene(aP);if(aO!=null){this.removeSceneFromHistory(aP);ah.push(aP)}}}};this.removeSceneFromHistory=function(aQ){if(au==F.DEFAULT){if(aQ!=null&&ah.length>0){var aP=-1;for(var aO=0;aO<ah.length;aO++){if(ah[aO]==aQ){aP=aO;break}}if(aP>=0){ah.splice(aP,1)}}}};this.clearHistory=function(aR){if(au==F.DEFAULT){if(ah.length>0){ah=[]}for(var aO=0;aO<aB.length;aO++){var aQ=aB[aO].scenes;for(var aP in aQ){ag(aQ[aP],true)}}this.addSceneToHistory(aR)}};this.isSceneVisible=function(aP){var aO=this.getScene(aP);if(aO!=null){return aO.isVisible}return false};this.isSceneActive=function(aP){var aO=this.getScene(aP);if(aO!=null){return aO.isActive}return false};this.hideActiveScene=function(aO){var aP=this.getActiveScene();
if(aP!=null){this.hideScene(aP.controlId,aO)}};this.hideActiveSceneInLayer=function(aQ,aO){var aP=this.getActiveSceneInLayer(aQ);if(aP!=null){this.hideScene(aP.controlId,aO)}};this.hideVisibleSceneInLayer=function(aQ,aO){var aP=this.getVisibleSceneInLayer(aQ);if(aP!=null){this.hideScene(aP.controlId,aO)}};this.getActiveScene=function(){for(var aR=0;aR<aB.length;aR++){var aQ=aB[aR].scenes;for(var aP in aQ){var aO=aQ[aP];if(aO!=null&&aO.isActive){return aO}}}return null};this.getActiveSceneInLayer=function(aS){var aO=this.getLayerForName(aS);if(aO!=null){var aR=aO.scenes;for(var aQ in aR){var aP=aR[aQ];if(aP!=null&&aP.isActive){return aP}}}return null};this.getVisibleSceneInLayer=function(aS){var aO=this.getLayerForName(aS);if(aO!=null){var aR=aO.scenes;for(var aQ in aR){var aP=aR[aQ];if(aP!=null&&aP.isVisible){return aP}}}return null};this.initScene=function(aP){var aO=this.getScene(aP);if(aO!=null&&!aO.isInitialized){aO.init();aO.isInitialized=true}};this.updateScene=function(aR,aO){if(typeof aO=="function"){var aQ=this.getScene(aR);
if(aQ!=null&&aQ.isVisible){var aP=aQ.control;if(aQ.updateControlId!=null){aP=at(aQ.updateControlId)}ad(aP,ay(aQ),aQ,aO)}else{aO()}}};this.completeUpdateScene=function(aQ){var aO=this.getScene(aQ);if(aO!=null&&aO.isUpdating){if(aO.isVisible){var aP=aO.control;if(aO.updateControlId!=null){aP=at(aO.updateControlId)}aD(aP,ay(aO),aO)}else{aO.isUpdating=false}}};this.showScene=function(aU,aV,aO){if(aI(aU,aV,aO)){var aT=this.getScene(aU);if(aT!=null){var a5=this.getLayerAtIndex(aT.layerIndex);if(!aT.isInitialized){if(typeof aT.init=="function"){aT.init()}aT.isInitialized=true}if(aT.options!=null&&aV!=null){if(aO===true){aN(aT,"onRelease",aT.options)}else{if(aT.isVisible&&aV.useQueue===true&&aT.options.useQueue!==false){aH(aT);aN(aT,"onQueue",aT.options)}else{if(aT.options.storeQueue===true){aH(aT);ak(aT);ai(aT,"onStore",aT.options)}else{ag(aT,false);aN(aT,"onRelease",aT.options)}}}}aN(aT,"onWillLoad");if(aV!=null){aT.options=aV}if(typeof aT.load=="function"){aT.load(aV)}aN(aT,"onLoad");var aR=false;
var a2=[];if(au==F.DEFAULT){for(var aW=0;aW<aB.length;aW++){var a0=aB[aW].scenes;for(var a1 in a0){var aS=a0[a1];if(aS!=null&&aS!=aT&&aS.isVisible&&aS.layerIndex>=a5.index){aN(aS,"onWillUnload");if(typeof aS.unload=="function"){aS.unload()}aN(aS,"onUnload");if(aS.layerIndex!=a5.index){ag(aS,false)}aS.isVisible=false;aj(aS.control,ay(aS),aS);if(aS.attachedControlIds!=null&&aS.attachedControlIds.length>0){var aY=aS.attachedControlIds;for(var aZ=0;aZ<aY.length;aZ++){var a4=aY[aZ];a2.push(a4);aj(at(a4),ay(aS))}}if(aS.layerIndex==a5.index){if(ay(aS)){aR=true}}}}}}if(!aT.isVisible){aA=true;aT.isVisible=true;am(aT.control,aR,ay(aT),aT);if(aT.attachedControlIds!=null&&aT.attachedControlIds.length>0){var aQ=aT.attachedControlIds;for(var aZ=0;aZ<aQ.length;aZ++){var a3=aQ[aZ];var aX=false;if(a2.length>0){for(var aP=0;aP<a2.length;aP++){if(a2[aP]==a3){aX=true;break}}}am(at(a3),aR&&!aX,ay(aT))}}}else{if(aT.isActive){if(aT.reshowControlId!=null&&!aT.isAnimating){an(at(aT.reshowControlId),ay(aT),aT)}}}if(au==F.DEFAULT){if(!aT.isActive){aC=true;
for(var aW=0;aW<aB.length;aW++){var a0=aB[aW].scenes;for(var a1 in a0){var aS=a0[a1];if(aS!=aT&&aS.isActive){aS.isActive=false;aN(aS,"onDeactive")}}}aT.isActive=true;aN(aT,"onActive")}if(aT.layerIndex==0&&aO!==true){if(aT.startHistory===true){if(aT.addToHistory===false){this.clearHistory()}else{this.clearHistory(aU)}}else{if(aT.addToHistory!==false){this.addSceneToHistory(aU)}}}}}if(aM()){ac()}}};this.hideScene=function(aX,aO){if(av(aX,aO)){var aS=this.getScene(aX);if(aS!=null&&aS.isVisible){if(aO===true&&aS.isActive&&aS.queue!=null&&aS.queue.length>0){this.showScene(aX,aS.queue.pop(),true)}else{var aV=-1;var aW=null;aN(aS,"onWillUnload");if(typeof aS.unload=="function"){aS.unload()}aN(aS,"onUnload");if(aO===false){ag(aS,false)}aA=aS.isVisible;aS.isVisible=false;aj(aS.control,ay(aS),aS);if(aS.attachedControlIds!=null&&aS.attachedControlIds.length>0){var aY=aS.attachedControlIds;for(var aT=0;aT<aY.length;aT++){aj(at(aY[aT]),ay(aS))}}if(au==F.DEFAULT){if(aS.isActive){aC=true;for(var aR=0;
aR<aB.length;aR++){var aU=aB[aR].scenes;for(var aP in aU){var aQ=aU[aP];if(aQ!=aS&&aQ.isVisible&&aQ.layerIndex>=aV){aV=aQ.layerIndex;aW=aQ}}}aS.isActive=false;aN(aS,"onDeactive")}if(aW!=null&&!aW.isActive){aW.isActive=true;aN(aW,"onActive")}}}}if(aM()){ac()}}};this.toggleScene=function(aP){var aO=this.getScene(aP);if(aO!=null){if(aO.isVisible){this.hideScene(aP)}else{this.showScene(aP)}}};this.canRestoreScene=function(aP){var aO=this.getScene(aP);return aO!=null&&aO.storedQueue!=null&&aO.storedQueue.length>0};this.restoreScene=function(aP){var aO=this.getScene(aP);if(aL(aO)&&aO.queue!=null&&aO.queue.length>0){this.showScene(aP,aO.queue.pop(),true);return true}return false};this.canGoBack=function(){if(au==F.DEFAULT){var aO=this.getActiveScene();if(aO!=null){if(aO.queue!=null&&aO.queue.length>0){return true}else{if(aO.layerIndex==0&&aO.addToHistory!==false){return ah.length>1}}}return ah.length>0}return false};this.goBack=function(){if(au==F.DEFAULT){var aO=this.getActiveScene();if(aO!=null){if(aO.queue!=null&&aO.queue.length>0){this.showScene(aO.controlId,aO.queue.pop(),true)
}else{if(aO.layerIndex==0){if(aO.addToHistory!==false){if(ah.length>1){this.showScene(ah[ah.length-2],null,true);if(ah.length>1&&ah[ah.length-1]==aO.controlId){ah.pop()}}else{this.hideActiveScene()}}else{if(ah.length>0){this.showScene(ah[ah.length-1],null,true)}else{this.hideActiveScene()}}}else{if(ah.length>0){this.showScene(ah[ah.length-1],null,true)}}}}else{if(ah.length>0){this.showScene(ah[ah.length-1],null,true)}}}};this.handleAction=function(aP,aQ){if(au==F.DEFAULT){if(this.isAnimating&&i.isBaseAction(aP)){return true}if(this.masterScene!=null&&typeof this.masterScene.handleAction=="function"&&this.masterScene.handleAction(aP,aQ)){return true}var aO=this.getActiveScene();if(aO!=null&&typeof aO.handleAction=="function"){return aO.handleAction(aP,aQ)}}return false};this.handleClick=function(aQ,aR,aP){if(au==F.DEFAULT){if(!this.isAnimating){if(this.masterScene!=null&&typeof this.masterScene.handleClick=="function"){return this.masterScene.handleClick(aQ,aR,aP)}var aO=this.getActiveScene();
if(aO!=null&&typeof aO.handleClick=="function"){return aO.handleClick(aQ,aR,aP)}}}return 0}}var s=new function(){var ap=16;var aq=32;var ac="tvx:device_id";var ae=/^[a-z-]+_[A-Za-z0-9]+_[0-9]+([0-9#])*$/;var am=new w("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");var at=new w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");var an=new w(a.strShuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"));var ar=new w("tuNiBAmqXwPd-aUIRFHn2YpVQ9gkD7zWC4jMGycJ8v65SrZ0.hO1eLfKboxEl3sT");var ai=function(ax,aw){return ax!=null&&aw>=0&&aw<ax.length?ax.charAt(aw):"0"};var ak=function(aw){return aw.indexOf("-")==0?"0"+aw.substr(1):aw};var au=function(ax,aA,aw){var ay=0;for(var az=ax.length;az<aw;az++){ax+=ai(aA,ay++)}return ax};var aj=function(aw){return au(ak(""+a.createHash(aw)),ak(""+a.createHash(aw,true)),ap)};var av=function(aw){return a.isFullStr(aw)&&ae.test(aw)
};var al=function(aw){if(a.isFullStr(aw)&&aw.length<aq){return au(aw+"#",ak(""+a.createHash(aw))+ak(""+a.createHash(aw,true)),aq)}return aw};var ah=function(aw){return a.isFullStr(aw)?a.base64DecodeId(ar.normalizeString(aw)):null};var af=function(aw){return a.isFullStr(aw)?ar.transformString(a.base64EncodeId(al(aw))):null};var ag=function(){O.storage.remove(ac)};var ad=function(ax){var aw=O.storage.getFullStr(ac,null);if(!av(ah(aw))){aw=null}if(aw==null&&ax!=null&&ax.info!=null&&ax.info.platform!=null){aw=af(ax.info.platform+"_"+a.createKey(16)+"_"+P.getTimestamp());O.storage.set(ac,aw)}return aw};var ao=function(aw){if(aw!=null&&aw.info!=null&&aw.info.platform!=null&&aw.info.system!=null){if(aw.info.system.macAddress!=null){return af(aw.info.platform+"_"+aw.info.system.macAddress)}else{if(aw.info.system.deviceId!=null){return af(aw.info.platform+"_"+aw.info.system.deviceId)}else{if(aw.info.id!=null){return af(aw.info.platform+"_"+aw.info.id)}}}}return ad(aw)};this.checkOrigin=function(aw){if(a.isFullStr(aw)){return aw=="null"||aw=="http://msx.benzac.de"||aw=="https://msx.benzac.de"||aw=="ms-appx://52357benzac.de.mediastationx"||aw=="http://localhost"||aw.indexOf("http://localhost:")==0||aw.indexOf("file://")==0
}return false};this.transformString=function(aw){return am.transformString(aw)};this.normalizeString=function(aw){return am.normalizeString(aw)};this.createHashKey=function(aw,ax){if(ax=="local"){return an.transformString(aj(aw))}return at.transformString(aj(aw))};this.clearDeviceId=function(){ag()};this.getDeviceId=function(aw){return ao(aw)}};var b=new function(){var af=new c();var ap=null;var am=false;var ai=null;var al=function(at){if(ap!=null){var aq=ap;ap=null;if(aq.length>0){for(var ar=0;ar<aq.length;ar++){aq[ar](at)}}}};var ae=function(aq){if(ap==null){ap=[]}ap.push(aq)};var aj=function(ar,aq){if(a.isFullStr(aq)){if(a.isFullStr(ar)){return aq==ar}return false}return true};var ag=function(aq){return aq!=null&&aq.info!=null&&aq.info.framework!=null?a.strFullCheck(aq.info.framework.name,null):null};var ah=function(aq){return aq!=null&&aq.info!=null&&aq.info.framework!=null?a.strFullCheck(aq.info.framework.version,null):null};var ad=function(aq){return aq!=null&&aq.info!=null&&aq.info.application!=null?a.strFullCheck(aq.info.application.name,null):null
};var ak=function(aq){return aq!=null&&aq.info!=null&&aq.info.application!=null?a.strFullCheck(aq.info.application.version,null):null};var ac=function(aq){return aq!=null&&aq.info!=null&&aq.info.content!=null?a.strFullCheck(aq.info.content.name,null):null};var ao=function(aq){return aq!=null&&aq.info!=null&&aq.info.content!=null?a.strFullCheck(aq.info.content.version,null):null};var an=function(){af.start();af.start();window.addEventListener("load",function(){af.stop()});O.storage.onReady(function(){af.stop()})};this.createCanvas=function(at,ar,aq){return a.strReplace(q.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(ar,p.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(aq,p.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(at))};this.createIFrame=function(aq,ar){return a.strReplace(a.strReplace(q.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(aq)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(ar,"about:blank")))};this.isReady=function(){return !af.isBusy()};this.onReady=function(aq){af.onReady(aq)};this.startInitService=function(){af.start()
};this.stopInitService=function(){af.stop()};this.areSettingsValidated=function(){return am};this.invalidateSettings=function(){am=false;ai=null};this.validateSettings=function(az){am=true;ai=az;var aH=null;var au=null;var aK=null;var aL=null;var aB=null;var aS=null;var aR=null;var aI=null;var aN=null;var av=null;var aq=null;var ax=null;var aO=null;var aC=null;var aA=null;var aE=null;var aM=null;var aP=null;var at=null;var aJ=null;var ar=null;var aF=null;var aD=null;var aG=null;var ay=null;var aw=null;var aQ=null;if(az!=null&&az.info!=null){aR=az.info.platform;aI=az.info.id;if(az.info.time!=null){aH=az.info.time.offset;au=az.info.time.zoneOffset}if(az.info.screen!=null){aK=az.info.screen.width;aL=az.info.screen.height;aB=az.info.screen.factor;aS=az.info.screen.zoomFactor}if(az.info.framework!=null&&az.info.framework.settings!=null){aN=az.info.framework.settings.animate;av=az.info.framework.settings.transform;aq=az.info.framework.settings.input;ax=az.info.framework.settings.remote;aO=az.info.framework.settings.layout;
aC=az.info.framework.settings.scale;aA=az.info.framework.settings.zoom;aE=az.info.framework.settings.center;aM=az.info.framework.settings.background;aP=az.info.framework.settings.leave;at=az.info.framework.settings.exit;aJ=az.info.framework.settings.back;ar=az.info.framework.settings.volume;aF=az.info.framework.settings.busy;aD=az.info.framework.settings.speed;aG=az.info.framework.settings.playback;ay=az.info.framework.settings.fullscreen;aw=az.info.framework.settings.suspend;aQ=az.info.framework.settings.secure}}p.TIME_OFFSET=a.strToNum(aH,p.TIME_OFFSET);p.TIME_ZONE_OFFSET=a.strToNum(au,p.TIME_ZONE_OFFSET);p.SCREEN_WIDTH=a.strToNum(aK,p.SCREEN_WIDTH);p.SCREEN_HEIGHT=a.strToNum(aL,p.SCREEN_HEIGHT);p.SCREEN_FACTOR=a.strToNum(aB,p.SCREEN_FACTOR);p.ZOOM_FACTOR=a.strToNum(aS,p.ZOOM_FACTOR);p.PLATFORM=a.strFullCheck(aR,p.PLATFORM);p.ID=a.strFullCheck(aI,p.ID);p.ANIMATE=a.strToNum(aN,p.ANIMATE);p.TRANSFORM=a.strToNum(av,p.TRANSFORM);p.INPUT=a.strToNum(aq,p.INPUT);p.REMOTE=a.strToNum(ax,p.REMOTE);
p.LAYOUT=a.strFullCheck(aO,p.LAYOUT);p.SCALE=a.strFullCheck(aC,p.SCALE);p.ZOOM=a.strFullCheck(aA,p.ZOOM);p.CENTER=a.strToNum(aE,p.CENTER);p.BACKGROUND=a.strToNum(aM,p.BACKGROUND);p.LEAVE=a.strToNum(aP,p.LEAVE);p.EXIT=a.strToNum(at,p.EXIT);p.BACK=a.strToNum(aJ,p.BACK);p.VOLUME=a.strToNum(ar,p.VOLUME);p.BUSY=a.strToNum(aF,p.BUSY);p.SPEED=a.strToNum(aD,p.SPEED);p.PLAYBACK=a.strToNum(aG,p.PLAYBACK);p.FULLSCREEN=a.strToNum(ay,p.FULLSCREEN);p.SUSPEND=a.strToNum(aw,p.SUSPEND);p.SECURE=a.strToNum(aQ,p.SECURE);al(az)};this.onValidatedSettings=function(aq){if(typeof aq=="function"){if(am){aq(ai)}else{ae(aq)}}};this.handleSettingsEvent=function(ar){if(ar!=null&&a.isFullStr(ar.event)&&ar.event.indexOf("settings:")==0){var aq=ar.event.substr(9);if(aq=="animate"){p.ANIMATE=a.strToNum(ar.value,p.ANIMATE)}else{if(aq=="transform"){p.TRANSFORM=a.strToNum(ar.value,p.TRANSFORM)}else{if(aq=="input"){p.INPUT=a.strToNum(ar.value,p.INPUT)}else{if(aq=="remote"){p.REMOTE=a.strToNum(ar.value,p.REMOTE)}else{if(aq=="layout"){p.LAYOUT=a.strToNum(ar.value,p.LAYOUT)
}else{if(aq=="scale"){p.SCALE=a.strFullCheck(ar.value,p.SCALE)}else{if(aq=="zoom"){p.ZOOM=a.strFullCheck(ar.value,p.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(aq){return a.strFullCheck(ag(aq),"-")+" "+a.strFullCheck(ah(aq),"-")};this.getApplicationInfo=function(aq){return a.strFullCheck(ad(aq),"-")+" "+a.strFullCheck(ak(aq),"-")};this.getContentInfo=function(aq){return a.strFullCheck(ac(aq),"-")+" "+a.strFullCheck(ao(aq),"-")};this.checkFramework=function(at,ar,aq){return a.checkVersion(ah(at),ar)&&aj(ag(at),aq)};this.checkApplication=function(at,ar,aq){return a.checkVersion(ak(at),ar)&&aj(ad(at),aq)};this.checkContent=function(at,ar,aq){return a.checkVersion(ao(at),ar)&&aj(ac(at),aq)};this.isSameContentState=function(ar,aq){return ar!=null&&aq!=null&&ar.start===aq.start&&ar.restored===aq.restored&&ar.menuId===aq.menuId&&ar.menuFlag===aq.menuFlag&&ar.menuFocus===aq.menuFocus&&ar.menuIndex===aq.menuIndex&&ar.menuSize===aq.menuSize&&ar.contentId===aq.contentId&&ar.contentFlag===aq.contentFlag&&ar.contentFocus===aq.contentFocus&&ar.contentIndex===aq.contentIndex&&ar.contentSize===aq.contentSize&&ar.contentVisible===aq.contentVisible&&ar.panelId===aq.panelId&&ar.panelFlag===aq.panelFlag&&ar.panelFocus===aq.panelFocus&&ar.panelIndex===aq.panelIndex&&ar.panelSize===aq.panelSize&&ar.panelVisible===aq.panelVisible&&ar.videoVisible===aq.videoVisible&&ar.videoActive===aq.videoActive&&ar.playerVisible===aq.playerVisible&&ar.slideshowVisible===aq.slideshowVisible&&ar.volumeVisible===aq.volumeVisible&&ar.logVisible===aq.logVisible
};this.createChangedContentState=function(ar,aq){return aq!=null?{init:aq.init,initChanged:ar==null||ar.init!==aq.init,start:aq.start,startChanged:ar==null||ar.start!==aq.start,restored:aq.restored,restoredChanged:ar==null||ar.restored!==aq.restored,menuId:aq.menuId,menuIdChanged:ar==null||ar.menuId!==aq.menuId,menuFlag:aq.menuFlag,menuFlagChanged:ar==null||ar.menuFlag!==aq.menuFlag,menuFocus:aq.menuFocus,menuFocusChanged:ar==null||ar.menuFocus!==aq.menuFocus,menuIndex:aq.menuIndex,menuIndexChanged:ar==null||ar.menuIndex!==aq.menuIndex,menuSize:aq.menuSize,menuSizeChanged:ar==null||ar.menuSize!==aq.menuSize,contentId:aq.contentId,contentIdChanged:ar==null||ar.contentId!==aq.contentId,contentFlag:aq.contentFlag,contentFlagChanged:ar==null||ar.contentFlag!==aq.contentFlag,contentFocus:aq.contentFocus,contentFocusChanged:ar==null||ar.contentFocus!==aq.contentFocus,contentIndex:aq.contentIndex,contentIndexChanged:ar==null||ar.contentIndex!==aq.contentIndex,contentSize:aq.contentSize,contentSizeChanged:ar==null||ar.contentSize!==aq.contentSize,contentVisible:aq.contentVisible,contentVisibleChanged:ar==null||ar.contentVisible!==aq.contentVisible,panelId:aq.panelId,panelIdChanged:ar==null||ar.panelId!==aq.panelId,panelFlag:aq.panelFlag,panelFlagChanged:ar==null||ar.panelFlag!==aq.panelFlag,panelFocus:aq.panelFocus,panelFocusChanged:ar==null||ar.panelFocus!==aq.panelFocus,panelIndex:aq.panelIndex,panelIndexChanged:ar==null||ar.panelIndex!==aq.panelIndex,panelSize:aq.panelSize,panelSizeChanged:ar==null||ar.panelSize!==aq.panelSize,panelVisible:aq.panelVisible,panelVisibleChanged:ar==null||ar.panelVisible!==aq.panelVisible,videoVisible:aq.videoVisible,videoVisibleChanged:ar==null||ar.videoVisible!==aq.videoVisible,videoActive:aq.videoActive,videoActiveChanged:ar==null||ar.videoActive!==aq.videoActive,playerVisible:aq.playerVisible,playerVisibleChanged:ar==null||ar.playerVisible!==aq.playerVisible,slideshowVisible:aq.slideshowVisible,slideshowVisibleChanged:ar==null||ar.slideshowVisible!==aq.slideshowVisible,volumeVisible:aq.volumeVisible,volumeVisibleChanged:ar==null||ar.volumeVisible!==aq.volumeVisible,logVisible:aq.logVisible,logVisibleChanged:ar==null||ar.logVisible!==aq.logVisible}:ar
};an()};var X=new function(){var bi="videoPlugin";var bh="vrq";var be=100;var aA=30000;var a5=new w("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var bc=null;var av=false;var bj=null;var aH=false;var am=false;var ac=false;var aq=false;var ak=null;var aZ=new m();var ay=new v(1000);var a4=new v(1000);var a8=false;var aC={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:p.SCREEN_WIDTH,height:p.SCREEN_HEIGHT};var aN=function(bu){return(bu!=null&&bu.webkitSupportsFullscreen===true)||document.fullscreenEnabled===true||document.msFullscreenEnabled===true||document.mozFullScreenEnabled===true||document.webkitFullscreenEnabled===true};var ap=function(bu){return(bu!=null&&bu.webkitDisplayingFullscreen===true)||document.fullScreenElement!=null||document.msFullscreenElement!=null||document.mozFullScreen===true||document.webkitIsFullScreen===true
};var aE=function(bu){if(bu!=null&&aN(bu)){try{if(typeof bu.webkitEnterFullScreen=="function"){bu.webkitEnterFullScreen();return true}else{if(typeof bu.requestFullscreen=="function"){bu.requestFullscreen();return true}else{if(typeof bu.msRequestFullscreen=="function"){bu.msRequestFullscreen();return true}else{if(typeof bu.mozRequestFullScreen=="function"){bu.mozRequestFullScreen();return true}else{if(typeof bu.webkitRequestFullscreen=="function"){bu.webkitRequestFullscreen();return true}}}}}}catch(bv){aX("Request fullscreen failed",bv)}}return false};var bf=function(bu){if(ap(bu)){try{if(bu!=null&&typeof bu.webkitExitFullScreen=="function"){bu.webkitExitFullScreen();return true}else{if(typeof document.exitFullscreen=="function"){document.exitFullscreen();return true}else{if(typeof document.msExitFullscreen=="function"){document.msExitFullscreen();return true}else{if(typeof document.mozCancelFullScreen=="function"){document.mozCancelFullScreen();return true}else{if(typeof document.webkitExitFullscreen=="function"){document.webkitExitFullscreen();
return true}}}}}}catch(bv){aX("Exit fullscreen failed",bv)}}return false};var a1=function(bu){bc=new w(bu)};var aO=function(bu){if(aH){if(bu=="local"){return bc!=null?bc.createSteam():null}return a5.createSteam()}return null};var aW=function(bu,bv){if(aH){if(bv=="local"){return bc!=null?bc.resolveToken(bu):null}return a5.resolveToken(bu)}return null};var aj=function(bu,bv){if(aH){if(bv=="local"){return bc!=null?bc.transformString(bu):null}else{if(bv=="global"){return a5.transformString(bu)}else{if(bv=="shared"){return s.transformString(bc!=null?bc.transformString(bu):bu)}}}return a5.transformString(bc!=null?bc.transformString(bu):bu)}return null};var a2=function(bu,bv){if(aH){if(bv=="local"){return bc!=null?bc.normalizeString(bu):null}else{if(bv=="global"){return a5.normalizeString(bu)}else{if(bv=="shared"){return bc!=null?bc.normalizeString(s.normalizeString(bu)):s.normalizeString(bu)}}}return bc!=null?bc.normalizeString(a5.normalizeString(bu)):a5.normalizeString(bu)}return null};var bd=function(bu){if(a.isNum(bu)){bu=a.strToNum(bu,0);
if(isFinite(bu)){return bu}}return 0};var ai=function(){if(aC.position==0||aC.duration==0){try{var bu=false;if(aC.position==0){aC.position=bd(ak.getPosition());bu=aC.position>0}if(aC.duration==0){aC.duration=bd(ak.getDuration());bu=aC.duration>0}if(aC.position>0&&aC.duration>0){aS()}if(bu){ah()}}catch(bv){aX("Start failed",bv);aS()}}else{aS()}};var aS=function(){av=true;aV()};var a9=function(){aV();if(aH&&!av&&ak!=null&&typeof ak.getPosition=="function"&&typeof ak.getDuration=="function"){bj=setInterval(ai,be)}};var aV=function(){if(bj!=null){clearInterval(bj);bj=null}};var ba=0;var aT={};var ax=function(bw){ba++;var bu=bh+ba+"_"+P.getTimestamp();var bv={timeout:new v(aA),callback:bw};aT[bu]=bv;bv.timeout.start(function(){bn(bu,{error:"Request timed out"})});return bu};var bn=function(bu,bw){if(bu!=null){var bv=aT[bu];if(bv!=null){bv.timeout.stop();delete aT[bu];an(bv.callback,bw)}}};var an=function(bw,bu){if(typeof bw=="function"){try{bw(bu)}catch(bv){aX("Callback error",bv)}}};var ag=new l();
var a0=new v(500);var aG=null;var aD=null;var ae=function(bu){if(bu!=null){if(b.isSameContentState(aG,bu)){if(!b.isSameContentState(aD,bu)){if(aD==null){bu.init=true}aD=b.createChangedContentState(aD,bu);ag.notifyObservers(aD)}}else{aG=bu}}aM()};var bb=function(){if(aH){az("info:content",function(bu){ae(bu.info!=null&&bu.info.content!=null?bu.info.content.state:null)})}else{aM()}};var aM=function(bu){if(ag.hasObservers()){if(a.isFullStr(bu)&&aD!=null){ag.notifyObserver(bu,aD)}a0.start(bb)}else{aG=null;aD=null;a0.stop()}};var ah=function(){ar(aC)};var aB=function(){aZ.addHook(bi,af)};var bt=function(){if(aC.state==N.STOPPED){aZ.stop()}else{aZ.start()}};var ao=function(bu,bv){if(a.isFullStr(bu)){ar({action:bu,data:bv!=null?bv:null})}};var aK=function(bv,bu){if(a.isFullStr(bv)){if(bu!==false){ao("logger:debug:"+bv)}}};var bp=function(bv,bu,bw){if(a.isFullStr(bv)){if(bu!==false){ao("logger:success:"+bv,{show:bw!==false})}else{if(bw!==false){ao("success:"+bv)}}}};var bs=function(bv,bu,bw){if(a.isFullStr(bv)){if(bu!==false){ao("logger:info:"+bv,{show:bw!==false})
}else{if(bw!==false){ao("info:"+bv)}}}};var bl=function(bv,bu,bw){if(a.isFullStr(bv)){if(bu!==false){ao("logger:warn:"+bv,{show:bw!==false})}else{if(bw!==false){ao("warn:"+bv)}}}};var bq=function(bv,bu,bw){if(a.isFullStr(bv)){if(bu!==false){ao("logger:error:"+bv,{show:bw!==false})}else{if(bw!==false){ao("error:"+bv)}}}};var aw=function(bu,bv){if(a.isFullStr(bu)&&bv!=null){if(typeof bv=="object"){ao(bu+":data",bv)}else{ao(bu+":"+bv)}}};var aY=function(bu){aw("menu",bu)};var a7=function(bu){aw("content",bu)};var aP=function(bu){aw("panel",bu)};var az=function(bu,bw,bv){if(a.isFullStr(bu)){if(bv==null){bv={}}bv.requestId=ax(bw);bv.dataId=bu;ao("player:commit:"+bu,bv)}else{an(bw,{error:"Data ID is invalid: '"+bu+"'"})}};var aX=function(bu,bv){if(bu!=null&&bv!=null){if(bv.name!=null&&bv.message!=null){bq("Plugin: "+bu+": "+bv.name+": "+bv.message)}else{bq("Plugin: "+bu+": "+bv)}if(ak!=null&&typeof ak.onError=="function"){try{ak.onError(bu,bv)}catch(bw){}}}};var aF=function(bu){if(aC.state!=N.PLAYING||bu===true){aC.state=N.PLAYING;
if(aH&&ak!=null&&typeof ak.play=="function"){try{ak.play()}catch(bv){aX("Play failed",bv)}}}};var bm=function(bu){if(aC.state!=N.PAUSED||bu===true){aC.state=N.PAUSED;if(aH&&ak!=null&&typeof ak.pause=="function"){try{ak.pause()}catch(bv){aX("Pause failed",bv)}}}};var au=function(bu){if(aC.state!=N.STOPPED||bu===true){aC.state=N.STOPPED;if(aH&&ak!=null&&typeof ak.stop=="function"){try{ak.stop()}catch(bv){aX("Stop failed",bv)}}}};var aJ=function(bu,bv){if(bu==N.PLAYING){aF(bv)}else{if(bu==N.PAUSED){bm(bv)}else{if(bu==N.STOPPED){au(bv)}}}};var af=function(){if(aH&&ak!=null&&!ay.isBusy()&&typeof ak.getUpdateData=="function"){try{var bv=ak.getUpdateData();if(bv!=null){var bw=false;if(a.isNum(bv.state)){bw=true;aC.state=a.strToNum(bv.state,aC.state)}if(a.isNum(bv.position)){bw=true;aC.position=a.strToNum(bv.position,aC.position);if(!isFinite(aC.position)){aC.position=0}}if(a.isNum(bv.duration)){bw=true;aC.duration=a.strToNum(bv.duration,aC.duration);if(!isFinite(aC.duration)){aC.duration=0}}if(a.isNum(bv.speed)){bw=true;
aC.speed=a.strToNum(bv.speed,aC.speed)}if(a.isBool(bv.ended)){bw=true;aC.ended=a.strToBool(bv.ended,aC.ended)}if(a.isNum(bv.volume)){bw=true;aC.volume=a.strToNum(bv.volume,aC.volume)}if(a.isBool(bv.muted)){bw=true;aC.muted=a.strToBool(bv.muted,aC.muted)}if(bw){ah();bt()}}}catch(bu){aX("Update failed",bu)}}};var bo=function(bw,bu){aq=false;if(aC.position!=bw||bw==0||bu===true){aC.position=bw;if(aH&&ak!=null&&typeof ak.setPosition=="function"){try{ak.setPosition(bw);if(!aq){ay.start()}}catch(bv){aX("Set position failed",bv)}}}};var aQ=function(bu,bw){if(aC.volume!=bu||bw===true){aC.volume=bu;if(aH&&ak!=null&&typeof ak.setVolume=="function"){try{ak.setVolume(bu)}catch(bv){aX("Set volume failed",bv)}}}};var al=function(bu,bv){if(aC.muted!=bu||bv===true){aC.muted=bu;if(aH&&ak!=null&&typeof ak.setMuted=="function"){try{ak.setMuted(bu)}catch(bw){aX("Set muted failed",bw)}}}};var aL=function(bu,bv){if(aC.speed!=bu||bv===true){aC.speed=bu;if(aH&&ak!=null&&typeof ak.setSpeed=="function"){try{ak.setSpeed(bu)
}catch(bw){aX("Set speed failed",bw)}}}};var aU=function(bv,bu,bw){if(aC.width!=bv||aC.height!=bu||bw===true){aC.width=bv;aC.height=bu;if(aH&&ak!=null&&typeof ak.setSize=="function"){try{ak.setSize(bv,bu)}catch(bx){aX("Set size failed",bx)}}}};var at=function(bu,bv){ao("response:"+bu,bv)};var a3=function(bu,bv){bn(bu,bv)};var bk=function(bv,bu,bx){if(typeof ak.handleRequest=="function"){try{ak.handleRequest(bu,bx,function(by){at(bv,by)})}catch(bw){aX("Handle request failed",bw);at(bv)}}else{at(bv)}};var aR=function(bv){if(aH&&bv!=null&&ak!=null){if(typeof ak.handleEvent=="function"){try{ak.handleEvent(bv)}catch(bu){aX("Handle event failed",bu)}}}};var ad=function(by){if(aH&&by!=null&&ak!=null){if(a.isFullStr(by.requestId)&&a.isFullStr(by.dataId)){bk(by.requestId,by.dataId,by.data)}else{if(by.data!=null&&a.isFullStr(by.data.requestId)&&a.isFullStr(by.data.dataId)){var bv={};var bx=by.data.dataId;var bu=bx.indexOf(":");if(bu>0){bx=bx.substr(0,bu)}bv[bx]=by[bx]!=null?by[bx]:null;bv.error=a.strFullCheck(by.error,null);
a3(by.data.requestId,bv)}else{if(typeof ak.handleData=="function"){try{ak.handleData(by)}catch(bw){aX("Handle data failed",bw)}}}}}};var bg=function(bu){if(!ac||bu===true){ac=true;if(ak!=null&&typeof ak.init=="function"){try{ak.init()}catch(bv){aX("Call init failed",bv)}}}};var a6=function(bu){if(!aH||bu===true){aH=true;if(ak!=null&&typeof ak.ready=="function"){try{ak.ready()}catch(bv){aX("Call ready failed",bv)}}}};var aI=function(){aH=false;window.addEventListener("message",function(bu){if(s.checkOrigin(bu.origin)){br(bu.data)}},false);ao("plugin:init")};var br=function(bu){if(ac&&bu!=null&&bu.type===bi){if(bu.init===1&&aH){return}if(a.isNum(bu.state)){aJ(a.strToNum(bu.state,aC.state))}if(a.isNum(bu.position)){bo(a.strToNum(bu.position,aC.position))}if(a.isNum(bu.speed)){aL(a.strToNum(bu.speed,aC.speed))}if(a.isNum(bu.volume)){al(false);aQ(a.strToNum(bu.volume,aC.volume))}if(a.isBool(bu.muted)){al(a.strToBool(bu.muted,aC.muted))}if(a.isNum(bu.width)&&a.isNum(bu.height)){aU(a.strToNum(bu.width,aC.width),a.strToNum(bu.height,aC.height))
}if(bu.init===1){a6()}else{if(bu.data!=null){if(a.isFullStr(bu.data.event)){aR(bu.data)}else{ad(bu.data)}}}}};var ar=function(bv){if(window.parent!=null&&bv!=null){bv.type=bi;bv.sender="plugin";bv.target="app";try{window.parent.postMessage(bv,"*")}catch(bu){if(window.console!=null){console.error("Post message failed",bu)}}}};this.setupPlayer=function(bu){ak=bu;if(ac){bg(true)}if(aH){a6(true)}};this.setSeekDelay=function(bu){ay.delay=a.strToNum(bu,ay.delay)};this.getSeekDelay=function(){return ay.delay};this.setLoadingDelay=function(bu){a4.delay=a.strToNum(bu,a4.delay)};this.getLoadingDelay=function(){return a4.delay};this.isFullscreenEnabled=function(bu){return aN(bu)};this.isFullscreenActive=function(bu){return ap(bu)};this.requestFullscreen=function(bu){return aE(bu)};this.exitFullscreen=function(bu){return bf(bu)};this.setState=function(bu,bv){if(aH){aC.state=a.strToNum(bu,aC.state);if(bv===true){ah()}bt()}};this.getState=function(){return aC.state};this.applyState=function(){if(aH){aJ(aC.state,true)
}};this.setPosition=function(bv,bu){if(aH){aq=true;aC.position=a.strToNum(bv,aC.position);if(!isFinite(aC.position)){aC.position=0}ay.stop();if(bu===true){ah();bt()}}};this.getPosition=function(){return aC.position};this.applyPosition=function(){if(aH){bo(aC.position,true)}};this.setDuration=function(bu,bv){if(aH){aC.duration=a.strToNum(bu,aC.duration);if(!isFinite(aC.duration)){aC.duration=0}if(bv===true){ah();bt()}}};this.getDuration=function(){return aC.duration};this.setSpeed=function(bu,bv){if(aH){aC.speed=a.strToNum(bu,aC.speed);if(bv===true){ah();bt()}}};this.getSpeed=function(){return aC.speed};this.applySpeed=function(){if(aH){aL(aC.speed,true)}};this.setEnded=function(bu,bv){if(aH){aC.ended=a.strToBool(bu,aC.ended);if(bv===true){ah();bt()}}};this.hasEnded=function(){return aC.ended};this.setVolume=function(bv,bu){if(aH){aC.volume=a.strToNum(bv,aC.volume);if(bu===true){ah();bt()}}};this.getVolume=function(){return aC.volume};this.setMuted=function(bu,bv){if(aH){aC.muted=a.strToBool(bu,aC.muted);
if(bv===true){ah();bt()}}};this.isMuted=function(){return aC.muted};this.applyVolume=function(){if(aH){aQ(aC.volume,true);al(aC.muted,true)}};this.getWidth=function(){return aC.width};this.getHeight=function(){return aC.height};this.applySize=function(){if(aH){aU(aC.width,aC.height,true)}};this.executeAction=function(bu,bv){if(aH){ao(bu,bv)}};this.debug=function(bv,bu){if(aH){aK(bv,bu)}};this.success=function(bv,bu,bw){if(aH){bp(bv,bu,bw)}};this.info=function(bv,bu,bw){if(aH){bs(bv,bu,bw)}};this.warn=function(bv,bu,bw){if(aH){bl(bv,bu,bw)}};this.error=function(bv,bu,bw){if(aH){bq(bv,bu,bw)}};this.showMenu=function(bu){if(aH){aY(bu)}};this.showContent=function(bu){if(aH){a7(bu)}};this.showPanel=function(bu){if(aH){aP(bu)}};this.showPlayer=function(bu){if(aH){if(a.isFullStr(bu)){ao("player:show:"+bu)}else{ao("player:show")}}};this.showAction=function(){if(aH){ao("player:action")}};this.hidePlayer=function(){if(aH){ao("player:hide")}};this.setupContentLabel=function(bu){if(aH){ao("player:label:content:"+a.strFullCheck(bu,"default"))
}};this.setupExtensionLabel=function(bu){if(aH){ao("player:label:extension:"+a.strFullCheck(bu,"default"))}};this.setupPositionLabel=function(bu){if(aH){ao("player:label:position:"+a.strFullCheck(bu,"default"))}};this.setupDurationLabel=function(bu){if(aH){ao("player:label:duration:"+a.strFullCheck(bu,"default"))}};this.setupSpeedLabel=function(bu){if(aH){ao("player:label:speed:"+a.strFullCheck(bu,"default"))}};this.setupInfoText=function(bu){if(aH){ao("player:info:text:"+a.strFullCheck(bu,"default"))}};this.setupInfoImage=function(bu){if(aH){ao("player:info:image:"+a.strFullCheck(bu,"default"))}};this.setupInfoOverlay=function(bu){if(aH){ao("player:info:overlay:"+a.strFullCheck(bu,"default"))}};this.setupInfoSize=function(bu){if(aH){ao("player:info:size:"+a.strFullCheck(bu,"default"))}};this.setupControlAction=function(bu){if(aH){ao("player:control:action:"+a.strFullCheck(bu,"default"))}};this.setupButton=function(bu,bv){if(aH&&a.isId(bu)){ao("player:button:"+bu+":setup",bv)}};this.enableButton=function(bu){if(aH&&a.isId(bu)){ao("player:button:"+bu+":enable")
}};this.disableButton=function(bu){if(aH&&a.isId(bu)){ao("player:button:"+bu+":disable")}};this.focusButton=function(bu){if(aH&&a.isId(bu)){ao("player:button:"+bu+":focus")}};this.setupProgressPosition=function(bu){if(aH){ao("player:progress:position:"+a.strToNum(bu,-1))}};this.setupProgressDuration=function(bu){if(aH){ao("player:progress:duration:"+a.strToNum(bu,-1))}};this.setupProgressColor=function(bu){if(aH){ao("player:progress:color:"+a.strFullCheck(bu,"default"))}};this.setupProgressType=function(bu){if(aH){ao("player:progress:type:"+a.strFullCheck(bu,"default"))}};this.enableProgressMarker=function(){if(aH){ao("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(aH){ao("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(aH){ao("player:progress:marker:invalidate")}};this.setupBackground=function(bu){if(aH){ao("player:background:"+a.strFullCheck(bu,"default"))}};this.setupTrigger=function(bu,bv,bw){if(aH&&a.isFullStr(bu)&&a.isFullStr(bv)){if(bw===true){ao("trigger:"+bu+":shot:"+bv)
}else{ao("trigger:"+bu+":"+bv)}}};this.clearTrigger=function(bu){if(aH&&a.isFullStr(bu)){ao("trigger:"+bu+":none")}};this.refreshPlayer=function(){if(aH){ao("player:refresh")}};this.resetPlayer=function(){if(aH){ao("player:reset")}};this.cancelResume=function(){if(aH){ao("resume:cancel")}};this.requestData=function(bu,bw,bv){if(aH){az(bu,bw,bv)}else{an(bw,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(bu,bw,bv){if(a.isFullStr(bu)){this.requestData("response:request:interaction:"+bu,bw,bv!=null?{requestData:bv}:null)}else{an(bw,{error:"Data ID is invalid: '"+bu+"'"})}};this.validateSettings=function(bu){b.invalidateSettings();this.requestData("info",function(bv){b.validateSettings(bv);an(bu,bv)})};this.onValidatedSettings=function(bu){if(!b.areSettingsValidated()&&!a8){a8=true;this.validateSettings(function(){a8=false})}b.onValidatedSettings(bu)};this.triggerEvent=function(bu,bv){if(aH&&a.isFullStr(bu)){ao("event:"+bu,bv)}};this.setupSteam=function(bu){a1(bu)};this.createSteam=function(bu){return aO(bu)
};this.resolveToken=function(bu,bv){return aW(bu,bv)};this.transformString=function(bu,bv){return aj(bu,bv)};this.normalizeString=function(bu,bv){return a2(bu,bv)};this.transformStringAsync=function(bw,bx,bv){var bu=aj(bw,bx);if(a.isFullStr(bu)){this.requestData("string:transform:"+bu,function(by){an(bv,{string:a.strFullCheck(by.string,null)})})}else{an(bv,{string:null})}};this.normalizeStringAsync=function(bv,bw,bu){if(a.isFullStr(bv)){this.requestData("string:normalize:"+bv,function(bx){an(bu,{string:a2(bx.string,bw)})})}else{an(bu,{string:null})}};this.createHashKey=function(bu,bv){return s.createHashKey(bu,bv)};this.clearDeviceId=function(){s.clearDeviceId()};this.getDeviceId=function(bu){return s.getDeviceId(bu)};this.requestDeviceId=function(bu){this.requestData("info:extended",function(bv){if(bv.error!=null){an(bu,{error:bv.error})}else{an(bu,{deviceId:s.getDeviceId(bv)})}})};this.hasContentObservers=function(){return ag.hasObservers()};this.addContentObserver=function(bu,bv){ag.addObserver(bu,bv);
aM(bu)};this.removeContentObserver=function(bu){ag.removeObserver(bu);aM()};this.clearContentObservers=function(){ag.clear();aM()};this.init=function(){if(!ac){aI();aB();bg()}};this.commit=function(){if(aH){ah();bt()}};this.isInitialized=function(){return ac};this.isReady=function(){return aH};this.startPlayback=function(bu){if(aH){aJ(N.PLAYING,true);ah();bt();if(bu===true){a9()}}};this.stopPlayback=function(){if(aH){this.setEnded(true);aV()}};this.cancelPlayback=function(){if(aH){ao("player:eject")}};this.startLoading=function(bu){if(aH){if(am){ao("player:busy:start:player")}else{if(!a4.isBusy()||bu!==false){a4.start(function(){am=true;ao("player:busy:start:player")})}}}};this.stopLoading=function(){if(aH){a4.stop();if(am){am=false;ao("player:busy:stop:player")}}};this.executeHandler=function(bu,bw){if(typeof bu=="function"){try{if(bw!=null){an(bw,bu())}else{bu()}}catch(bv){aX("Execute handler failed",bv);if(bw!=null){an(bw,null)}}}}};var M=new function(){var af="interactionPlugin";var aK="irq";
var aA=10;var a2=30000;var ar=new w("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");var ak=null;var aj=false;var aM=new v(1000);var aU=false;var aC=false;var aw=null;var aT=false;var aY=null;var at=function(a6){ak=new w(a6)};var aD=function(a6){if(aU){if(a6=="local"){return ak!=null?ak.createSteam():null}return ar.createSteam()}return null};var ad=function(a6,a7){if(aU){if(a7=="local"){return ak!=null?ak.resolveToken(a6):null}return ar.resolveToken(a6)}return null};var aN=function(a6,a7){if(aU){if(a7=="local"){return ak!=null?ak.transformString(a6):null}else{if(a7=="global"){return ar.transformString(a6)}else{if(a7=="shared"){return s.transformString(ak!=null?ak.transformString(a6):a6)}}}return ar.transformString(ak!=null?ak.transformString(a6):a6)}return null};var aq=function(a6,a7){if(aU){if(a7=="local"){return ak!=null?ak.normalizeString(a6):null}else{if(a7=="global"){return ar.normalizeString(a6)
}else{if(a7=="shared"){return ak!=null?ak.normalizeString(s.normalizeString(a6)):s.normalizeString(a6)}}}return ak!=null?ak.normalizeString(ar.normalizeString(a6)):ar.normalizeString(a6)}return null};var a3=0;var aX={};var aF=function(a8){a3++;var a6=aK+a3+"_"+P.getTimestamp();var a7={timeout:new v(a2),callback:a8};aX[a6]=a7;a7.timeout.start(function(){aH(a6,{error:"Request timed out"})});return a6};var aH=function(a6,a8){if(a6!=null){var a7=aX[a6];if(a7!=null){a7.timeout.stop();delete aX[a6];an(a7.callback,a8)}}};var an=function(a8,a6){if(typeof a8=="function"){try{a8(a6)}catch(a7){ay("Callback error",a7)}}};var a1=new l();var ax=new v(500);var aI=null;var aP=null;var au=function(a6){if(a6!=null){if(b.isSameContentState(aI,a6)){if(!b.isSameContentState(aP,a6)){if(aP==null){a6.init=true}aP=b.createChangedContentState(aP,a6);a1.notifyObservers(aP)}}else{aI=a6}}av()};var aS=function(){if(aU){aE("info:content",function(a6){au(a6.info!=null&&a6.info.content!=null?a6.info.content.state:null)
})}else{av()}};var av=function(a6){if(a1.hasObservers()){if(a.isFullStr(a6)&&aP!=null){a1.notifyObserver(a6,aP)}ax.start(aS)}else{aI=null;aP=null;ax.stop()}};var al=function(a6,a7){if(a.isFullStr(a6)){ao({action:a6,data:a7!=null?a7:null})}};var aO=function(a7,a6){if(a.isFullStr(a7)){if(a6!==false){al("logger:debug:"+a7)}}};var aL=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){al("logger:success:"+a7,{show:a8!==false})}else{if(a8!==false){al("success:"+a7)}}}};var a5=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){al("logger:info:"+a7,{show:a8!==false})}else{if(a8!==false){al("info:"+a7)}}}};var az=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){al("logger:warn:"+a7,{show:a8!==false})}else{if(a8!==false){al("warn:"+a7)}}}};var aG=function(a7,a6,a8){if(a.isFullStr(a7)){if(a6!==false){al("logger:error:"+a7,{show:a8!==false})}else{if(a8!==false){al("error:"+a7)}}}};var ah=function(a6,a7){if(a.isFullStr(a6)&&a7!=null){if(typeof a7=="object"){al(a6+":data",a7)}else{al(a6+":"+a7)
}}};var aW=function(a6){ah("menu",a6)};var ap=function(a6){ah("content",a6)};var am=function(a6){ah("panel",a6)};var aE=function(a6,a8,a7){if(a.isFullStr(a6)){if(a7==null){a7={}}a7.requestId=aF(a8);a7.dataId=a6;al("interaction:commit:"+a6,a7)}else{an(a8,{error:"Data ID is invalid: '"+a6+"'"})}};var ay=function(a6,a7){if(a6!=null&&a7!=null){if(a7.name!=null&&a7.message!=null){aG("Interaction: "+a6+": "+a7.name+": "+a7.message)}else{aG("Interaction: "+a6+": "+a7)}if(aw!=null&&typeof aw.onError=="function"){try{aw.onError(a6,a7)}catch(a8){}}}};var aR=function(a6,a7){al("response:"+a6,a7)};var aB=function(a6,a7){aH(a6,a7)};var ac=function(a7,a6,a9){if(typeof aw.handleRequest=="function"){try{aw.handleRequest(a6,a9,function(ba){aR(a7,ba)})}catch(a8){ay("Handle request failed",a8);aR(a7)}}else{aR(a7)}};var a4=function(a7){if(aU&&a7!=null&&aw!=null){if(typeof aw.handleEvent=="function"){try{aw.handleEvent(a7)}catch(a6){ay("Handle event failed",a6)}}}};var aJ=function(ba){if(aU&&ba!=null&&aw!=null){if(a.isFullStr(ba.requestId)&&a.isFullStr(ba.dataId)){ac(ba.requestId,ba.dataId,ba.data)
}else{if(ba.data!=null&&a.isFullStr(ba.data.requestId)&&a.isFullStr(ba.data.dataId)){var a7={};var a9=ba.data.dataId;var a6=a9.indexOf(":");if(a6>0){a9=a9.substr(0,a6)}a7[a9]=ba[a9]!=null?ba[a9]:null;a7.error=a.strFullCheck(ba.error,null);aB(ba.data.requestId,a7)}else{if(typeof aw.handleData=="function"){try{aw.handleData(ba)}catch(a8){ay("Handle data failed",a8)}}}}}};var aZ=function(a6){aY=a6!=null&&a6.length>0?a6:null};var ai=function(){if(aY!=null&&aY.length>0){for(var a6=0;a6<aY.length;a6++){aJ(aY[a6])}}aY=null};var a0=function(a6){if(aU&&a6!=null){if(aY==null){aY=[]}if(aY.length>=aA){aY.shift()}aY.push(a6)}};var ag=function(a6){if(!aC||a6===true){aC=true;if(aw!=null&&typeof aw.init=="function"){try{aw.init()}catch(a7){ay("Call init failed",a7)}}}};var aV=function(a6){if(!aU||a6===true){aU=true;if(aw!=null&&typeof aw.ready=="function"){try{aw.ready()}catch(a7){ay("Call ready failed",a7)}}if(aw!=null){ai()}}};var aQ=function(){aU=false;window.addEventListener("message",function(a6){if(s.checkOrigin(a6.origin)){ae(a6.data)
}},false);al("interaction:init")};var ae=function(a6){if(aC&&a6!=null&&a6.type===af){if(a6.init===1&&aU){return}if(a6.init===1){aZ(a6.data);aV()}else{if(a6.data!=null){if(a.isFullStr(a6.data.event)){a4(a6.data)}else{if(aw!=null){aJ(a6.data)}else{a0(a6.data)}}}}}};var ao=function(a7){if(window.parent!=null&&a7!=null){a7.type=af;a7.sender="plugin";a7.target="app";try{window.parent.postMessage(a7,"*")}catch(a6){if(window.console!=null){console.error("Post message failed",a6)}}}};this.setupHandler=function(a6){aw=a6;if(aC){ag(true)}if(aU){aV(true)}};this.setLoadingDelay=function(a6){aM.delay=a.strToNum(a6,aM.delay)};this.getLoadingDelay=function(){return aM.delay};this.executeAction=function(a6,a7){if(aU){al(a6,a7)}};this.debug=function(a7,a6){if(aU){aO(a7,a6)}};this.success=function(a7,a6,a8){if(aU){aL(a7,a6,a8)}};this.info=function(a7,a6,a8){if(aU){a5(a7,a6,a8)}};this.warn=function(a7,a6,a8){if(aU){az(a7,a6,a8)}};this.error=function(a7,a6,a8){if(aU){aG(a7,a6,a8)}};this.showMenu=function(a6){if(aU){aW(a6)
}};this.showContent=function(a6){if(aU){ap(a6)}};this.showPanel=function(a6){if(aU){am(a6)}};this.requestData=function(a6,a8,a7){if(aU){aE(a6,a8,a7)}else{an(a8,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(a6,a8,a7){if(a.isFullStr(a6)){this.requestData("response:request:player:"+a6,a8,a7!=null?{requestData:a7}:null)}else{an(a8,{error:"Data ID is invalid: '"+a6+"'"})}};this.validateSettings=function(a6){b.invalidateSettings();this.requestData("info",function(a7){b.validateSettings(a7);an(a6,a7)})};this.onValidatedSettings=function(a6){if(!b.areSettingsValidated()&&!aT){aT=true;this.validateSettings(function(){aT=false})}b.onValidatedSettings(a6)};this.triggerEvent=function(a6,a7){if(aU&&a.isFullStr(a6)){al("event:"+a6,a7)}};this.setupSteam=function(a6){at(a6)};this.createSteam=function(a6){return aD(a6)};this.resolveToken=function(a6,a7){return ad(a6,a7)};this.transformString=function(a6,a7){return aN(a6,a7)};this.normalizeString=function(a6,a7){return aq(a6,a7)};this.transformStringAsync=function(a8,a9,a7){var a6=aN(a8,a9);
if(a.isFullStr(a6)){this.requestData("string:transform:"+a6,function(ba){an(a7,{string:a.strFullCheck(ba.string,null)})})}else{an(a7,{string:null})}};this.normalizeStringAsync=function(a7,a8,a6){if(a.isFullStr(a7)){this.requestData("string:normalize:"+a7,function(a9){an(a6,{string:aq(a9.string,a8)})})}else{an(a6,{string:null})}};this.createHashKey=function(a6,a7){return s.createHashKey(a6,a7)};this.clearDeviceId=function(){s.clearDeviceId()};this.getDeviceId=function(a6){return s.getDeviceId(a6)};this.requestDeviceId=function(a6){this.requestData("info:extended",function(a7){if(a7.error!=null){an(a6,{error:a7.error})}else{an(a6,{deviceId:s.getDeviceId(a7)})}})};this.hasContentObservers=function(){return a1.hasObservers()};this.addContentObserver=function(a6,a7){a1.addObserver(a6,a7);av(a6)};this.removeContentObserver=function(a6){a1.removeObserver(a6);av()};this.clearContentObservers=function(){a1.clear();av()};this.init=function(){if(!aC){aQ();ag()}};this.isInitialized=function(){return aC
};this.isReady=function(){return aU};this.startLoading=function(a6){if(aU){if(aj){al("interaction:busy:start:interaction")}else{if(!aM.isBusy()||a6!==false){aM.start(function(){aj=true;al("interaction:busy:start:interaction")})}}}};this.stopLoading=function(){if(aU){aM.stop();if(aj){aj=false;al("interaction:busy:stop:interaction")}}};this.executeHandler=function(a6,a8){if(typeof a6=="function"){try{if(a8!=null){an(a8,a6())}else{a6()}}catch(a7){ay("Execute handler failed",a7);if(a8!=null){an(a8,null)}}}}};return{Settings:p,Styles:q,Tools:a,DateTools:P,DateFormatter:Y,PropertyTools:W,VideoState:N,Action:i,Cookies:B,Storage:f,UrlParams:ab,Options:h,Observers:l,EventObservers:aa,Queue:L,Worker:e,Delay:v,Click:S,Ajax:o,LogLevel:A,Logger:J,Dictionary:x,Clock:m,DataLoader:I,Services:O,DataService:R,BlobService:z,RequestService:K,BusyService:c,Effects:j,AnimationController:T,ColorTools:E,Transit:u,Particles:Z,Drawing:y,Renderer:n,ElementTools:D,Selector:d,SelectorTools:t,ImageTools:C,ItemTools:H,StyleTools:G,MoveMode:V,ControlTools:r,BusyIndicator:Q,WakeLock:g,SceneManager:U,PluginTools:b,VideoPlugin:X,InteractionPlugin:M}
}));